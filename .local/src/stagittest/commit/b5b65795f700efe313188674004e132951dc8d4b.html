<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>clean dwm version - .dotfiles - Unnamed repository; edit this file &#39;description&#39; to name the repository.
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title=".dotfiles Atom Feed" href="../atom.xml" />
<link rel="alternate" type="application/atom+xml" title=".dotfiles Atom Feed (tags)" href="../tags.xml" />
<link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="../logo.png" alt="" width="32" height="32" /></a></td><td><h1>.dotfiles</h1><span class="desc">Unnamed repository; edit this file &#39;description&#39; to name the repository.
</span></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/b5b65795f700efe313188674004e132951dc8d4b.html">b5b65795f700efe313188674004e132951dc8d4b</a>
<b>parent</b> <a href="../commit/f8a121fc5a09d86a9bf573ea7bae5faee39a5bdf.html">f8a121fc5a09d86a9bf573ea7bae5faee39a5bdf</a>
<b>Author:</b> diego &lt;<a href="mailto:driverag22@gmail.com">driverag22@gmail.com</a>&gt;
<b>Date:</b>   Mon, 26 Dec 2022 13:53:29 +0100

clean dwm version

<b>Diffstat:</b>
<table><tr><td class="A">A</td><td><a href="#h0">.local/src/dwm/.gitignore</a></td><td> | </td><td class="num">13</td><td><span class="i">+++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h1">.local/src/dwm/LICENSE</a></td><td> | </td><td class="num">38</td><td><span class="i">++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h2">.local/src/dwm/Makefile</a></td><td> | </td><td class="num">51</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h3">.local/src/dwm/README</a></td><td> | </td><td class="num">48</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h4">.local/src/dwm/config.def.h</a></td><td> | </td><td class="num">116</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h5">.local/src/dwm/config.h</a></td><td> | </td><td class="num">143</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h6">.local/src/dwm/config.mk</a></td><td> | </td><td class="num">39</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h7">.local/src/dwm/drw.c</a></td><td> | </td><td class="num">450</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h8">.local/src/dwm/drw.h</a></td><td> | </td><td class="num">58</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h9">.local/src/dwm/drw.o</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h10">.local/src/dwm/dwm</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h11">.local/src/dwm/dwm.1</a></td><td> | </td><td class="num">176</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h12">.local/src/dwm/dwm.c</a></td><td> | </td><td class="num">2159</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h13">.local/src/dwm/dwm.o</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h14">.local/src/dwm/dwm.png</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h15">.local/src/dwm/transient.c</a></td><td> | </td><td class="num">42</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h16">.local/src/dwm/util.c</a></td><td> | </td><td class="num">36</td><td><span class="i">++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h17">.local/src/dwm/util.h</a></td><td> | </td><td class="num">8</td><td><span class="i">++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h18">.local/src/dwm/util.o</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
</table></pre><pre>19 files changed, 3377 insertions(+), 0 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/.local/src/dwm/.gitignore.html">.local/src/dwm/.gitignore</a> b/<a href="../file/.local/src/dwm/.gitignore.html">.local/src/dwm/.gitignore</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -0,0 +1,13 @@
</a><a href="#h0-0-0" id="h0-0-0" class="i">+*.tar
</a><a href="#h0-0-1" id="h0-0-1" class="i">+*.tar.*
</a><a href="#h0-0-2" id="h0-0-2" class="i">+*.jar
</a><a href="#h0-0-3" id="h0-0-3" class="i">+*.exe
</a><a href="#h0-0-4" id="h0-0-4" class="i">+*.msi
</a><a href="#h0-0-5" id="h0-0-5" class="i">+*.zip
</a><a href="#h0-0-6" id="h0-0-6" class="i">+*.tgz
</a><a href="#h0-0-7" id="h0-0-7" class="i">+*.log
</a><a href="#h0-0-8" id="h0-0-8" class="i">+*.log.*
</a><a href="#h0-0-9" id="h0-0-9" class="i">+*.sig
</a><a href="#h0-0-10" id="h0-0-10" class="i">+
</a><a href="#h0-0-11" id="h0-0-11" class="i">+pkg/
</a><a href="#h0-0-12" id="h0-0-12" class="i">+src/
</a><b>diff --git a/<a id="h1" href="../file/.local/src/dwm/LICENSE.html">.local/src/dwm/LICENSE</a> b/<a href="../file/.local/src/dwm/LICENSE.html">.local/src/dwm/LICENSE</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -0,0 +1,38 @@
</a><a href="#h1-0-0" id="h1-0-0" class="i">+MIT/X Consortium License
</a><a href="#h1-0-1" id="h1-0-1" class="i">+
</a><a href="#h1-0-2" id="h1-0-2" class="i">+© 2006-2019 Anselm R Garbe &lt;anselm@garbe.ca&gt;
</a><a href="#h1-0-3" id="h1-0-3" class="i">+© 2006-2009 Jukka Salmi &lt;jukka at salmi dot ch&gt;
</a><a href="#h1-0-4" id="h1-0-4" class="i">+© 2006-2007 Sander van Dijk &lt;a dot h dot vandijk at gmail dot com&gt;
</a><a href="#h1-0-5" id="h1-0-5" class="i">+© 2007-2011 Peter Hartlich &lt;sgkkr at hartlich dot com&gt;
</a><a href="#h1-0-6" id="h1-0-6" class="i">+© 2007-2009 Szabolcs Nagy &lt;nszabolcs at gmail dot com&gt;
</a><a href="#h1-0-7" id="h1-0-7" class="i">+© 2007-2009 Christof Musik &lt;christof at sendfax dot de&gt;
</a><a href="#h1-0-8" id="h1-0-8" class="i">+© 2007-2009 Premysl Hruby &lt;dfenze at gmail dot com&gt;
</a><a href="#h1-0-9" id="h1-0-9" class="i">+© 2007-2008 Enno Gottox Boland &lt;gottox at s01 dot de&gt;
</a><a href="#h1-0-10" id="h1-0-10" class="i">+© 2008 Martin Hurton &lt;martin dot hurton at gmail dot com&gt;
</a><a href="#h1-0-11" id="h1-0-11" class="i">+© 2008 Neale Pickett &lt;neale dot woozle dot org&gt;
</a><a href="#h1-0-12" id="h1-0-12" class="i">+© 2009 Mate Nagy &lt;mnagy at port70 dot net&gt;
</a><a href="#h1-0-13" id="h1-0-13" class="i">+© 2010-2016 Hiltjo Posthuma &lt;hiltjo@codemadness.org&gt;
</a><a href="#h1-0-14" id="h1-0-14" class="i">+© 2010-2012 Connor Lane Smith &lt;cls@lubutu.com&gt;
</a><a href="#h1-0-15" id="h1-0-15" class="i">+© 2011 Christoph Lohmann &lt;20h@r-36.net&gt;
</a><a href="#h1-0-16" id="h1-0-16" class="i">+© 2015-2016 Quentin Rameau &lt;quinq@fifth.space&gt;
</a><a href="#h1-0-17" id="h1-0-17" class="i">+© 2015-2016 Eric Pruitt &lt;eric.pruitt@gmail.com&gt;
</a><a href="#h1-0-18" id="h1-0-18" class="i">+© 2016-2017 Markus Teich &lt;markus.teich@stusta.mhn.de&gt;
</a><a href="#h1-0-19" id="h1-0-19" class="i">+© 2020-2022 Chris Down &lt;chris@chrisdown.name&gt;
</a><a href="#h1-0-20" id="h1-0-20" class="i">+
</a><a href="#h1-0-21" id="h1-0-21" class="i">+Permission is hereby granted, free of charge, to any person obtaining a
</a><a href="#h1-0-22" id="h1-0-22" class="i">+copy of this software and associated documentation files (the &quot;Software&quot;),
</a><a href="#h1-0-23" id="h1-0-23" class="i">+to deal in the Software without restriction, including without limitation
</a><a href="#h1-0-24" id="h1-0-24" class="i">+the rights to use, copy, modify, merge, publish, distribute, sublicense,
</a><a href="#h1-0-25" id="h1-0-25" class="i">+and/or sell copies of the Software, and to permit persons to whom the
</a><a href="#h1-0-26" id="h1-0-26" class="i">+Software is furnished to do so, subject to the following conditions:
</a><a href="#h1-0-27" id="h1-0-27" class="i">+
</a><a href="#h1-0-28" id="h1-0-28" class="i">+The above copyright notice and this permission notice shall be included in
</a><a href="#h1-0-29" id="h1-0-29" class="i">+all copies or substantial portions of the Software.
</a><a href="#h1-0-30" id="h1-0-30" class="i">+
</a><a href="#h1-0-31" id="h1-0-31" class="i">+THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
</a><a href="#h1-0-32" id="h1-0-32" class="i">+IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
</a><a href="#h1-0-33" id="h1-0-33" class="i">+FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
</a><a href="#h1-0-34" id="h1-0-34" class="i">+THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
</a><a href="#h1-0-35" id="h1-0-35" class="i">+LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
</a><a href="#h1-0-36" id="h1-0-36" class="i">+FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
</a><a href="#h1-0-37" id="h1-0-37" class="i">+DEALINGS IN THE SOFTWARE.
</a><b>diff --git a/<a id="h2" href="../file/.local/src/dwm/Makefile.html">.local/src/dwm/Makefile</a> b/<a href="../file/.local/src/dwm/Makefile.html">.local/src/dwm/Makefile</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -0,0 +1,51 @@
</a><a href="#h2-0-0" id="h2-0-0" class="i">+# dwm - dynamic window manager
</a><a href="#h2-0-1" id="h2-0-1" class="i">+# See LICENSE file for copyright and license details.
</a><a href="#h2-0-2" id="h2-0-2" class="i">+
</a><a href="#h2-0-3" id="h2-0-3" class="i">+include config.mk
</a><a href="#h2-0-4" id="h2-0-4" class="i">+
</a><a href="#h2-0-5" id="h2-0-5" class="i">+SRC = drw.c dwm.c util.c
</a><a href="#h2-0-6" id="h2-0-6" class="i">+OBJ = ${SRC:.c=.o}
</a><a href="#h2-0-7" id="h2-0-7" class="i">+
</a><a href="#h2-0-8" id="h2-0-8" class="i">+all: options dwm
</a><a href="#h2-0-9" id="h2-0-9" class="i">+
</a><a href="#h2-0-10" id="h2-0-10" class="i">+options:
</a><a href="#h2-0-11" id="h2-0-11" class="i">+	@echo dwm build options:
</a><a href="#h2-0-12" id="h2-0-12" class="i">+	@echo &quot;CFLAGS   = ${CFLAGS}&quot;
</a><a href="#h2-0-13" id="h2-0-13" class="i">+	@echo &quot;LDFLAGS  = ${LDFLAGS}&quot;
</a><a href="#h2-0-14" id="h2-0-14" class="i">+	@echo &quot;CC       = ${CC}&quot;
</a><a href="#h2-0-15" id="h2-0-15" class="i">+
</a><a href="#h2-0-16" id="h2-0-16" class="i">+.c.o:
</a><a href="#h2-0-17" id="h2-0-17" class="i">+	${CC} -c ${CFLAGS} $&lt;
</a><a href="#h2-0-18" id="h2-0-18" class="i">+
</a><a href="#h2-0-19" id="h2-0-19" class="i">+${OBJ}: config.h config.mk
</a><a href="#h2-0-20" id="h2-0-20" class="i">+
</a><a href="#h2-0-21" id="h2-0-21" class="i">+config.h:
</a><a href="#h2-0-22" id="h2-0-22" class="i">+	cp config.def.h $@
</a><a href="#h2-0-23" id="h2-0-23" class="i">+
</a><a href="#h2-0-24" id="h2-0-24" class="i">+dwm: ${OBJ}
</a><a href="#h2-0-25" id="h2-0-25" class="i">+	${CC} -o $@ ${OBJ} ${LDFLAGS}
</a><a href="#h2-0-26" id="h2-0-26" class="i">+
</a><a href="#h2-0-27" id="h2-0-27" class="i">+clean:
</a><a href="#h2-0-28" id="h2-0-28" class="i">+	rm -f dwm ${OBJ} dwm-${VERSION}.tar.gz
</a><a href="#h2-0-29" id="h2-0-29" class="i">+
</a><a href="#h2-0-30" id="h2-0-30" class="i">+dist: clean
</a><a href="#h2-0-31" id="h2-0-31" class="i">+	mkdir -p dwm-${VERSION}
</a><a href="#h2-0-32" id="h2-0-32" class="i">+	cp -R LICENSE Makefile README config.def.h config.mk\
</a><a href="#h2-0-33" id="h2-0-33" class="i">+		dwm.1 drw.h util.h ${SRC} dwm.png transient.c dwm-${VERSION}
</a><a href="#h2-0-34" id="h2-0-34" class="i">+	tar -cf dwm-${VERSION}.tar dwm-${VERSION}
</a><a href="#h2-0-35" id="h2-0-35" class="i">+	gzip dwm-${VERSION}.tar
</a><a href="#h2-0-36" id="h2-0-36" class="i">+	rm -rf dwm-${VERSION}
</a><a href="#h2-0-37" id="h2-0-37" class="i">+
</a><a href="#h2-0-38" id="h2-0-38" class="i">+install: all
</a><a href="#h2-0-39" id="h2-0-39" class="i">+	mkdir -p ${DESTDIR}${PREFIX}/bin
</a><a href="#h2-0-40" id="h2-0-40" class="i">+	cp -f dwm ${DESTDIR}${PREFIX}/bin
</a><a href="#h2-0-41" id="h2-0-41" class="i">+	chmod 755 ${DESTDIR}${PREFIX}/bin/dwm
</a><a href="#h2-0-42" id="h2-0-42" class="i">+	mkdir -p ${DESTDIR}${MANPREFIX}/man1
</a><a href="#h2-0-43" id="h2-0-43" class="i">+	sed &quot;s/VERSION/${VERSION}/g&quot; &lt; dwm.1 &gt; ${DESTDIR}${MANPREFIX}/man1/dwm.1
</a><a href="#h2-0-44" id="h2-0-44" class="i">+	chmod 644 ${DESTDIR}${MANPREFIX}/man1/dwm.1
</a><a href="#h2-0-45" id="h2-0-45" class="i">+
</a><a href="#h2-0-46" id="h2-0-46" class="i">+uninstall:
</a><a href="#h2-0-47" id="h2-0-47" class="i">+	rm -f ${DESTDIR}${PREFIX}/bin/dwm\
</a><a href="#h2-0-48" id="h2-0-48" class="i">+		${DESTDIR}${MANPREFIX}/man1/dwm.1
</a><a href="#h2-0-49" id="h2-0-49" class="i">+
</a><a href="#h2-0-50" id="h2-0-50" class="i">+.PHONY: all options clean dist install uninstall
</a><b>diff --git a/<a id="h3" href="../file/.local/src/dwm/README.html">.local/src/dwm/README</a> b/<a href="../file/.local/src/dwm/README.html">.local/src/dwm/README</a></b>
<a href="#h3-0" id="h3-0" class="h">@@ -0,0 +1,48 @@
</a><a href="#h3-0-0" id="h3-0-0" class="i">+dwm - dynamic window manager
</a><a href="#h3-0-1" id="h3-0-1" class="i">+============================
</a><a href="#h3-0-2" id="h3-0-2" class="i">+dwm is an extremely fast, small, and dynamic window manager for X.
</a><a href="#h3-0-3" id="h3-0-3" class="i">+
</a><a href="#h3-0-4" id="h3-0-4" class="i">+
</a><a href="#h3-0-5" id="h3-0-5" class="i">+Requirements
</a><a href="#h3-0-6" id="h3-0-6" class="i">+------------
</a><a href="#h3-0-7" id="h3-0-7" class="i">+In order to build dwm you need the Xlib header files.
</a><a href="#h3-0-8" id="h3-0-8" class="i">+
</a><a href="#h3-0-9" id="h3-0-9" class="i">+
</a><a href="#h3-0-10" id="h3-0-10" class="i">+Installation
</a><a href="#h3-0-11" id="h3-0-11" class="i">+------------
</a><a href="#h3-0-12" id="h3-0-12" class="i">+Edit config.mk to match your local setup (dwm is installed into
</a><a href="#h3-0-13" id="h3-0-13" class="i">+the /usr/local namespace by default).
</a><a href="#h3-0-14" id="h3-0-14" class="i">+
</a><a href="#h3-0-15" id="h3-0-15" class="i">+Afterwards enter the following command to build and install dwm (if
</a><a href="#h3-0-16" id="h3-0-16" class="i">+necessary as root):
</a><a href="#h3-0-17" id="h3-0-17" class="i">+
</a><a href="#h3-0-18" id="h3-0-18" class="i">+    make clean install
</a><a href="#h3-0-19" id="h3-0-19" class="i">+
</a><a href="#h3-0-20" id="h3-0-20" class="i">+
</a><a href="#h3-0-21" id="h3-0-21" class="i">+Running dwm
</a><a href="#h3-0-22" id="h3-0-22" class="i">+-----------
</a><a href="#h3-0-23" id="h3-0-23" class="i">+Add the following line to your .xinitrc to start dwm using startx:
</a><a href="#h3-0-24" id="h3-0-24" class="i">+
</a><a href="#h3-0-25" id="h3-0-25" class="i">+    exec dwm
</a><a href="#h3-0-26" id="h3-0-26" class="i">+
</a><a href="#h3-0-27" id="h3-0-27" class="i">+In order to connect dwm to a specific display, make sure that
</a><a href="#h3-0-28" id="h3-0-28" class="i">+the DISPLAY environment variable is set correctly, e.g.:
</a><a href="#h3-0-29" id="h3-0-29" class="i">+
</a><a href="#h3-0-30" id="h3-0-30" class="i">+    DISPLAY=foo.bar:1 exec dwm
</a><a href="#h3-0-31" id="h3-0-31" class="i">+
</a><a href="#h3-0-32" id="h3-0-32" class="i">+(This will start dwm on display :1 of the host foo.bar.)
</a><a href="#h3-0-33" id="h3-0-33" class="i">+
</a><a href="#h3-0-34" id="h3-0-34" class="i">+In order to display status info in the bar, you can do something
</a><a href="#h3-0-35" id="h3-0-35" class="i">+like this in your .xinitrc:
</a><a href="#h3-0-36" id="h3-0-36" class="i">+
</a><a href="#h3-0-37" id="h3-0-37" class="i">+    while xsetroot -name &quot;`date` `uptime | sed &#39;s/.*,//&#39;`&quot;
</a><a href="#h3-0-38" id="h3-0-38" class="i">+    do
</a><a href="#h3-0-39" id="h3-0-39" class="i">+    	sleep 1
</a><a href="#h3-0-40" id="h3-0-40" class="i">+    done &amp;
</a><a href="#h3-0-41" id="h3-0-41" class="i">+    exec dwm
</a><a href="#h3-0-42" id="h3-0-42" class="i">+
</a><a href="#h3-0-43" id="h3-0-43" class="i">+
</a><a href="#h3-0-44" id="h3-0-44" class="i">+Configuration
</a><a href="#h3-0-45" id="h3-0-45" class="i">+-------------
</a><a href="#h3-0-46" id="h3-0-46" class="i">+The configuration of dwm is done by creating a custom config.h
</a><a href="#h3-0-47" id="h3-0-47" class="i">+and (re)compiling the source code.
</a><b>diff --git a/<a id="h4" href="../file/.local/src/dwm/config.def.h.html">.local/src/dwm/config.def.h</a> b/<a href="../file/.local/src/dwm/config.def.h.html">.local/src/dwm/config.def.h</a></b>
<a href="#h4-0" id="h4-0" class="h">@@ -0,0 +1,116 @@
</a><a href="#h4-0-0" id="h4-0-0" class="i">+/* See LICENSE file for copyright and license details. */
</a><a href="#h4-0-1" id="h4-0-1" class="i">+
</a><a href="#h4-0-2" id="h4-0-2" class="i">+/* appearance */
</a><a href="#h4-0-3" id="h4-0-3" class="i">+static const unsigned int borderpx  = 1;        /* border pixel of windows */
</a><a href="#h4-0-4" id="h4-0-4" class="i">+static const unsigned int snap      = 32;       /* snap pixel */
</a><a href="#h4-0-5" id="h4-0-5" class="i">+static const int showbar            = 1;        /* 0 means no bar */
</a><a href="#h4-0-6" id="h4-0-6" class="i">+static const int topbar             = 1;        /* 0 means bottom bar */
</a><a href="#h4-0-7" id="h4-0-7" class="i">+static const char *fonts[]          = { &quot;monospace:size=10&quot; };
</a><a href="#h4-0-8" id="h4-0-8" class="i">+static const char dmenufont[]       = &quot;monospace:size=10&quot;;
</a><a href="#h4-0-9" id="h4-0-9" class="i">+static const char col_gray1[]       = &quot;#222222&quot;;
</a><a href="#h4-0-10" id="h4-0-10" class="i">+static const char col_gray2[]       = &quot;#444444&quot;;
</a><a href="#h4-0-11" id="h4-0-11" class="i">+static const char col_gray3[]       = &quot;#bbbbbb&quot;;
</a><a href="#h4-0-12" id="h4-0-12" class="i">+static const char col_gray4[]       = &quot;#eeeeee&quot;;
</a><a href="#h4-0-13" id="h4-0-13" class="i">+static const char col_cyan[]        = &quot;#005577&quot;;
</a><a href="#h4-0-14" id="h4-0-14" class="i">+static const char *colors[][3]      = {
</a><a href="#h4-0-15" id="h4-0-15" class="i">+	/*               fg         bg         border   */
</a><a href="#h4-0-16" id="h4-0-16" class="i">+	[SchemeNorm] = { col_gray3, col_gray1, col_gray2 },
</a><a href="#h4-0-17" id="h4-0-17" class="i">+	[SchemeSel]  = { col_gray4, col_cyan,  col_cyan  },
</a><a href="#h4-0-18" id="h4-0-18" class="i">+};
</a><a href="#h4-0-19" id="h4-0-19" class="i">+
</a><a href="#h4-0-20" id="h4-0-20" class="i">+/* tagging */
</a><a href="#h4-0-21" id="h4-0-21" class="i">+static const char *tags[] = { &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot; };
</a><a href="#h4-0-22" id="h4-0-22" class="i">+
</a><a href="#h4-0-23" id="h4-0-23" class="i">+static const Rule rules[] = {
</a><a href="#h4-0-24" id="h4-0-24" class="i">+	/* xprop(1):
</a><a href="#h4-0-25" id="h4-0-25" class="i">+	 *	WM_CLASS(STRING) = instance, class
</a><a href="#h4-0-26" id="h4-0-26" class="i">+	 *	WM_NAME(STRING) = title
</a><a href="#h4-0-27" id="h4-0-27" class="i">+	 */
</a><a href="#h4-0-28" id="h4-0-28" class="i">+	/* class      instance    title       tags mask     isfloating   monitor */
</a><a href="#h4-0-29" id="h4-0-29" class="i">+	{ &quot;Gimp&quot;,     NULL,       NULL,       0,            1,           -1 },
</a><a href="#h4-0-30" id="h4-0-30" class="i">+	{ &quot;Firefox&quot;,  NULL,       NULL,       1 &lt;&lt; 8,       0,           -1 },
</a><a href="#h4-0-31" id="h4-0-31" class="i">+};
</a><a href="#h4-0-32" id="h4-0-32" class="i">+
</a><a href="#h4-0-33" id="h4-0-33" class="i">+/* layout(s) */
</a><a href="#h4-0-34" id="h4-0-34" class="i">+static const float mfact     = 0.55; /* factor of master area size [0.05..0.95] */
</a><a href="#h4-0-35" id="h4-0-35" class="i">+static const int nmaster     = 1;    /* number of clients in master area */
</a><a href="#h4-0-36" id="h4-0-36" class="i">+static const int resizehints = 1;    /* 1 means respect size hints in tiled resizals */
</a><a href="#h4-0-37" id="h4-0-37" class="i">+static const int lockfullscreen = 1; /* 1 will force focus on the fullscreen window */
</a><a href="#h4-0-38" id="h4-0-38" class="i">+
</a><a href="#h4-0-39" id="h4-0-39" class="i">+static const Layout layouts[] = {
</a><a href="#h4-0-40" id="h4-0-40" class="i">+	/* symbol     arrange function */
</a><a href="#h4-0-41" id="h4-0-41" class="i">+	{ &quot;[]=&quot;,      tile },    /* first entry is default */
</a><a href="#h4-0-42" id="h4-0-42" class="i">+	{ &quot;&gt;&lt;&gt;&quot;,      NULL },    /* no layout function means floating behavior */
</a><a href="#h4-0-43" id="h4-0-43" class="i">+	{ &quot;[M]&quot;,      monocle },
</a><a href="#h4-0-44" id="h4-0-44" class="i">+};
</a><a href="#h4-0-45" id="h4-0-45" class="i">+
</a><a href="#h4-0-46" id="h4-0-46" class="i">+/* key definitions */
</a><a href="#h4-0-47" id="h4-0-47" class="i">+#define MODKEY Mod1Mask
</a><a href="#h4-0-48" id="h4-0-48" class="i">+#define TAGKEYS(KEY,TAG) \
</a><a href="#h4-0-49" id="h4-0-49" class="i">+	{ MODKEY,                       KEY,      view,           {.ui = 1 &lt;&lt; TAG} }, \
</a><a href="#h4-0-50" id="h4-0-50" class="i">+	{ MODKEY|ControlMask,           KEY,      toggleview,     {.ui = 1 &lt;&lt; TAG} }, \
</a><a href="#h4-0-51" id="h4-0-51" class="i">+	{ MODKEY|ShiftMask,             KEY,      tag,            {.ui = 1 &lt;&lt; TAG} }, \
</a><a href="#h4-0-52" id="h4-0-52" class="i">+	{ MODKEY|ControlMask|ShiftMask, KEY,      toggletag,      {.ui = 1 &lt;&lt; TAG} },
</a><a href="#h4-0-53" id="h4-0-53" class="i">+
</a><a href="#h4-0-54" id="h4-0-54" class="i">+/* helper for spawning shell commands in the pre dwm-5.0 fashion */
</a><a href="#h4-0-55" id="h4-0-55" class="i">+#define SHCMD(cmd) { .v = (const char*[]){ &quot;/bin/sh&quot;, &quot;-c&quot;, cmd, NULL } }
</a><a href="#h4-0-56" id="h4-0-56" class="i">+
</a><a href="#h4-0-57" id="h4-0-57" class="i">+/* commands */
</a><a href="#h4-0-58" id="h4-0-58" class="i">+static char dmenumon[2] = &quot;0&quot;; /* component of dmenucmd, manipulated in spawn() */
</a><a href="#h4-0-59" id="h4-0-59" class="i">+static const char *dmenucmd[] = { &quot;dmenu_run&quot;, &quot;-m&quot;, dmenumon, &quot;-fn&quot;, dmenufont, &quot;-nb&quot;, col_gray1, &quot;-nf&quot;, col_gray3, &quot;-sb&quot;, col_cyan, &quot;-sf&quot;, col_gray4, NULL };
</a><a href="#h4-0-60" id="h4-0-60" class="i">+static const char *termcmd[]  = { &quot;st&quot;, NULL };
</a><a href="#h4-0-61" id="h4-0-61" class="i">+
</a><a href="#h4-0-62" id="h4-0-62" class="i">+static const Key keys[] = {
</a><a href="#h4-0-63" id="h4-0-63" class="i">+	/* modifier                     key        function        argument */
</a><a href="#h4-0-64" id="h4-0-64" class="i">+	{ MODKEY,                       XK_p,      spawn,          {.v = dmenucmd } },
</a><a href="#h4-0-65" id="h4-0-65" class="i">+	{ MODKEY|ShiftMask,             XK_Return, spawn,          {.v = termcmd } },
</a><a href="#h4-0-66" id="h4-0-66" class="i">+	{ MODKEY,                       XK_b,      togglebar,      {0} },
</a><a href="#h4-0-67" id="h4-0-67" class="i">+	{ MODKEY,                       XK_j,      focusstack,     {.i = +1 } },
</a><a href="#h4-0-68" id="h4-0-68" class="i">+	{ MODKEY,                       XK_k,      focusstack,     {.i = -1 } },
</a><a href="#h4-0-69" id="h4-0-69" class="i">+	{ MODKEY,                       XK_i,      incnmaster,     {.i = +1 } },
</a><a href="#h4-0-70" id="h4-0-70" class="i">+	{ MODKEY,                       XK_d,      incnmaster,     {.i = -1 } },
</a><a href="#h4-0-71" id="h4-0-71" class="i">+	{ MODKEY,                       XK_h,      setmfact,       {.f = -0.05} },
</a><a href="#h4-0-72" id="h4-0-72" class="i">+	{ MODKEY,                       XK_l,      setmfact,       {.f = +0.05} },
</a><a href="#h4-0-73" id="h4-0-73" class="i">+	{ MODKEY,                       XK_Return, zoom,           {0} },
</a><a href="#h4-0-74" id="h4-0-74" class="i">+	{ MODKEY,                       XK_Tab,    view,           {0} },
</a><a href="#h4-0-75" id="h4-0-75" class="i">+	{ MODKEY|ShiftMask,             XK_c,      killclient,     {0} },
</a><a href="#h4-0-76" id="h4-0-76" class="i">+	{ MODKEY,                       XK_t,      setlayout,      {.v = &amp;layouts[0]} },
</a><a href="#h4-0-77" id="h4-0-77" class="i">+	{ MODKEY,                       XK_f,      setlayout,      {.v = &amp;layouts[1]} },
</a><a href="#h4-0-78" id="h4-0-78" class="i">+	{ MODKEY,                       XK_m,      setlayout,      {.v = &amp;layouts[2]} },
</a><a href="#h4-0-79" id="h4-0-79" class="i">+	{ MODKEY,                       XK_space,  setlayout,      {0} },
</a><a href="#h4-0-80" id="h4-0-80" class="i">+	{ MODKEY|ShiftMask,             XK_space,  togglefloating, {0} },
</a><a href="#h4-0-81" id="h4-0-81" class="i">+	{ MODKEY,                       XK_0,      view,           {.ui = ~0 } },
</a><a href="#h4-0-82" id="h4-0-82" class="i">+	{ MODKEY|ShiftMask,             XK_0,      tag,            {.ui = ~0 } },
</a><a href="#h4-0-83" id="h4-0-83" class="i">+	{ MODKEY,                       XK_comma,  focusmon,       {.i = -1 } },
</a><a href="#h4-0-84" id="h4-0-84" class="i">+	{ MODKEY,                       XK_period, focusmon,       {.i = +1 } },
</a><a href="#h4-0-85" id="h4-0-85" class="i">+	{ MODKEY|ShiftMask,             XK_comma,  tagmon,         {.i = -1 } },
</a><a href="#h4-0-86" id="h4-0-86" class="i">+	{ MODKEY|ShiftMask,             XK_period, tagmon,         {.i = +1 } },
</a><a href="#h4-0-87" id="h4-0-87" class="i">+	TAGKEYS(                        XK_1,                      0)
</a><a href="#h4-0-88" id="h4-0-88" class="i">+	TAGKEYS(                        XK_2,                      1)
</a><a href="#h4-0-89" id="h4-0-89" class="i">+	TAGKEYS(                        XK_3,                      2)
</a><a href="#h4-0-90" id="h4-0-90" class="i">+	TAGKEYS(                        XK_4,                      3)
</a><a href="#h4-0-91" id="h4-0-91" class="i">+	TAGKEYS(                        XK_5,                      4)
</a><a href="#h4-0-92" id="h4-0-92" class="i">+	TAGKEYS(                        XK_6,                      5)
</a><a href="#h4-0-93" id="h4-0-93" class="i">+	TAGKEYS(                        XK_7,                      6)
</a><a href="#h4-0-94" id="h4-0-94" class="i">+	TAGKEYS(                        XK_8,                      7)
</a><a href="#h4-0-95" id="h4-0-95" class="i">+	TAGKEYS(                        XK_9,                      8)
</a><a href="#h4-0-96" id="h4-0-96" class="i">+	{ MODKEY|ShiftMask,             XK_q,      quit,           {0} },
</a><a href="#h4-0-97" id="h4-0-97" class="i">+};
</a><a href="#h4-0-98" id="h4-0-98" class="i">+
</a><a href="#h4-0-99" id="h4-0-99" class="i">+/* button definitions */
</a><a href="#h4-0-100" id="h4-0-100" class="i">+/* click can be ClkTagBar, ClkLtSymbol, ClkStatusText, ClkWinTitle, ClkClientWin, or ClkRootWin */
</a><a href="#h4-0-101" id="h4-0-101" class="i">+static const Button buttons[] = {
</a><a href="#h4-0-102" id="h4-0-102" class="i">+	/* click                event mask      button          function        argument */
</a><a href="#h4-0-103" id="h4-0-103" class="i">+	{ ClkLtSymbol,          0,              Button1,        setlayout,      {0} },
</a><a href="#h4-0-104" id="h4-0-104" class="i">+	{ ClkLtSymbol,          0,              Button3,        setlayout,      {.v = &amp;layouts[2]} },
</a><a href="#h4-0-105" id="h4-0-105" class="i">+	{ ClkWinTitle,          0,              Button2,        zoom,           {0} },
</a><a href="#h4-0-106" id="h4-0-106" class="i">+	{ ClkStatusText,        0,              Button2,        spawn,          {.v = termcmd } },
</a><a href="#h4-0-107" id="h4-0-107" class="i">+	{ ClkClientWin,         MODKEY,         Button1,        movemouse,      {0} },
</a><a href="#h4-0-108" id="h4-0-108" class="i">+	{ ClkClientWin,         MODKEY,         Button2,        togglefloating, {0} },
</a><a href="#h4-0-109" id="h4-0-109" class="i">+	{ ClkClientWin,         MODKEY,         Button3,        resizemouse,    {0} },
</a><a href="#h4-0-110" id="h4-0-110" class="i">+	{ ClkTagBar,            0,              Button1,        view,           {0} },
</a><a href="#h4-0-111" id="h4-0-111" class="i">+	{ ClkTagBar,            0,              Button3,        toggleview,     {0} },
</a><a href="#h4-0-112" id="h4-0-112" class="i">+	{ ClkTagBar,            MODKEY,         Button1,        tag,            {0} },
</a><a href="#h4-0-113" id="h4-0-113" class="i">+	{ ClkTagBar,            MODKEY,         Button3,        toggletag,      {0} },
</a><a href="#h4-0-114" id="h4-0-114" class="i">+};
</a><a href="#h4-0-115" id="h4-0-115" class="i">+
</a><b>diff --git a/<a id="h5" href="../file/.local/src/dwm/config.h.html">.local/src/dwm/config.h</a> b/<a href="../file/.local/src/dwm/config.h.html">.local/src/dwm/config.h</a></b>
<a href="#h5-0" id="h5-0" class="h">@@ -0,0 +1,143 @@
</a><a href="#h5-0-0" id="h5-0-0" class="i">+/* See LICENSE file for copyright and license details. */
</a><a href="#h5-0-1" id="h5-0-1" class="i">+#include &lt;X11/XF86keysym.h&gt;
</a><a href="#h5-0-2" id="h5-0-2" class="i">+
</a><a href="#h5-0-3" id="h5-0-3" class="i">+/* appearance */
</a><a href="#h5-0-4" id="h5-0-4" class="i">+static const unsigned int borderpx  = 1;        /* border pixel of windows */
</a><a href="#h5-0-5" id="h5-0-5" class="i">+static const unsigned int snap      = 32;       /* snap pixel */
</a><a href="#h5-0-6" id="h5-0-6" class="i">+static const int showbar            = 1;        /* 0 means no bar */
</a><a href="#h5-0-7" id="h5-0-7" class="i">+static const int topbar             = 1;        /* 0 means bottom bar */
</a><a href="#h5-0-8" id="h5-0-8" class="i">+static const char *fonts[]          = { &quot;JetBrains Mono:size=12&quot;, &quot;JoyPixels:pixelsize=12:antialias=true:autohint=true&quot;};
</a><a href="#h5-0-9" id="h5-0-9" class="i">+static const char dmenufont[]       = &quot;JetBrains Mono:size=12&quot;;
</a><a href="#h5-0-10" id="h5-0-10" class="i">+static const char col_gray2[]       = &quot;#444444&quot;;
</a><a href="#h5-0-11" id="h5-0-11" class="i">+static const char col_gray3[]       = &quot;#262626&quot;;
</a><a href="#h5-0-12" id="h5-0-12" class="i">+static const char col_white[]       = &quot;#eeeeee&quot;;
</a><a href="#h5-0-13" id="h5-0-13" class="i">+static const char col_whitegray[]   = &quot;#68686d&quot;;
</a><a href="#h5-0-14" id="h5-0-14" class="i">+static const char col_teal[]        = &quot;#169378&quot;;
</a><a href="#h5-0-15" id="h5-0-15" class="i">+/* static const char col_teal[]        = &quot;#38aa6f&quot;; */
</a><a href="#h5-0-16" id="h5-0-16" class="i">+static const char *colors[][3]      = {
</a><a href="#h5-0-17" id="h5-0-17" class="i">+	/*               fg         bg         border   */
</a><a href="#h5-0-18" id="h5-0-18" class="i">+	[SchemeNorm] = { col_white, col_gray2,  col_gray2 },
</a><a href="#h5-0-19" id="h5-0-19" class="i">+	[SchemeSel]  = { col_white, col_teal,  col_white },
</a><a href="#h5-0-20" id="h5-0-20" class="i">+};
</a><a href="#h5-0-21" id="h5-0-21" class="i">+
</a><a href="#h5-0-22" id="h5-0-22" class="i">+/* tagging */
</a><a href="#h5-0-23" id="h5-0-23" class="i">+static const char *tags[] = { &quot; &quot;, &quot;&gt;_&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot;¿?&quot; };
</a><a href="#h5-0-24" id="h5-0-24" class="i">+
</a><a href="#h5-0-25" id="h5-0-25" class="i">+static const Rule rules[] = {
</a><a href="#h5-0-26" id="h5-0-26" class="i">+	/* xprop(1):
</a><a href="#h5-0-27" id="h5-0-27" class="i">+	 *	WM_CLASS(STRING) = instance, class
</a><a href="#h5-0-28" id="h5-0-28" class="i">+	 *	WM_NAME(STRING) = title
</a><a href="#h5-0-29" id="h5-0-29" class="i">+	 */
</a><a href="#h5-0-30" id="h5-0-30" class="i">+	/* class      instance    title       tags mask     isfloating   monitor */
</a><a href="#h5-0-31" id="h5-0-31" class="i">+	{ &quot;Gimp&quot;,     NULL,       NULL,       0,            1,           -1 },
</a><a href="#h5-0-32" id="h5-0-32" class="i">+	{ &quot;Firefox&quot;,  NULL,       NULL,       1 &lt;&lt; 8,       0,           -1 },
</a><a href="#h5-0-33" id="h5-0-33" class="i">+};
</a><a href="#h5-0-34" id="h5-0-34" class="i">+
</a><a href="#h5-0-35" id="h5-0-35" class="i">+/* layout(s) */
</a><a href="#h5-0-36" id="h5-0-36" class="i">+static const float mfact     = 0.55; /* factor of master area size [0.05..0.95] */
</a><a href="#h5-0-37" id="h5-0-37" class="i">+static const int nmaster     = 1;    /* number of clients in master area */
</a><a href="#h5-0-38" id="h5-0-38" class="i">+static const int resizehints = 1;    /* 1 means respect size hints in tiled resizals */
</a><a href="#h5-0-39" id="h5-0-39" class="i">+static const int lockfullscreen = 1; /* 1 will force focus on the fullscreen window */
</a><a href="#h5-0-40" id="h5-0-40" class="i">+
</a><a href="#h5-0-41" id="h5-0-41" class="i">+static const Layout layouts[] = {
</a><a href="#h5-0-42" id="h5-0-42" class="i">+	/* symbol     arrange function */
</a><a href="#h5-0-43" id="h5-0-43" class="i">+    { &quot; &quot;,      tile },
</a><a href="#h5-0-44" id="h5-0-44" class="i">+	{ &quot; &quot;,      NULL },    /* no layout function means floating behavior */
</a><a href="#h5-0-45" id="h5-0-45" class="i">+	{ &quot;[M]&quot;,      monocle },
</a><a href="#h5-0-46" id="h5-0-46" class="i">+};
</a><a href="#h5-0-47" id="h5-0-47" class="i">+/* key definitions */
</a><a href="#h5-0-48" id="h5-0-48" class="i">+#define MODKEY Mod1Mask
</a><a href="#h5-0-49" id="h5-0-49" class="i">+#define CTRLKEY ControlMask
</a><a href="#h5-0-50" id="h5-0-50" class="i">+#define TAGKEYS(KEY,TAG) \
</a><a href="#h5-0-51" id="h5-0-51" class="i">+	{ MODKEY,                       KEY,      view,           {.ui = 1 &lt;&lt; TAG} }, \
</a><a href="#h5-0-52" id="h5-0-52" class="i">+	{ MODKEY|ControlMask,           KEY,      toggleview,     {.ui = 1 &lt;&lt; TAG} }, \
</a><a href="#h5-0-53" id="h5-0-53" class="i">+	{ MODKEY|ShiftMask,             KEY,      tag,            {.ui = 1 &lt;&lt; TAG} }, \
</a><a href="#h5-0-54" id="h5-0-54" class="i">+	{ MODKEY|ControlMask|ShiftMask, KEY,      toggletag,      {.ui = 1 &lt;&lt; TAG} },
</a><a href="#h5-0-55" id="h5-0-55" class="i">+
</a><a href="#h5-0-56" id="h5-0-56" class="i">+/* helper for spawning shell commands in the pre dwm-5.0 fashion */
</a><a href="#h5-0-57" id="h5-0-57" class="i">+#define SHCMD(cmd) { .v = (const char*[]){ &quot;/bin/sh&quot;, &quot;-c&quot;, cmd, NULL } }
</a><a href="#h5-0-58" id="h5-0-58" class="i">+
</a><a href="#h5-0-59" id="h5-0-59" class="i">+/* commands */
</a><a href="#h5-0-60" id="h5-0-60" class="i">+static char dmenumon[2] = &quot;0&quot;; /* component of dmenucmd, manipulated in spawn() */
</a><a href="#h5-0-61" id="h5-0-61" class="i">+static const char *dmenucmd[] = { &quot;dmenu_run&quot;, &quot;-m&quot;, dmenumon, &quot;-fn&quot;, dmenufont, &quot;-nb&quot;, col_gray2, &quot;-nf&quot;, col_white, &quot;-sb&quot;, col_teal, &quot;-sf&quot;, col_white, NULL };
</a><a href="#h5-0-62" id="h5-0-62" class="i">+static const char *termcmd[]  = { &quot;alacritty&quot;, NULL };
</a><a href="#h5-0-63" id="h5-0-63" class="i">+static const char *browser[]  = { &quot;firefox&quot;, NULL };
</a><a href="#h5-0-64" id="h5-0-64" class="i">+static const char *filebrowser[]  = { &quot;/home/diego/.local/.macros/keyBindings/home.sh&quot;, NULL };
</a><a href="#h5-0-65" id="h5-0-65" class="i">+static const char *lockscreen[]  = { &quot;betterlockscreen&quot;, &quot;-l&quot; };
</a><a href="#h5-0-66" id="h5-0-66" class="i">+static const char *powermenu[]  = { &quot;/home/diego/.local/.macros/keyBindings/powermenu.sh&quot;, NULL };
</a><a href="#h5-0-67" id="h5-0-67" class="i">+static const char *brightnessUp[] = {&quot;/home/diego/.local/.macros/keyBindings/lightUp.sh&quot;, NULL};
</a><a href="#h5-0-68" id="h5-0-68" class="i">+static const char *brightnessDown[] = {&quot;/home/diego/.local/.macros/keyBindings/lightDown.sh&quot;, NULL};
</a><a href="#h5-0-69" id="h5-0-69" class="i">+static const char *schoolDropbox[] = {&quot;/home/diego/.local/.macros/keyBindings/q1.sh&quot;, NULL};
</a><a href="#h5-0-70" id="h5-0-70" class="i">+
</a><a href="#h5-0-71" id="h5-0-71" class="i">+static const Key keys[] = {
</a><a href="#h5-0-72" id="h5-0-72" class="i">+	/* modifier                     key        function        argument */
</a><a href="#h5-0-73" id="h5-0-73" class="i">+	{ MODKEY,                       XK_space,  spawn,          {.v = dmenucmd } }, // dmenu
</a><a href="#h5-0-74" id="h5-0-74" class="i">+	/* { MODKEY|ShiftMask,             XK_Return, spawn,          {.v = termcmd } }, //alacritty */
</a><a href="#h5-0-75" id="h5-0-75" class="i">+	/* { CTRLKEY,                      XK_space,  spawn,          {.v = dmenucmd } }, //dmenu */ 
</a><a href="#h5-0-76" id="h5-0-76" class="i">+	{ CTRLKEY,                      XK_j,      spawn,          {.v = termcmd } }, //alacritty
</a><a href="#h5-0-77" id="h5-0-77" class="i">+	{ CTRLKEY,                      XK_n,      spawn,          {.v = browser } }, //firefox
</a><a href="#h5-0-78" id="h5-0-78" class="i">+
</a><a href="#h5-0-79" id="h5-0-79" class="i">+	{ CTRLKEY,                      XK_h,      spawn,          {.v = filebrowser } }, //home
</a><a href="#h5-0-80" id="h5-0-80" class="i">+	{ CTRLKEY,                      XK_i,      spawn,          {.v = schoolDropbox } }, //home
</a><a href="#h5-0-81" id="h5-0-81" class="i">+
</a><a href="#h5-0-82" id="h5-0-82" class="i">+	{ MODKEY|ShiftMask,             XK_l,      spawn,          {.v = lockscreen } }, //lockscreen
</a><a href="#h5-0-83" id="h5-0-83" class="i">+	{ MODKEY|ShiftMask,             XK_p,      spawn,          {.v = powermenu } }, //powermenu
</a><a href="#h5-0-84" id="h5-0-84" class="i">+
</a><a href="#h5-0-85" id="h5-0-85" class="i">+
</a><a href="#h5-0-86" id="h5-0-86" class="i">+    { 0,            XF86XK_MonBrightnessUp,      spawn,    {.v=brightnessUp }},
</a><a href="#h5-0-87" id="h5-0-87" class="i">+    { 0,            XF86XK_MonBrightnessUp,      spawn, {.v=brightnessDown }},
</a><a href="#h5-0-88" id="h5-0-88" class="i">+
</a><a href="#h5-0-89" id="h5-0-89" class="i">+
</a><a href="#h5-0-90" id="h5-0-90" class="i">+	{ MODKEY,                       XK_b,      togglebar,      {0} },
</a><a href="#h5-0-91" id="h5-0-91" class="i">+	{ MODKEY,                       XK_j,      focusstack,     {.i = +1 } },
</a><a href="#h5-0-92" id="h5-0-92" class="i">+	{ MODKEY,                       XK_k,      focusstack,     {.i = -1 } },
</a><a href="#h5-0-93" id="h5-0-93" class="i">+	{ MODKEY,                       XK_i,      incnmaster,     {.i = +1 } },
</a><a href="#h5-0-94" id="h5-0-94" class="i">+	{ MODKEY,                       XK_d,      incnmaster,     {.i = -1 } },
</a><a href="#h5-0-95" id="h5-0-95" class="i">+	{ MODKEY,                       XK_h,      setmfact,       {.f = -0.05} },
</a><a href="#h5-0-96" id="h5-0-96" class="i">+	{ MODKEY,                       XK_l,      setmfact,       {.f = +0.05} },
</a><a href="#h5-0-97" id="h5-0-97" class="i">+	{ MODKEY,                       XK_Return, zoom,           {0} },
</a><a href="#h5-0-98" id="h5-0-98" class="i">+	{ MODKEY,                       XK_Tab,    view,           {0} },
</a><a href="#h5-0-99" id="h5-0-99" class="i">+	{ MODKEY,                       XK_q,      killclient,     {0} },
</a><a href="#h5-0-100" id="h5-0-100" class="i">+	{ MODKEY,                       XK_w,      setlayout,      {.v = &amp;layouts[0]} },
</a><a href="#h5-0-101" id="h5-0-101" class="i">+	{ MODKEY,                       XK_e,      setlayout,      {.v = &amp;layouts[1]} },
</a><a href="#h5-0-102" id="h5-0-102" class="i">+	{ MODKEY,                       XK_r,      setlayout,      {.v = &amp;layouts[2]} },
</a><a href="#h5-0-103" id="h5-0-103" class="i">+	{ MODKEY,                       XK_m,      setlayout,      {0} },
</a><a href="#h5-0-104" id="h5-0-104" class="i">+
</a><a href="#h5-0-105" id="h5-0-105" class="i">+
</a><a href="#h5-0-106" id="h5-0-106" class="i">+	{ MODKEY|ShiftMask,             XK_space,  togglefloating, {0} },
</a><a href="#h5-0-107" id="h5-0-107" class="i">+	{ MODKEY,                       XK_a,      view,           {.ui = ~0 } },
</a><a href="#h5-0-108" id="h5-0-108" class="i">+	{ MODKEY,                       XK_s,      tag,            {.ui = ~0 } },
</a><a href="#h5-0-109" id="h5-0-109" class="i">+    
</a><a href="#h5-0-110" id="h5-0-110" class="i">+
</a><a href="#h5-0-111" id="h5-0-111" class="i">+	{ MODKEY,                       XK_comma,  focusmon,       {.i = -1 } },
</a><a href="#h5-0-112" id="h5-0-112" class="i">+	{ MODKEY,                       XK_period, focusmon,       {.i = +1 } },
</a><a href="#h5-0-113" id="h5-0-113" class="i">+	{ MODKEY|ShiftMask,             XK_comma,  tagmon,         {.i = -1 } },
</a><a href="#h5-0-114" id="h5-0-114" class="i">+	{ MODKEY|ShiftMask,             XK_period, tagmon,         {.i = +1 } },
</a><a href="#h5-0-115" id="h5-0-115" class="i">+
</a><a href="#h5-0-116" id="h5-0-116" class="i">+	TAGKEYS(                        XK_1,                      0)
</a><a href="#h5-0-117" id="h5-0-117" class="i">+	TAGKEYS(                        XK_2,                      1)
</a><a href="#h5-0-118" id="h5-0-118" class="i">+	TAGKEYS(                        XK_3,                      2)
</a><a href="#h5-0-119" id="h5-0-119" class="i">+	TAGKEYS(                        XK_4,                      3)
</a><a href="#h5-0-120" id="h5-0-120" class="i">+	TAGKEYS(                        XK_7,                      4)
</a><a href="#h5-0-121" id="h5-0-121" class="i">+	TAGKEYS(                        XK_8,                      5)
</a><a href="#h5-0-122" id="h5-0-122" class="i">+	TAGKEYS(                        XK_9,                      6)
</a><a href="#h5-0-123" id="h5-0-123" class="i">+	TAGKEYS(                        XK_0,                      7)
</a><a href="#h5-0-124" id="h5-0-124" class="i">+	{ MODKEY|ShiftMask,             XK_q,      quit,           {0} },
</a><a href="#h5-0-125" id="h5-0-125" class="i">+};
</a><a href="#h5-0-126" id="h5-0-126" class="i">+
</a><a href="#h5-0-127" id="h5-0-127" class="i">+/* button definitions */
</a><a href="#h5-0-128" id="h5-0-128" class="i">+/* click can be ClkTagBar, ClkLtSymbol, ClkStatusText, ClkWinTitle, ClkClientWin, or ClkRootWin */
</a><a href="#h5-0-129" id="h5-0-129" class="i">+static const Button buttons[] = {
</a><a href="#h5-0-130" id="h5-0-130" class="i">+	/* click                event mask      button          function        argument */
</a><a href="#h5-0-131" id="h5-0-131" class="i">+	{ ClkLtSymbol,          0,              Button1,        setlayout,      {0} },
</a><a href="#h5-0-132" id="h5-0-132" class="i">+	{ ClkLtSymbol,          0,              Button3,        setlayout,      {.v = &amp;layouts[2]} },
</a><a href="#h5-0-133" id="h5-0-133" class="i">+	{ ClkWinTitle,          0,              Button2,        zoom,           {0} },
</a><a href="#h5-0-134" id="h5-0-134" class="i">+	{ ClkStatusText,        0,              Button2,        spawn,          {.v = termcmd } },
</a><a href="#h5-0-135" id="h5-0-135" class="i">+	{ ClkClientWin,         MODKEY,         Button1,        movemouse,      {0} },
</a><a href="#h5-0-136" id="h5-0-136" class="i">+	{ ClkClientWin,         MODKEY,         Button2,        togglefloating, {0} },
</a><a href="#h5-0-137" id="h5-0-137" class="i">+	{ ClkClientWin,         MODKEY,         Button3,        resizemouse,    {0} },
</a><a href="#h5-0-138" id="h5-0-138" class="i">+	{ ClkTagBar,            0,              Button1,        view,           {0} },
</a><a href="#h5-0-139" id="h5-0-139" class="i">+	{ ClkTagBar,            0,              Button3,        toggleview,     {0} },
</a><a href="#h5-0-140" id="h5-0-140" class="i">+	{ ClkTagBar,            MODKEY,         Button1,        tag,            {0} },
</a><a href="#h5-0-141" id="h5-0-141" class="i">+	{ ClkTagBar,            MODKEY,         Button3,        toggletag,      {0} },
</a><a href="#h5-0-142" id="h5-0-142" class="i">+};
</a><b>diff --git a/<a id="h6" href="../file/.local/src/dwm/config.mk.html">.local/src/dwm/config.mk</a> b/<a href="../file/.local/src/dwm/config.mk.html">.local/src/dwm/config.mk</a></b>
<a href="#h6-0" id="h6-0" class="h">@@ -0,0 +1,39 @@
</a><a href="#h6-0-0" id="h6-0-0" class="i">+# dwm version
</a><a href="#h6-0-1" id="h6-0-1" class="i">+VERSION = 6.4
</a><a href="#h6-0-2" id="h6-0-2" class="i">+
</a><a href="#h6-0-3" id="h6-0-3" class="i">+# Customize below to fit your system
</a><a href="#h6-0-4" id="h6-0-4" class="i">+
</a><a href="#h6-0-5" id="h6-0-5" class="i">+# paths
</a><a href="#h6-0-6" id="h6-0-6" class="i">+PREFIX = /usr/local
</a><a href="#h6-0-7" id="h6-0-7" class="i">+MANPREFIX = ${PREFIX}/share/man
</a><a href="#h6-0-8" id="h6-0-8" class="i">+
</a><a href="#h6-0-9" id="h6-0-9" class="i">+X11INC = /usr/X11R6/include
</a><a href="#h6-0-10" id="h6-0-10" class="i">+X11LIB = /usr/X11R6/lib
</a><a href="#h6-0-11" id="h6-0-11" class="i">+
</a><a href="#h6-0-12" id="h6-0-12" class="i">+# Xinerama, comment if you don&#39;t want it
</a><a href="#h6-0-13" id="h6-0-13" class="i">+XINERAMALIBS  = -lXinerama
</a><a href="#h6-0-14" id="h6-0-14" class="i">+XINERAMAFLAGS = -DXINERAMA
</a><a href="#h6-0-15" id="h6-0-15" class="i">+
</a><a href="#h6-0-16" id="h6-0-16" class="i">+# freetype
</a><a href="#h6-0-17" id="h6-0-17" class="i">+FREETYPELIBS = -lfontconfig -lXft
</a><a href="#h6-0-18" id="h6-0-18" class="i">+FREETYPEINC = /usr/include/freetype2
</a><a href="#h6-0-19" id="h6-0-19" class="i">+# OpenBSD (uncomment)
</a><a href="#h6-0-20" id="h6-0-20" class="i">+#FREETYPEINC = ${X11INC}/freetype2
</a><a href="#h6-0-21" id="h6-0-21" class="i">+#MANPREFIX = ${PREFIX}/man
</a><a href="#h6-0-22" id="h6-0-22" class="i">+
</a><a href="#h6-0-23" id="h6-0-23" class="i">+# includes and libs
</a><a href="#h6-0-24" id="h6-0-24" class="i">+INCS = -I${X11INC} -I${FREETYPEINC}
</a><a href="#h6-0-25" id="h6-0-25" class="i">+LIBS = -L${X11LIB} -lX11 ${XINERAMALIBS} ${FREETYPELIBS}
</a><a href="#h6-0-26" id="h6-0-26" class="i">+
</a><a href="#h6-0-27" id="h6-0-27" class="i">+# flags
</a><a href="#h6-0-28" id="h6-0-28" class="i">+CPPFLAGS = -D_DEFAULT_SOURCE -D_BSD_SOURCE -D_POSIX_C_SOURCE=200809L -DVERSION=\&quot;${VERSION}\&quot; ${XINERAMAFLAGS}
</a><a href="#h6-0-29" id="h6-0-29" class="i">+#CFLAGS   = -g -std=c99 -pedantic -Wall -O0 ${INCS} ${CPPFLAGS}
</a><a href="#h6-0-30" id="h6-0-30" class="i">+CFLAGS   = -std=c99 -pedantic -Wall -Wno-deprecated-declarations -Os ${INCS} ${CPPFLAGS}
</a><a href="#h6-0-31" id="h6-0-31" class="i">+LDFLAGS  = ${LIBS}
</a><a href="#h6-0-32" id="h6-0-32" class="i">+
</a><a href="#h6-0-33" id="h6-0-33" class="i">+# Solaris
</a><a href="#h6-0-34" id="h6-0-34" class="i">+#CFLAGS = -fast ${INCS} -DVERSION=\&quot;${VERSION}\&quot;
</a><a href="#h6-0-35" id="h6-0-35" class="i">+#LDFLAGS = ${LIBS}
</a><a href="#h6-0-36" id="h6-0-36" class="i">+
</a><a href="#h6-0-37" id="h6-0-37" class="i">+# compiler and linker
</a><a href="#h6-0-38" id="h6-0-38" class="i">+CC = cc
</a><b>diff --git a/<a id="h7" href="../file/.local/src/dwm/drw.c.html">.local/src/dwm/drw.c</a> b/<a href="../file/.local/src/dwm/drw.c.html">.local/src/dwm/drw.c</a></b>
<a href="#h7-0" id="h7-0" class="h">@@ -0,0 +1,450 @@
</a><a href="#h7-0-0" id="h7-0-0" class="i">+/* See LICENSE file for copyright and license details. */
</a><a href="#h7-0-1" id="h7-0-1" class="i">+#include &lt;stdio.h&gt;
</a><a href="#h7-0-2" id="h7-0-2" class="i">+#include &lt;stdlib.h&gt;
</a><a href="#h7-0-3" id="h7-0-3" class="i">+#include &lt;string.h&gt;
</a><a href="#h7-0-4" id="h7-0-4" class="i">+#include &lt;X11/Xlib.h&gt;
</a><a href="#h7-0-5" id="h7-0-5" class="i">+#include &lt;X11/Xft/Xft.h&gt;
</a><a href="#h7-0-6" id="h7-0-6" class="i">+
</a><a href="#h7-0-7" id="h7-0-7" class="i">+#include &quot;drw.h&quot;
</a><a href="#h7-0-8" id="h7-0-8" class="i">+#include &quot;util.h&quot;
</a><a href="#h7-0-9" id="h7-0-9" class="i">+
</a><a href="#h7-0-10" id="h7-0-10" class="i">+#define UTF_INVALID 0xFFFD
</a><a href="#h7-0-11" id="h7-0-11" class="i">+#define UTF_SIZ     4
</a><a href="#h7-0-12" id="h7-0-12" class="i">+
</a><a href="#h7-0-13" id="h7-0-13" class="i">+static const unsigned char utfbyte[UTF_SIZ + 1] = {0x80,    0, 0xC0, 0xE0, 0xF0};
</a><a href="#h7-0-14" id="h7-0-14" class="i">+static const unsigned char utfmask[UTF_SIZ + 1] = {0xC0, 0x80, 0xE0, 0xF0, 0xF8};
</a><a href="#h7-0-15" id="h7-0-15" class="i">+static const long utfmin[UTF_SIZ + 1] = {       0,    0,  0x80,  0x800,  0x10000};
</a><a href="#h7-0-16" id="h7-0-16" class="i">+static const long utfmax[UTF_SIZ + 1] = {0x10FFFF, 0x7F, 0x7FF, 0xFFFF, 0x10FFFF};
</a><a href="#h7-0-17" id="h7-0-17" class="i">+
</a><a href="#h7-0-18" id="h7-0-18" class="i">+static long
</a><a href="#h7-0-19" id="h7-0-19" class="i">+utf8decodebyte(const char c, size_t *i)
</a><a href="#h7-0-20" id="h7-0-20" class="i">+{
</a><a href="#h7-0-21" id="h7-0-21" class="i">+	for (*i = 0; *i &lt; (UTF_SIZ + 1); ++(*i))
</a><a href="#h7-0-22" id="h7-0-22" class="i">+		if (((unsigned char)c &amp; utfmask[*i]) == utfbyte[*i])
</a><a href="#h7-0-23" id="h7-0-23" class="i">+			return (unsigned char)c &amp; ~utfmask[*i];
</a><a href="#h7-0-24" id="h7-0-24" class="i">+	return 0;
</a><a href="#h7-0-25" id="h7-0-25" class="i">+}
</a><a href="#h7-0-26" id="h7-0-26" class="i">+
</a><a href="#h7-0-27" id="h7-0-27" class="i">+static size_t
</a><a href="#h7-0-28" id="h7-0-28" class="i">+utf8validate(long *u, size_t i)
</a><a href="#h7-0-29" id="h7-0-29" class="i">+{
</a><a href="#h7-0-30" id="h7-0-30" class="i">+	if (!BETWEEN(*u, utfmin[i], utfmax[i]) || BETWEEN(*u, 0xD800, 0xDFFF))
</a><a href="#h7-0-31" id="h7-0-31" class="i">+		*u = UTF_INVALID;
</a><a href="#h7-0-32" id="h7-0-32" class="i">+	for (i = 1; *u &gt; utfmax[i]; ++i)
</a><a href="#h7-0-33" id="h7-0-33" class="i">+		;
</a><a href="#h7-0-34" id="h7-0-34" class="i">+	return i;
</a><a href="#h7-0-35" id="h7-0-35" class="i">+}
</a><a href="#h7-0-36" id="h7-0-36" class="i">+
</a><a href="#h7-0-37" id="h7-0-37" class="i">+static size_t
</a><a href="#h7-0-38" id="h7-0-38" class="i">+utf8decode(const char *c, long *u, size_t clen)
</a><a href="#h7-0-39" id="h7-0-39" class="i">+{
</a><a href="#h7-0-40" id="h7-0-40" class="i">+	size_t i, j, len, type;
</a><a href="#h7-0-41" id="h7-0-41" class="i">+	long udecoded;
</a><a href="#h7-0-42" id="h7-0-42" class="i">+
</a><a href="#h7-0-43" id="h7-0-43" class="i">+	*u = UTF_INVALID;
</a><a href="#h7-0-44" id="h7-0-44" class="i">+	if (!clen)
</a><a href="#h7-0-45" id="h7-0-45" class="i">+		return 0;
</a><a href="#h7-0-46" id="h7-0-46" class="i">+	udecoded = utf8decodebyte(c[0], &amp;len);
</a><a href="#h7-0-47" id="h7-0-47" class="i">+	if (!BETWEEN(len, 1, UTF_SIZ))
</a><a href="#h7-0-48" id="h7-0-48" class="i">+		return 1;
</a><a href="#h7-0-49" id="h7-0-49" class="i">+	for (i = 1, j = 1; i &lt; clen &amp;&amp; j &lt; len; ++i, ++j) {
</a><a href="#h7-0-50" id="h7-0-50" class="i">+		udecoded = (udecoded &lt;&lt; 6) | utf8decodebyte(c[i], &amp;type);
</a><a href="#h7-0-51" id="h7-0-51" class="i">+		if (type)
</a><a href="#h7-0-52" id="h7-0-52" class="i">+			return j;
</a><a href="#h7-0-53" id="h7-0-53" class="i">+	}
</a><a href="#h7-0-54" id="h7-0-54" class="i">+	if (j &lt; len)
</a><a href="#h7-0-55" id="h7-0-55" class="i">+		return 0;
</a><a href="#h7-0-56" id="h7-0-56" class="i">+	*u = udecoded;
</a><a href="#h7-0-57" id="h7-0-57" class="i">+	utf8validate(u, len);
</a><a href="#h7-0-58" id="h7-0-58" class="i">+
</a><a href="#h7-0-59" id="h7-0-59" class="i">+	return len;
</a><a href="#h7-0-60" id="h7-0-60" class="i">+}
</a><a href="#h7-0-61" id="h7-0-61" class="i">+
</a><a href="#h7-0-62" id="h7-0-62" class="i">+Drw *
</a><a href="#h7-0-63" id="h7-0-63" class="i">+drw_create(Display *dpy, int screen, Window root, unsigned int w, unsigned int h)
</a><a href="#h7-0-64" id="h7-0-64" class="i">+{
</a><a href="#h7-0-65" id="h7-0-65" class="i">+	Drw *drw = ecalloc(1, sizeof(Drw));
</a><a href="#h7-0-66" id="h7-0-66" class="i">+
</a><a href="#h7-0-67" id="h7-0-67" class="i">+	drw-&gt;dpy = dpy;
</a><a href="#h7-0-68" id="h7-0-68" class="i">+	drw-&gt;screen = screen;
</a><a href="#h7-0-69" id="h7-0-69" class="i">+	drw-&gt;root = root;
</a><a href="#h7-0-70" id="h7-0-70" class="i">+	drw-&gt;w = w;
</a><a href="#h7-0-71" id="h7-0-71" class="i">+	drw-&gt;h = h;
</a><a href="#h7-0-72" id="h7-0-72" class="i">+	drw-&gt;drawable = XCreatePixmap(dpy, root, w, h, DefaultDepth(dpy, screen));
</a><a href="#h7-0-73" id="h7-0-73" class="i">+	drw-&gt;gc = XCreateGC(dpy, root, 0, NULL);
</a><a href="#h7-0-74" id="h7-0-74" class="i">+	XSetLineAttributes(dpy, drw-&gt;gc, 1, LineSolid, CapButt, JoinMiter);
</a><a href="#h7-0-75" id="h7-0-75" class="i">+
</a><a href="#h7-0-76" id="h7-0-76" class="i">+	return drw;
</a><a href="#h7-0-77" id="h7-0-77" class="i">+}
</a><a href="#h7-0-78" id="h7-0-78" class="i">+
</a><a href="#h7-0-79" id="h7-0-79" class="i">+void
</a><a href="#h7-0-80" id="h7-0-80" class="i">+drw_resize(Drw *drw, unsigned int w, unsigned int h)
</a><a href="#h7-0-81" id="h7-0-81" class="i">+{
</a><a href="#h7-0-82" id="h7-0-82" class="i">+	if (!drw)
</a><a href="#h7-0-83" id="h7-0-83" class="i">+		return;
</a><a href="#h7-0-84" id="h7-0-84" class="i">+
</a><a href="#h7-0-85" id="h7-0-85" class="i">+	drw-&gt;w = w;
</a><a href="#h7-0-86" id="h7-0-86" class="i">+	drw-&gt;h = h;
</a><a href="#h7-0-87" id="h7-0-87" class="i">+	if (drw-&gt;drawable)
</a><a href="#h7-0-88" id="h7-0-88" class="i">+		XFreePixmap(drw-&gt;dpy, drw-&gt;drawable);
</a><a href="#h7-0-89" id="h7-0-89" class="i">+	drw-&gt;drawable = XCreatePixmap(drw-&gt;dpy, drw-&gt;root, w, h, DefaultDepth(drw-&gt;dpy, drw-&gt;screen));
</a><a href="#h7-0-90" id="h7-0-90" class="i">+}
</a><a href="#h7-0-91" id="h7-0-91" class="i">+
</a><a href="#h7-0-92" id="h7-0-92" class="i">+void
</a><a href="#h7-0-93" id="h7-0-93" class="i">+drw_free(Drw *drw)
</a><a href="#h7-0-94" id="h7-0-94" class="i">+{
</a><a href="#h7-0-95" id="h7-0-95" class="i">+	XFreePixmap(drw-&gt;dpy, drw-&gt;drawable);
</a><a href="#h7-0-96" id="h7-0-96" class="i">+	XFreeGC(drw-&gt;dpy, drw-&gt;gc);
</a><a href="#h7-0-97" id="h7-0-97" class="i">+	drw_fontset_free(drw-&gt;fonts);
</a><a href="#h7-0-98" id="h7-0-98" class="i">+	free(drw);
</a><a href="#h7-0-99" id="h7-0-99" class="i">+}
</a><a href="#h7-0-100" id="h7-0-100" class="i">+
</a><a href="#h7-0-101" id="h7-0-101" class="i">+/* This function is an implementation detail. Library users should use
</a><a href="#h7-0-102" id="h7-0-102" class="i">+ * drw_fontset_create instead.
</a><a href="#h7-0-103" id="h7-0-103" class="i">+ */
</a><a href="#h7-0-104" id="h7-0-104" class="i">+static Fnt *
</a><a href="#h7-0-105" id="h7-0-105" class="i">+xfont_create(Drw *drw, const char *fontname, FcPattern *fontpattern)
</a><a href="#h7-0-106" id="h7-0-106" class="i">+{
</a><a href="#h7-0-107" id="h7-0-107" class="i">+	Fnt *font;
</a><a href="#h7-0-108" id="h7-0-108" class="i">+	XftFont *xfont = NULL;
</a><a href="#h7-0-109" id="h7-0-109" class="i">+	FcPattern *pattern = NULL;
</a><a href="#h7-0-110" id="h7-0-110" class="i">+
</a><a href="#h7-0-111" id="h7-0-111" class="i">+	if (fontname) {
</a><a href="#h7-0-112" id="h7-0-112" class="i">+		/* Using the pattern found at font-&gt;xfont-&gt;pattern does not yield the
</a><a href="#h7-0-113" id="h7-0-113" class="i">+		 * same substitution results as using the pattern returned by
</a><a href="#h7-0-114" id="h7-0-114" class="i">+		 * FcNameParse; using the latter results in the desired fallback
</a><a href="#h7-0-115" id="h7-0-115" class="i">+		 * behaviour whereas the former just results in missing-character
</a><a href="#h7-0-116" id="h7-0-116" class="i">+		 * rectangles being drawn, at least with some fonts. */
</a><a href="#h7-0-117" id="h7-0-117" class="i">+		if (!(xfont = XftFontOpenName(drw-&gt;dpy, drw-&gt;screen, fontname))) {
</a><a href="#h7-0-118" id="h7-0-118" class="i">+			fprintf(stderr, &quot;error, cannot load font from name: &#39;%s&#39;\n&quot;, fontname);
</a><a href="#h7-0-119" id="h7-0-119" class="i">+			return NULL;
</a><a href="#h7-0-120" id="h7-0-120" class="i">+		}
</a><a href="#h7-0-121" id="h7-0-121" class="i">+		if (!(pattern = FcNameParse((FcChar8 *) fontname))) {
</a><a href="#h7-0-122" id="h7-0-122" class="i">+			fprintf(stderr, &quot;error, cannot parse font name to pattern: &#39;%s&#39;\n&quot;, fontname);
</a><a href="#h7-0-123" id="h7-0-123" class="i">+			XftFontClose(drw-&gt;dpy, xfont);
</a><a href="#h7-0-124" id="h7-0-124" class="i">+			return NULL;
</a><a href="#h7-0-125" id="h7-0-125" class="i">+		}
</a><a href="#h7-0-126" id="h7-0-126" class="i">+	} else if (fontpattern) {
</a><a href="#h7-0-127" id="h7-0-127" class="i">+		if (!(xfont = XftFontOpenPattern(drw-&gt;dpy, fontpattern))) {
</a><a href="#h7-0-128" id="h7-0-128" class="i">+			fprintf(stderr, &quot;error, cannot load font from pattern.\n&quot;);
</a><a href="#h7-0-129" id="h7-0-129" class="i">+			return NULL;
</a><a href="#h7-0-130" id="h7-0-130" class="i">+		}
</a><a href="#h7-0-131" id="h7-0-131" class="i">+	} else {
</a><a href="#h7-0-132" id="h7-0-132" class="i">+		die(&quot;no font specified.&quot;);
</a><a href="#h7-0-133" id="h7-0-133" class="i">+	}
</a><a href="#h7-0-134" id="h7-0-134" class="i">+
</a><a href="#h7-0-135" id="h7-0-135" class="i">+	font = ecalloc(1, sizeof(Fnt));
</a><a href="#h7-0-136" id="h7-0-136" class="i">+	font-&gt;xfont = xfont;
</a><a href="#h7-0-137" id="h7-0-137" class="i">+	font-&gt;pattern = pattern;
</a><a href="#h7-0-138" id="h7-0-138" class="i">+	font-&gt;h = xfont-&gt;ascent + xfont-&gt;descent;
</a><a href="#h7-0-139" id="h7-0-139" class="i">+	font-&gt;dpy = drw-&gt;dpy;
</a><a href="#h7-0-140" id="h7-0-140" class="i">+
</a><a href="#h7-0-141" id="h7-0-141" class="i">+	return font;
</a><a href="#h7-0-142" id="h7-0-142" class="i">+}
</a><a href="#h7-0-143" id="h7-0-143" class="i">+
</a><a href="#h7-0-144" id="h7-0-144" class="i">+static void
</a><a href="#h7-0-145" id="h7-0-145" class="i">+xfont_free(Fnt *font)
</a><a href="#h7-0-146" id="h7-0-146" class="i">+{
</a><a href="#h7-0-147" id="h7-0-147" class="i">+	if (!font)
</a><a href="#h7-0-148" id="h7-0-148" class="i">+		return;
</a><a href="#h7-0-149" id="h7-0-149" class="i">+	if (font-&gt;pattern)
</a><a href="#h7-0-150" id="h7-0-150" class="i">+		FcPatternDestroy(font-&gt;pattern);
</a><a href="#h7-0-151" id="h7-0-151" class="i">+	XftFontClose(font-&gt;dpy, font-&gt;xfont);
</a><a href="#h7-0-152" id="h7-0-152" class="i">+	free(font);
</a><a href="#h7-0-153" id="h7-0-153" class="i">+}
</a><a href="#h7-0-154" id="h7-0-154" class="i">+
</a><a href="#h7-0-155" id="h7-0-155" class="i">+Fnt*
</a><a href="#h7-0-156" id="h7-0-156" class="i">+drw_fontset_create(Drw* drw, const char *fonts[], size_t fontcount)
</a><a href="#h7-0-157" id="h7-0-157" class="i">+{
</a><a href="#h7-0-158" id="h7-0-158" class="i">+	Fnt *cur, *ret = NULL;
</a><a href="#h7-0-159" id="h7-0-159" class="i">+	size_t i;
</a><a href="#h7-0-160" id="h7-0-160" class="i">+
</a><a href="#h7-0-161" id="h7-0-161" class="i">+	if (!drw || !fonts)
</a><a href="#h7-0-162" id="h7-0-162" class="i">+		return NULL;
</a><a href="#h7-0-163" id="h7-0-163" class="i">+
</a><a href="#h7-0-164" id="h7-0-164" class="i">+	for (i = 1; i &lt;= fontcount; i++) {
</a><a href="#h7-0-165" id="h7-0-165" class="i">+		if ((cur = xfont_create(drw, fonts[fontcount - i], NULL))) {
</a><a href="#h7-0-166" id="h7-0-166" class="i">+			cur-&gt;next = ret;
</a><a href="#h7-0-167" id="h7-0-167" class="i">+			ret = cur;
</a><a href="#h7-0-168" id="h7-0-168" class="i">+		}
</a><a href="#h7-0-169" id="h7-0-169" class="i">+	}
</a><a href="#h7-0-170" id="h7-0-170" class="i">+	return (drw-&gt;fonts = ret);
</a><a href="#h7-0-171" id="h7-0-171" class="i">+}
</a><a href="#h7-0-172" id="h7-0-172" class="i">+
</a><a href="#h7-0-173" id="h7-0-173" class="i">+void
</a><a href="#h7-0-174" id="h7-0-174" class="i">+drw_fontset_free(Fnt *font)
</a><a href="#h7-0-175" id="h7-0-175" class="i">+{
</a><a href="#h7-0-176" id="h7-0-176" class="i">+	if (font) {
</a><a href="#h7-0-177" id="h7-0-177" class="i">+		drw_fontset_free(font-&gt;next);
</a><a href="#h7-0-178" id="h7-0-178" class="i">+		xfont_free(font);
</a><a href="#h7-0-179" id="h7-0-179" class="i">+	}
</a><a href="#h7-0-180" id="h7-0-180" class="i">+}
</a><a href="#h7-0-181" id="h7-0-181" class="i">+
</a><a href="#h7-0-182" id="h7-0-182" class="i">+void
</a><a href="#h7-0-183" id="h7-0-183" class="i">+drw_clr_create(Drw *drw, Clr *dest, const char *clrname)
</a><a href="#h7-0-184" id="h7-0-184" class="i">+{
</a><a href="#h7-0-185" id="h7-0-185" class="i">+	if (!drw || !dest || !clrname)
</a><a href="#h7-0-186" id="h7-0-186" class="i">+		return;
</a><a href="#h7-0-187" id="h7-0-187" class="i">+
</a><a href="#h7-0-188" id="h7-0-188" class="i">+	if (!XftColorAllocName(drw-&gt;dpy, DefaultVisual(drw-&gt;dpy, drw-&gt;screen),
</a><a href="#h7-0-189" id="h7-0-189" class="i">+	                       DefaultColormap(drw-&gt;dpy, drw-&gt;screen),
</a><a href="#h7-0-190" id="h7-0-190" class="i">+	                       clrname, dest))
</a><a href="#h7-0-191" id="h7-0-191" class="i">+		die(&quot;error, cannot allocate color &#39;%s&#39;&quot;, clrname);
</a><a href="#h7-0-192" id="h7-0-192" class="i">+}
</a><a href="#h7-0-193" id="h7-0-193" class="i">+
</a><a href="#h7-0-194" id="h7-0-194" class="i">+/* Wrapper to create color schemes. The caller has to call free(3) on the
</a><a href="#h7-0-195" id="h7-0-195" class="i">+ * returned color scheme when done using it. */
</a><a href="#h7-0-196" id="h7-0-196" class="i">+Clr *
</a><a href="#h7-0-197" id="h7-0-197" class="i">+drw_scm_create(Drw *drw, const char *clrnames[], size_t clrcount)
</a><a href="#h7-0-198" id="h7-0-198" class="i">+{
</a><a href="#h7-0-199" id="h7-0-199" class="i">+	size_t i;
</a><a href="#h7-0-200" id="h7-0-200" class="i">+	Clr *ret;
</a><a href="#h7-0-201" id="h7-0-201" class="i">+
</a><a href="#h7-0-202" id="h7-0-202" class="i">+	/* need at least two colors for a scheme */
</a><a href="#h7-0-203" id="h7-0-203" class="i">+	if (!drw || !clrnames || clrcount &lt; 2 || !(ret = ecalloc(clrcount, sizeof(XftColor))))
</a><a href="#h7-0-204" id="h7-0-204" class="i">+		return NULL;
</a><a href="#h7-0-205" id="h7-0-205" class="i">+
</a><a href="#h7-0-206" id="h7-0-206" class="i">+	for (i = 0; i &lt; clrcount; i++)
</a><a href="#h7-0-207" id="h7-0-207" class="i">+		drw_clr_create(drw, &amp;ret[i], clrnames[i]);
</a><a href="#h7-0-208" id="h7-0-208" class="i">+	return ret;
</a><a href="#h7-0-209" id="h7-0-209" class="i">+}
</a><a href="#h7-0-210" id="h7-0-210" class="i">+
</a><a href="#h7-0-211" id="h7-0-211" class="i">+void
</a><a href="#h7-0-212" id="h7-0-212" class="i">+drw_setfontset(Drw *drw, Fnt *set)
</a><a href="#h7-0-213" id="h7-0-213" class="i">+{
</a><a href="#h7-0-214" id="h7-0-214" class="i">+	if (drw)
</a><a href="#h7-0-215" id="h7-0-215" class="i">+		drw-&gt;fonts = set;
</a><a href="#h7-0-216" id="h7-0-216" class="i">+}
</a><a href="#h7-0-217" id="h7-0-217" class="i">+
</a><a href="#h7-0-218" id="h7-0-218" class="i">+void
</a><a href="#h7-0-219" id="h7-0-219" class="i">+drw_setscheme(Drw *drw, Clr *scm)
</a><a href="#h7-0-220" id="h7-0-220" class="i">+{
</a><a href="#h7-0-221" id="h7-0-221" class="i">+	if (drw)
</a><a href="#h7-0-222" id="h7-0-222" class="i">+		drw-&gt;scheme = scm;
</a><a href="#h7-0-223" id="h7-0-223" class="i">+}
</a><a href="#h7-0-224" id="h7-0-224" class="i">+
</a><a href="#h7-0-225" id="h7-0-225" class="i">+void
</a><a href="#h7-0-226" id="h7-0-226" class="i">+drw_rect(Drw *drw, int x, int y, unsigned int w, unsigned int h, int filled, int invert)
</a><a href="#h7-0-227" id="h7-0-227" class="i">+{
</a><a href="#h7-0-228" id="h7-0-228" class="i">+	if (!drw || !drw-&gt;scheme)
</a><a href="#h7-0-229" id="h7-0-229" class="i">+		return;
</a><a href="#h7-0-230" id="h7-0-230" class="i">+	XSetForeground(drw-&gt;dpy, drw-&gt;gc, invert ? drw-&gt;scheme[ColBg].pixel : drw-&gt;scheme[ColFg].pixel);
</a><a href="#h7-0-231" id="h7-0-231" class="i">+	if (filled)
</a><a href="#h7-0-232" id="h7-0-232" class="i">+		XFillRectangle(drw-&gt;dpy, drw-&gt;drawable, drw-&gt;gc, x, y, w, h);
</a><a href="#h7-0-233" id="h7-0-233" class="i">+	else
</a><a href="#h7-0-234" id="h7-0-234" class="i">+		XDrawRectangle(drw-&gt;dpy, drw-&gt;drawable, drw-&gt;gc, x, y, w - 1, h - 1);
</a><a href="#h7-0-235" id="h7-0-235" class="i">+}
</a><a href="#h7-0-236" id="h7-0-236" class="i">+
</a><a href="#h7-0-237" id="h7-0-237" class="i">+int
</a><a href="#h7-0-238" id="h7-0-238" class="i">+drw_text(Drw *drw, int x, int y, unsigned int w, unsigned int h, unsigned int lpad, const char *text, int invert)
</a><a href="#h7-0-239" id="h7-0-239" class="i">+{
</a><a href="#h7-0-240" id="h7-0-240" class="i">+	int i, ty, ellipsis_x = 0;
</a><a href="#h7-0-241" id="h7-0-241" class="i">+	unsigned int tmpw, ew, ellipsis_w = 0, ellipsis_len;
</a><a href="#h7-0-242" id="h7-0-242" class="i">+	XftDraw *d = NULL;
</a><a href="#h7-0-243" id="h7-0-243" class="i">+	Fnt *usedfont, *curfont, *nextfont;
</a><a href="#h7-0-244" id="h7-0-244" class="i">+	int utf8strlen, utf8charlen, render = x || y || w || h;
</a><a href="#h7-0-245" id="h7-0-245" class="i">+	long utf8codepoint = 0;
</a><a href="#h7-0-246" id="h7-0-246" class="i">+	const char *utf8str;
</a><a href="#h7-0-247" id="h7-0-247" class="i">+	FcCharSet *fccharset;
</a><a href="#h7-0-248" id="h7-0-248" class="i">+	FcPattern *fcpattern;
</a><a href="#h7-0-249" id="h7-0-249" class="i">+	FcPattern *match;
</a><a href="#h7-0-250" id="h7-0-250" class="i">+	XftResult result;
</a><a href="#h7-0-251" id="h7-0-251" class="i">+	int charexists = 0, overflow = 0;
</a><a href="#h7-0-252" id="h7-0-252" class="i">+	/* keep track of a couple codepoints for which we have no match. */
</a><a href="#h7-0-253" id="h7-0-253" class="i">+	enum { nomatches_len = 64 };
</a><a href="#h7-0-254" id="h7-0-254" class="i">+	static struct { long codepoint[nomatches_len]; unsigned int idx; } nomatches;
</a><a href="#h7-0-255" id="h7-0-255" class="i">+	static unsigned int ellipsis_width = 0;
</a><a href="#h7-0-256" id="h7-0-256" class="i">+
</a><a href="#h7-0-257" id="h7-0-257" class="i">+	if (!drw || (render &amp;&amp; (!drw-&gt;scheme || !w)) || !text || !drw-&gt;fonts)
</a><a href="#h7-0-258" id="h7-0-258" class="i">+		return 0;
</a><a href="#h7-0-259" id="h7-0-259" class="i">+
</a><a href="#h7-0-260" id="h7-0-260" class="i">+	if (!render) {
</a><a href="#h7-0-261" id="h7-0-261" class="i">+		w = invert ? invert : ~invert;
</a><a href="#h7-0-262" id="h7-0-262" class="i">+	} else {
</a><a href="#h7-0-263" id="h7-0-263" class="i">+		XSetForeground(drw-&gt;dpy, drw-&gt;gc, drw-&gt;scheme[invert ? ColFg : ColBg].pixel);
</a><a href="#h7-0-264" id="h7-0-264" class="i">+		XFillRectangle(drw-&gt;dpy, drw-&gt;drawable, drw-&gt;gc, x, y, w, h);
</a><a href="#h7-0-265" id="h7-0-265" class="i">+		d = XftDrawCreate(drw-&gt;dpy, drw-&gt;drawable,
</a><a href="#h7-0-266" id="h7-0-266" class="i">+		                  DefaultVisual(drw-&gt;dpy, drw-&gt;screen),
</a><a href="#h7-0-267" id="h7-0-267" class="i">+		                  DefaultColormap(drw-&gt;dpy, drw-&gt;screen));
</a><a href="#h7-0-268" id="h7-0-268" class="i">+		x += lpad;
</a><a href="#h7-0-269" id="h7-0-269" class="i">+		w -= lpad;
</a><a href="#h7-0-270" id="h7-0-270" class="i">+	}
</a><a href="#h7-0-271" id="h7-0-271" class="i">+
</a><a href="#h7-0-272" id="h7-0-272" class="i">+	usedfont = drw-&gt;fonts;
</a><a href="#h7-0-273" id="h7-0-273" class="i">+	if (!ellipsis_width &amp;&amp; render)
</a><a href="#h7-0-274" id="h7-0-274" class="i">+		ellipsis_width = drw_fontset_getwidth(drw, &quot;...&quot;);
</a><a href="#h7-0-275" id="h7-0-275" class="i">+	while (1) {
</a><a href="#h7-0-276" id="h7-0-276" class="i">+		ew = ellipsis_len = utf8strlen = 0;
</a><a href="#h7-0-277" id="h7-0-277" class="i">+		utf8str = text;
</a><a href="#h7-0-278" id="h7-0-278" class="i">+		nextfont = NULL;
</a><a href="#h7-0-279" id="h7-0-279" class="i">+		while (*text) {
</a><a href="#h7-0-280" id="h7-0-280" class="i">+			utf8charlen = utf8decode(text, &amp;utf8codepoint, UTF_SIZ);
</a><a href="#h7-0-281" id="h7-0-281" class="i">+			for (curfont = drw-&gt;fonts; curfont; curfont = curfont-&gt;next) {
</a><a href="#h7-0-282" id="h7-0-282" class="i">+				charexists = charexists || XftCharExists(drw-&gt;dpy, curfont-&gt;xfont, utf8codepoint);
</a><a href="#h7-0-283" id="h7-0-283" class="i">+				if (charexists) {
</a><a href="#h7-0-284" id="h7-0-284" class="i">+					drw_font_getexts(curfont, text, utf8charlen, &amp;tmpw, NULL);
</a><a href="#h7-0-285" id="h7-0-285" class="i">+					if (ew + ellipsis_width &lt;= w) {
</a><a href="#h7-0-286" id="h7-0-286" class="i">+						/* keep track where the ellipsis still fits */
</a><a href="#h7-0-287" id="h7-0-287" class="i">+						ellipsis_x = x + ew;
</a><a href="#h7-0-288" id="h7-0-288" class="i">+						ellipsis_w = w - ew;
</a><a href="#h7-0-289" id="h7-0-289" class="i">+						ellipsis_len = utf8strlen;
</a><a href="#h7-0-290" id="h7-0-290" class="i">+					}
</a><a href="#h7-0-291" id="h7-0-291" class="i">+
</a><a href="#h7-0-292" id="h7-0-292" class="i">+					if (ew + tmpw &gt; w) {
</a><a href="#h7-0-293" id="h7-0-293" class="i">+						overflow = 1;
</a><a href="#h7-0-294" id="h7-0-294" class="i">+						/* called from drw_fontset_getwidth_clamp():
</a><a href="#h7-0-295" id="h7-0-295" class="i">+						 * it wants the width AFTER the overflow
</a><a href="#h7-0-296" id="h7-0-296" class="i">+						 */
</a><a href="#h7-0-297" id="h7-0-297" class="i">+						if (!render)
</a><a href="#h7-0-298" id="h7-0-298" class="i">+							x += tmpw;
</a><a href="#h7-0-299" id="h7-0-299" class="i">+						else
</a><a href="#h7-0-300" id="h7-0-300" class="i">+							utf8strlen = ellipsis_len;
</a><a href="#h7-0-301" id="h7-0-301" class="i">+					} else if (curfont == usedfont) {
</a><a href="#h7-0-302" id="h7-0-302" class="i">+						utf8strlen += utf8charlen;
</a><a href="#h7-0-303" id="h7-0-303" class="i">+						text += utf8charlen;
</a><a href="#h7-0-304" id="h7-0-304" class="i">+						ew += tmpw;
</a><a href="#h7-0-305" id="h7-0-305" class="i">+					} else {
</a><a href="#h7-0-306" id="h7-0-306" class="i">+						nextfont = curfont;
</a><a href="#h7-0-307" id="h7-0-307" class="i">+					}
</a><a href="#h7-0-308" id="h7-0-308" class="i">+					break;
</a><a href="#h7-0-309" id="h7-0-309" class="i">+				}
</a><a href="#h7-0-310" id="h7-0-310" class="i">+			}
</a><a href="#h7-0-311" id="h7-0-311" class="i">+
</a><a href="#h7-0-312" id="h7-0-312" class="i">+			if (overflow || !charexists || nextfont)
</a><a href="#h7-0-313" id="h7-0-313" class="i">+				break;
</a><a href="#h7-0-314" id="h7-0-314" class="i">+			else
</a><a href="#h7-0-315" id="h7-0-315" class="i">+				charexists = 0;
</a><a href="#h7-0-316" id="h7-0-316" class="i">+		}
</a><a href="#h7-0-317" id="h7-0-317" class="i">+
</a><a href="#h7-0-318" id="h7-0-318" class="i">+		if (utf8strlen) {
</a><a href="#h7-0-319" id="h7-0-319" class="i">+			if (render) {
</a><a href="#h7-0-320" id="h7-0-320" class="i">+				ty = y + (h - usedfont-&gt;h) / 2 + usedfont-&gt;xfont-&gt;ascent;
</a><a href="#h7-0-321" id="h7-0-321" class="i">+				XftDrawStringUtf8(d, &amp;drw-&gt;scheme[invert ? ColBg : ColFg],
</a><a href="#h7-0-322" id="h7-0-322" class="i">+				                  usedfont-&gt;xfont, x, ty, (XftChar8 *)utf8str, utf8strlen);
</a><a href="#h7-0-323" id="h7-0-323" class="i">+			}
</a><a href="#h7-0-324" id="h7-0-324" class="i">+			x += ew;
</a><a href="#h7-0-325" id="h7-0-325" class="i">+			w -= ew;
</a><a href="#h7-0-326" id="h7-0-326" class="i">+		}
</a><a href="#h7-0-327" id="h7-0-327" class="i">+		if (render &amp;&amp; overflow)
</a><a href="#h7-0-328" id="h7-0-328" class="i">+			drw_text(drw, ellipsis_x, y, ellipsis_w, h, 0, &quot;...&quot;, invert);
</a><a href="#h7-0-329" id="h7-0-329" class="i">+
</a><a href="#h7-0-330" id="h7-0-330" class="i">+		if (!*text || overflow) {
</a><a href="#h7-0-331" id="h7-0-331" class="i">+			break;
</a><a href="#h7-0-332" id="h7-0-332" class="i">+		} else if (nextfont) {
</a><a href="#h7-0-333" id="h7-0-333" class="i">+			charexists = 0;
</a><a href="#h7-0-334" id="h7-0-334" class="i">+			usedfont = nextfont;
</a><a href="#h7-0-335" id="h7-0-335" class="i">+		} else {
</a><a href="#h7-0-336" id="h7-0-336" class="i">+			/* Regardless of whether or not a fallback font is found, the
</a><a href="#h7-0-337" id="h7-0-337" class="i">+			 * character must be drawn. */
</a><a href="#h7-0-338" id="h7-0-338" class="i">+			charexists = 1;
</a><a href="#h7-0-339" id="h7-0-339" class="i">+
</a><a href="#h7-0-340" id="h7-0-340" class="i">+			for (i = 0; i &lt; nomatches_len; ++i) {
</a><a href="#h7-0-341" id="h7-0-341" class="i">+				/* avoid calling XftFontMatch if we know we won&#39;t find a match */
</a><a href="#h7-0-342" id="h7-0-342" class="i">+				if (utf8codepoint == nomatches.codepoint[i])
</a><a href="#h7-0-343" id="h7-0-343" class="i">+					goto no_match;
</a><a href="#h7-0-344" id="h7-0-344" class="i">+			}
</a><a href="#h7-0-345" id="h7-0-345" class="i">+
</a><a href="#h7-0-346" id="h7-0-346" class="i">+			fccharset = FcCharSetCreate();
</a><a href="#h7-0-347" id="h7-0-347" class="i">+			FcCharSetAddChar(fccharset, utf8codepoint);
</a><a href="#h7-0-348" id="h7-0-348" class="i">+
</a><a href="#h7-0-349" id="h7-0-349" class="i">+			if (!drw-&gt;fonts-&gt;pattern) {
</a><a href="#h7-0-350" id="h7-0-350" class="i">+				/* Refer to the comment in xfont_create for more information. */
</a><a href="#h7-0-351" id="h7-0-351" class="i">+				die(&quot;the first font in the cache must be loaded from a font string.&quot;);
</a><a href="#h7-0-352" id="h7-0-352" class="i">+			}
</a><a href="#h7-0-353" id="h7-0-353" class="i">+
</a><a href="#h7-0-354" id="h7-0-354" class="i">+			fcpattern = FcPatternDuplicate(drw-&gt;fonts-&gt;pattern);
</a><a href="#h7-0-355" id="h7-0-355" class="i">+			FcPatternAddCharSet(fcpattern, FC_CHARSET, fccharset);
</a><a href="#h7-0-356" id="h7-0-356" class="i">+			FcPatternAddBool(fcpattern, FC_SCALABLE, FcTrue);
</a><a href="#h7-0-357" id="h7-0-357" class="i">+
</a><a href="#h7-0-358" id="h7-0-358" class="i">+			FcConfigSubstitute(NULL, fcpattern, FcMatchPattern);
</a><a href="#h7-0-359" id="h7-0-359" class="i">+			FcDefaultSubstitute(fcpattern);
</a><a href="#h7-0-360" id="h7-0-360" class="i">+			match = XftFontMatch(drw-&gt;dpy, drw-&gt;screen, fcpattern, &amp;result);
</a><a href="#h7-0-361" id="h7-0-361" class="i">+
</a><a href="#h7-0-362" id="h7-0-362" class="i">+			FcCharSetDestroy(fccharset);
</a><a href="#h7-0-363" id="h7-0-363" class="i">+			FcPatternDestroy(fcpattern);
</a><a href="#h7-0-364" id="h7-0-364" class="i">+
</a><a href="#h7-0-365" id="h7-0-365" class="i">+			if (match) {
</a><a href="#h7-0-366" id="h7-0-366" class="i">+				usedfont = xfont_create(drw, NULL, match);
</a><a href="#h7-0-367" id="h7-0-367" class="i">+				if (usedfont &amp;&amp; XftCharExists(drw-&gt;dpy, usedfont-&gt;xfont, utf8codepoint)) {
</a><a href="#h7-0-368" id="h7-0-368" class="i">+					for (curfont = drw-&gt;fonts; curfont-&gt;next; curfont = curfont-&gt;next)
</a><a href="#h7-0-369" id="h7-0-369" class="i">+						; /* NOP */
</a><a href="#h7-0-370" id="h7-0-370" class="i">+					curfont-&gt;next = usedfont;
</a><a href="#h7-0-371" id="h7-0-371" class="i">+				} else {
</a><a href="#h7-0-372" id="h7-0-372" class="i">+					xfont_free(usedfont);
</a><a href="#h7-0-373" id="h7-0-373" class="i">+					nomatches.codepoint[++nomatches.idx % nomatches_len] = utf8codepoint;
</a><a href="#h7-0-374" id="h7-0-374" class="i">+no_match:
</a><a href="#h7-0-375" id="h7-0-375" class="i">+					usedfont = drw-&gt;fonts;
</a><a href="#h7-0-376" id="h7-0-376" class="i">+				}
</a><a href="#h7-0-377" id="h7-0-377" class="i">+			}
</a><a href="#h7-0-378" id="h7-0-378" class="i">+		}
</a><a href="#h7-0-379" id="h7-0-379" class="i">+	}
</a><a href="#h7-0-380" id="h7-0-380" class="i">+	if (d)
</a><a href="#h7-0-381" id="h7-0-381" class="i">+		XftDrawDestroy(d);
</a><a href="#h7-0-382" id="h7-0-382" class="i">+
</a><a href="#h7-0-383" id="h7-0-383" class="i">+	return x + (render ? w : 0);
</a><a href="#h7-0-384" id="h7-0-384" class="i">+}
</a><a href="#h7-0-385" id="h7-0-385" class="i">+
</a><a href="#h7-0-386" id="h7-0-386" class="i">+void
</a><a href="#h7-0-387" id="h7-0-387" class="i">+drw_map(Drw *drw, Window win, int x, int y, unsigned int w, unsigned int h)
</a><a href="#h7-0-388" id="h7-0-388" class="i">+{
</a><a href="#h7-0-389" id="h7-0-389" class="i">+	if (!drw)
</a><a href="#h7-0-390" id="h7-0-390" class="i">+		return;
</a><a href="#h7-0-391" id="h7-0-391" class="i">+
</a><a href="#h7-0-392" id="h7-0-392" class="i">+	XCopyArea(drw-&gt;dpy, drw-&gt;drawable, win, drw-&gt;gc, x, y, w, h, x, y);
</a><a href="#h7-0-393" id="h7-0-393" class="i">+	XSync(drw-&gt;dpy, False);
</a><a href="#h7-0-394" id="h7-0-394" class="i">+}
</a><a href="#h7-0-395" id="h7-0-395" class="i">+
</a><a href="#h7-0-396" id="h7-0-396" class="i">+unsigned int
</a><a href="#h7-0-397" id="h7-0-397" class="i">+drw_fontset_getwidth(Drw *drw, const char *text)
</a><a href="#h7-0-398" id="h7-0-398" class="i">+{
</a><a href="#h7-0-399" id="h7-0-399" class="i">+	if (!drw || !drw-&gt;fonts || !text)
</a><a href="#h7-0-400" id="h7-0-400" class="i">+		return 0;
</a><a href="#h7-0-401" id="h7-0-401" class="i">+	return drw_text(drw, 0, 0, 0, 0, 0, text, 0);
</a><a href="#h7-0-402" id="h7-0-402" class="i">+}
</a><a href="#h7-0-403" id="h7-0-403" class="i">+
</a><a href="#h7-0-404" id="h7-0-404" class="i">+unsigned int
</a><a href="#h7-0-405" id="h7-0-405" class="i">+drw_fontset_getwidth_clamp(Drw *drw, const char *text, unsigned int n)
</a><a href="#h7-0-406" id="h7-0-406" class="i">+{
</a><a href="#h7-0-407" id="h7-0-407" class="i">+	unsigned int tmp = 0;
</a><a href="#h7-0-408" id="h7-0-408" class="i">+	if (drw &amp;&amp; drw-&gt;fonts &amp;&amp; text &amp;&amp; n)
</a><a href="#h7-0-409" id="h7-0-409" class="i">+		tmp = drw_text(drw, 0, 0, 0, 0, 0, text, n);
</a><a href="#h7-0-410" id="h7-0-410" class="i">+	return MIN(n, tmp);
</a><a href="#h7-0-411" id="h7-0-411" class="i">+}
</a><a href="#h7-0-412" id="h7-0-412" class="i">+
</a><a href="#h7-0-413" id="h7-0-413" class="i">+void
</a><a href="#h7-0-414" id="h7-0-414" class="i">+drw_font_getexts(Fnt *font, const char *text, unsigned int len, unsigned int *w, unsigned int *h)
</a><a href="#h7-0-415" id="h7-0-415" class="i">+{
</a><a href="#h7-0-416" id="h7-0-416" class="i">+	XGlyphInfo ext;
</a><a href="#h7-0-417" id="h7-0-417" class="i">+
</a><a href="#h7-0-418" id="h7-0-418" class="i">+	if (!font || !text)
</a><a href="#h7-0-419" id="h7-0-419" class="i">+		return;
</a><a href="#h7-0-420" id="h7-0-420" class="i">+
</a><a href="#h7-0-421" id="h7-0-421" class="i">+	XftTextExtentsUtf8(font-&gt;dpy, font-&gt;xfont, (XftChar8 *)text, len, &amp;ext);
</a><a href="#h7-0-422" id="h7-0-422" class="i">+	if (w)
</a><a href="#h7-0-423" id="h7-0-423" class="i">+		*w = ext.xOff;
</a><a href="#h7-0-424" id="h7-0-424" class="i">+	if (h)
</a><a href="#h7-0-425" id="h7-0-425" class="i">+		*h = font-&gt;h;
</a><a href="#h7-0-426" id="h7-0-426" class="i">+}
</a><a href="#h7-0-427" id="h7-0-427" class="i">+
</a><a href="#h7-0-428" id="h7-0-428" class="i">+Cur *
</a><a href="#h7-0-429" id="h7-0-429" class="i">+drw_cur_create(Drw *drw, int shape)
</a><a href="#h7-0-430" id="h7-0-430" class="i">+{
</a><a href="#h7-0-431" id="h7-0-431" class="i">+	Cur *cur;
</a><a href="#h7-0-432" id="h7-0-432" class="i">+
</a><a href="#h7-0-433" id="h7-0-433" class="i">+	if (!drw || !(cur = ecalloc(1, sizeof(Cur))))
</a><a href="#h7-0-434" id="h7-0-434" class="i">+		return NULL;
</a><a href="#h7-0-435" id="h7-0-435" class="i">+
</a><a href="#h7-0-436" id="h7-0-436" class="i">+	cur-&gt;cursor = XCreateFontCursor(drw-&gt;dpy, shape);
</a><a href="#h7-0-437" id="h7-0-437" class="i">+
</a><a href="#h7-0-438" id="h7-0-438" class="i">+	return cur;
</a><a href="#h7-0-439" id="h7-0-439" class="i">+}
</a><a href="#h7-0-440" id="h7-0-440" class="i">+
</a><a href="#h7-0-441" id="h7-0-441" class="i">+void
</a><a href="#h7-0-442" id="h7-0-442" class="i">+drw_cur_free(Drw *drw, Cur *cursor)
</a><a href="#h7-0-443" id="h7-0-443" class="i">+{
</a><a href="#h7-0-444" id="h7-0-444" class="i">+	if (!cursor)
</a><a href="#h7-0-445" id="h7-0-445" class="i">+		return;
</a><a href="#h7-0-446" id="h7-0-446" class="i">+
</a><a href="#h7-0-447" id="h7-0-447" class="i">+	XFreeCursor(drw-&gt;dpy, cursor-&gt;cursor);
</a><a href="#h7-0-448" id="h7-0-448" class="i">+	free(cursor);
</a><a href="#h7-0-449" id="h7-0-449" class="i">+}
</a><b>diff --git a/<a id="h8" href="../file/.local/src/dwm/drw.h.html">.local/src/dwm/drw.h</a> b/<a href="../file/.local/src/dwm/drw.h.html">.local/src/dwm/drw.h</a></b>
<a href="#h8-0" id="h8-0" class="h">@@ -0,0 +1,58 @@
</a><a href="#h8-0-0" id="h8-0-0" class="i">+/* See LICENSE file for copyright and license details. */
</a><a href="#h8-0-1" id="h8-0-1" class="i">+
</a><a href="#h8-0-2" id="h8-0-2" class="i">+typedef struct {
</a><a href="#h8-0-3" id="h8-0-3" class="i">+	Cursor cursor;
</a><a href="#h8-0-4" id="h8-0-4" class="i">+} Cur;
</a><a href="#h8-0-5" id="h8-0-5" class="i">+
</a><a href="#h8-0-6" id="h8-0-6" class="i">+typedef struct Fnt {
</a><a href="#h8-0-7" id="h8-0-7" class="i">+	Display *dpy;
</a><a href="#h8-0-8" id="h8-0-8" class="i">+	unsigned int h;
</a><a href="#h8-0-9" id="h8-0-9" class="i">+	XftFont *xfont;
</a><a href="#h8-0-10" id="h8-0-10" class="i">+	FcPattern *pattern;
</a><a href="#h8-0-11" id="h8-0-11" class="i">+	struct Fnt *next;
</a><a href="#h8-0-12" id="h8-0-12" class="i">+} Fnt;
</a><a href="#h8-0-13" id="h8-0-13" class="i">+
</a><a href="#h8-0-14" id="h8-0-14" class="i">+enum { ColFg, ColBg, ColBorder }; /* Clr scheme index */
</a><a href="#h8-0-15" id="h8-0-15" class="i">+typedef XftColor Clr;
</a><a href="#h8-0-16" id="h8-0-16" class="i">+
</a><a href="#h8-0-17" id="h8-0-17" class="i">+typedef struct {
</a><a href="#h8-0-18" id="h8-0-18" class="i">+	unsigned int w, h;
</a><a href="#h8-0-19" id="h8-0-19" class="i">+	Display *dpy;
</a><a href="#h8-0-20" id="h8-0-20" class="i">+	int screen;
</a><a href="#h8-0-21" id="h8-0-21" class="i">+	Window root;
</a><a href="#h8-0-22" id="h8-0-22" class="i">+	Drawable drawable;
</a><a href="#h8-0-23" id="h8-0-23" class="i">+	GC gc;
</a><a href="#h8-0-24" id="h8-0-24" class="i">+	Clr *scheme;
</a><a href="#h8-0-25" id="h8-0-25" class="i">+	Fnt *fonts;
</a><a href="#h8-0-26" id="h8-0-26" class="i">+} Drw;
</a><a href="#h8-0-27" id="h8-0-27" class="i">+
</a><a href="#h8-0-28" id="h8-0-28" class="i">+/* Drawable abstraction */
</a><a href="#h8-0-29" id="h8-0-29" class="i">+Drw *drw_create(Display *dpy, int screen, Window win, unsigned int w, unsigned int h);
</a><a href="#h8-0-30" id="h8-0-30" class="i">+void drw_resize(Drw *drw, unsigned int w, unsigned int h);
</a><a href="#h8-0-31" id="h8-0-31" class="i">+void drw_free(Drw *drw);
</a><a href="#h8-0-32" id="h8-0-32" class="i">+
</a><a href="#h8-0-33" id="h8-0-33" class="i">+/* Fnt abstraction */
</a><a href="#h8-0-34" id="h8-0-34" class="i">+Fnt *drw_fontset_create(Drw* drw, const char *fonts[], size_t fontcount);
</a><a href="#h8-0-35" id="h8-0-35" class="i">+void drw_fontset_free(Fnt* set);
</a><a href="#h8-0-36" id="h8-0-36" class="i">+unsigned int drw_fontset_getwidth(Drw *drw, const char *text);
</a><a href="#h8-0-37" id="h8-0-37" class="i">+unsigned int drw_fontset_getwidth_clamp(Drw *drw, const char *text, unsigned int n);
</a><a href="#h8-0-38" id="h8-0-38" class="i">+void drw_font_getexts(Fnt *font, const char *text, unsigned int len, unsigned int *w, unsigned int *h);
</a><a href="#h8-0-39" id="h8-0-39" class="i">+
</a><a href="#h8-0-40" id="h8-0-40" class="i">+/* Colorscheme abstraction */
</a><a href="#h8-0-41" id="h8-0-41" class="i">+void drw_clr_create(Drw *drw, Clr *dest, const char *clrname);
</a><a href="#h8-0-42" id="h8-0-42" class="i">+Clr *drw_scm_create(Drw *drw, const char *clrnames[], size_t clrcount);
</a><a href="#h8-0-43" id="h8-0-43" class="i">+
</a><a href="#h8-0-44" id="h8-0-44" class="i">+/* Cursor abstraction */
</a><a href="#h8-0-45" id="h8-0-45" class="i">+Cur *drw_cur_create(Drw *drw, int shape);
</a><a href="#h8-0-46" id="h8-0-46" class="i">+void drw_cur_free(Drw *drw, Cur *cursor);
</a><a href="#h8-0-47" id="h8-0-47" class="i">+
</a><a href="#h8-0-48" id="h8-0-48" class="i">+/* Drawing context manipulation */
</a><a href="#h8-0-49" id="h8-0-49" class="i">+void drw_setfontset(Drw *drw, Fnt *set);
</a><a href="#h8-0-50" id="h8-0-50" class="i">+void drw_setscheme(Drw *drw, Clr *scm);
</a><a href="#h8-0-51" id="h8-0-51" class="i">+
</a><a href="#h8-0-52" id="h8-0-52" class="i">+/* Drawing functions */
</a><a href="#h8-0-53" id="h8-0-53" class="i">+void drw_rect(Drw *drw, int x, int y, unsigned int w, unsigned int h, int filled, int invert);
</a><a href="#h8-0-54" id="h8-0-54" class="i">+int drw_text(Drw *drw, int x, int y, unsigned int w, unsigned int h, unsigned int lpad, const char *text, int invert);
</a><a href="#h8-0-55" id="h8-0-55" class="i">+
</a><a href="#h8-0-56" id="h8-0-56" class="i">+/* Map functions */
</a><a href="#h8-0-57" id="h8-0-57" class="i">+void drw_map(Drw *drw, Window win, int x, int y, unsigned int w, unsigned int h);
</a><b>diff --git a/<a id="h9" href="../file/.local/src/dwm/drw.o.html">.local/src/dwm/drw.o</a> b/<a href="../file/.local/src/dwm/drw.o.html">.local/src/dwm/drw.o</a></b>
Binary files differ.
<b>diff --git a/<a id="h10" href="../file/.local/src/dwm/dwm.html">.local/src/dwm/dwm</a> b/<a href="../file/.local/src/dwm/dwm.html">.local/src/dwm/dwm</a></b>
Binary files differ.
<b>diff --git a/<a id="h11" href="../file/.local/src/dwm/dwm.1.html">.local/src/dwm/dwm.1</a> b/<a href="../file/.local/src/dwm/dwm.1.html">.local/src/dwm/dwm.1</a></b>
<a href="#h11-0" id="h11-0" class="h">@@ -0,0 +1,176 @@
</a><a href="#h11-0-0" id="h11-0-0" class="i">+.TH DWM 1 dwm\-VERSION
</a><a href="#h11-0-1" id="h11-0-1" class="i">+.SH NAME
</a><a href="#h11-0-2" id="h11-0-2" class="i">+dwm \- dynamic window manager
</a><a href="#h11-0-3" id="h11-0-3" class="i">+.SH SYNOPSIS
</a><a href="#h11-0-4" id="h11-0-4" class="i">+.B dwm
</a><a href="#h11-0-5" id="h11-0-5" class="i">+.RB [ \-v ]
</a><a href="#h11-0-6" id="h11-0-6" class="i">+.SH DESCRIPTION
</a><a href="#h11-0-7" id="h11-0-7" class="i">+dwm is a dynamic window manager for X. It manages windows in tiled, monocle
</a><a href="#h11-0-8" id="h11-0-8" class="i">+and floating layouts. Either layout can be applied dynamically, optimising the
</a><a href="#h11-0-9" id="h11-0-9" class="i">+environment for the application in use and the task performed.
</a><a href="#h11-0-10" id="h11-0-10" class="i">+.P
</a><a href="#h11-0-11" id="h11-0-11" class="i">+In tiled layouts windows are managed in a master and stacking area. The master
</a><a href="#h11-0-12" id="h11-0-12" class="i">+area on the left contains one window by default, and the stacking area on the
</a><a href="#h11-0-13" id="h11-0-13" class="i">+right contains all other windows. The number of master area windows can be
</a><a href="#h11-0-14" id="h11-0-14" class="i">+adjusted from zero to an arbitrary number. In monocle layout all windows are
</a><a href="#h11-0-15" id="h11-0-15" class="i">+maximised to the screen size. In floating layout windows can be resized and
</a><a href="#h11-0-16" id="h11-0-16" class="i">+moved freely. Dialog windows are always managed floating, regardless of the
</a><a href="#h11-0-17" id="h11-0-17" class="i">+layout applied.
</a><a href="#h11-0-18" id="h11-0-18" class="i">+.P
</a><a href="#h11-0-19" id="h11-0-19" class="i">+Windows are grouped by tags. Each window can be tagged with one or multiple
</a><a href="#h11-0-20" id="h11-0-20" class="i">+tags. Selecting certain tags displays all windows with these tags.
</a><a href="#h11-0-21" id="h11-0-21" class="i">+.P
</a><a href="#h11-0-22" id="h11-0-22" class="i">+Each screen contains a small status bar which displays all available tags, the
</a><a href="#h11-0-23" id="h11-0-23" class="i">+layout, the title of the focused window, and the text read from the root window
</a><a href="#h11-0-24" id="h11-0-24" class="i">+name property, if the screen is focused. A floating window is indicated with an
</a><a href="#h11-0-25" id="h11-0-25" class="i">+empty square and a maximised floating window is indicated with a filled square
</a><a href="#h11-0-26" id="h11-0-26" class="i">+before the windows title.  The selected tags are indicated with a different
</a><a href="#h11-0-27" id="h11-0-27" class="i">+color. The tags of the focused window are indicated with a filled square in the
</a><a href="#h11-0-28" id="h11-0-28" class="i">+top left corner.  The tags which are applied to one or more windows are
</a><a href="#h11-0-29" id="h11-0-29" class="i">+indicated with an empty square in the top left corner.
</a><a href="#h11-0-30" id="h11-0-30" class="i">+.P
</a><a href="#h11-0-31" id="h11-0-31" class="i">+dwm draws a small border around windows to indicate the focus state.
</a><a href="#h11-0-32" id="h11-0-32" class="i">+.SH OPTIONS
</a><a href="#h11-0-33" id="h11-0-33" class="i">+.TP
</a><a href="#h11-0-34" id="h11-0-34" class="i">+.B \-v
</a><a href="#h11-0-35" id="h11-0-35" class="i">+prints version information to stderr, then exits.
</a><a href="#h11-0-36" id="h11-0-36" class="i">+.SH USAGE
</a><a href="#h11-0-37" id="h11-0-37" class="i">+.SS Status bar
</a><a href="#h11-0-38" id="h11-0-38" class="i">+.TP
</a><a href="#h11-0-39" id="h11-0-39" class="i">+.B X root window name
</a><a href="#h11-0-40" id="h11-0-40" class="i">+is read and displayed in the status text area. It can be set with the
</a><a href="#h11-0-41" id="h11-0-41" class="i">+.BR xsetroot (1)
</a><a href="#h11-0-42" id="h11-0-42" class="i">+command.
</a><a href="#h11-0-43" id="h11-0-43" class="i">+.TP
</a><a href="#h11-0-44" id="h11-0-44" class="i">+.B Button1
</a><a href="#h11-0-45" id="h11-0-45" class="i">+click on a tag label to display all windows with that tag, click on the layout
</a><a href="#h11-0-46" id="h11-0-46" class="i">+label toggles between tiled and floating layout.
</a><a href="#h11-0-47" id="h11-0-47" class="i">+.TP
</a><a href="#h11-0-48" id="h11-0-48" class="i">+.B Button3
</a><a href="#h11-0-49" id="h11-0-49" class="i">+click on a tag label adds/removes all windows with that tag to/from the view.
</a><a href="#h11-0-50" id="h11-0-50" class="i">+.TP
</a><a href="#h11-0-51" id="h11-0-51" class="i">+.B Mod1\-Button1
</a><a href="#h11-0-52" id="h11-0-52" class="i">+click on a tag label applies that tag to the focused window.
</a><a href="#h11-0-53" id="h11-0-53" class="i">+.TP
</a><a href="#h11-0-54" id="h11-0-54" class="i">+.B Mod1\-Button3
</a><a href="#h11-0-55" id="h11-0-55" class="i">+click on a tag label adds/removes that tag to/from the focused window.
</a><a href="#h11-0-56" id="h11-0-56" class="i">+.SS Keyboard commands
</a><a href="#h11-0-57" id="h11-0-57" class="i">+.TP
</a><a href="#h11-0-58" id="h11-0-58" class="i">+.B Mod1\-Shift\-Return
</a><a href="#h11-0-59" id="h11-0-59" class="i">+Start
</a><a href="#h11-0-60" id="h11-0-60" class="i">+.BR st(1).
</a><a href="#h11-0-61" id="h11-0-61" class="i">+.TP
</a><a href="#h11-0-62" id="h11-0-62" class="i">+.B Mod1\-p
</a><a href="#h11-0-63" id="h11-0-63" class="i">+Spawn
</a><a href="#h11-0-64" id="h11-0-64" class="i">+.BR dmenu(1)
</a><a href="#h11-0-65" id="h11-0-65" class="i">+for launching other programs.
</a><a href="#h11-0-66" id="h11-0-66" class="i">+.TP
</a><a href="#h11-0-67" id="h11-0-67" class="i">+.B Mod1\-,
</a><a href="#h11-0-68" id="h11-0-68" class="i">+Focus previous screen, if any.
</a><a href="#h11-0-69" id="h11-0-69" class="i">+.TP
</a><a href="#h11-0-70" id="h11-0-70" class="i">+.B Mod1\-.
</a><a href="#h11-0-71" id="h11-0-71" class="i">+Focus next screen, if any.
</a><a href="#h11-0-72" id="h11-0-72" class="i">+.TP
</a><a href="#h11-0-73" id="h11-0-73" class="i">+.B Mod1\-Shift\-,
</a><a href="#h11-0-74" id="h11-0-74" class="i">+Send focused window to previous screen, if any.
</a><a href="#h11-0-75" id="h11-0-75" class="i">+.TP
</a><a href="#h11-0-76" id="h11-0-76" class="i">+.B Mod1\-Shift\-.
</a><a href="#h11-0-77" id="h11-0-77" class="i">+Send focused window to next screen, if any.
</a><a href="#h11-0-78" id="h11-0-78" class="i">+.TP
</a><a href="#h11-0-79" id="h11-0-79" class="i">+.B Mod1\-b
</a><a href="#h11-0-80" id="h11-0-80" class="i">+Toggles bar on and off.
</a><a href="#h11-0-81" id="h11-0-81" class="i">+.TP
</a><a href="#h11-0-82" id="h11-0-82" class="i">+.B Mod1\-t
</a><a href="#h11-0-83" id="h11-0-83" class="i">+Sets tiled layout.
</a><a href="#h11-0-84" id="h11-0-84" class="i">+.TP
</a><a href="#h11-0-85" id="h11-0-85" class="i">+.B Mod1\-f
</a><a href="#h11-0-86" id="h11-0-86" class="i">+Sets floating layout.
</a><a href="#h11-0-87" id="h11-0-87" class="i">+.TP
</a><a href="#h11-0-88" id="h11-0-88" class="i">+.B Mod1\-m
</a><a href="#h11-0-89" id="h11-0-89" class="i">+Sets monocle layout.
</a><a href="#h11-0-90" id="h11-0-90" class="i">+.TP
</a><a href="#h11-0-91" id="h11-0-91" class="i">+.B Mod1\-space
</a><a href="#h11-0-92" id="h11-0-92" class="i">+Toggles between current and previous layout.
</a><a href="#h11-0-93" id="h11-0-93" class="i">+.TP
</a><a href="#h11-0-94" id="h11-0-94" class="i">+.B Mod1\-j
</a><a href="#h11-0-95" id="h11-0-95" class="i">+Focus next window.
</a><a href="#h11-0-96" id="h11-0-96" class="i">+.TP
</a><a href="#h11-0-97" id="h11-0-97" class="i">+.B Mod1\-k
</a><a href="#h11-0-98" id="h11-0-98" class="i">+Focus previous window.
</a><a href="#h11-0-99" id="h11-0-99" class="i">+.TP
</a><a href="#h11-0-100" id="h11-0-100" class="i">+.B Mod1\-i
</a><a href="#h11-0-101" id="h11-0-101" class="i">+Increase number of windows in master area.
</a><a href="#h11-0-102" id="h11-0-102" class="i">+.TP
</a><a href="#h11-0-103" id="h11-0-103" class="i">+.B Mod1\-d
</a><a href="#h11-0-104" id="h11-0-104" class="i">+Decrease number of windows in master area.
</a><a href="#h11-0-105" id="h11-0-105" class="i">+.TP
</a><a href="#h11-0-106" id="h11-0-106" class="i">+.B Mod1\-l
</a><a href="#h11-0-107" id="h11-0-107" class="i">+Increase master area size.
</a><a href="#h11-0-108" id="h11-0-108" class="i">+.TP
</a><a href="#h11-0-109" id="h11-0-109" class="i">+.B Mod1\-h
</a><a href="#h11-0-110" id="h11-0-110" class="i">+Decrease master area size.
</a><a href="#h11-0-111" id="h11-0-111" class="i">+.TP
</a><a href="#h11-0-112" id="h11-0-112" class="i">+.B Mod1\-Return
</a><a href="#h11-0-113" id="h11-0-113" class="i">+Zooms/cycles focused window to/from master area (tiled layouts only).
</a><a href="#h11-0-114" id="h11-0-114" class="i">+.TP
</a><a href="#h11-0-115" id="h11-0-115" class="i">+.B Mod1\-Shift\-c
</a><a href="#h11-0-116" id="h11-0-116" class="i">+Close focused window.
</a><a href="#h11-0-117" id="h11-0-117" class="i">+.TP
</a><a href="#h11-0-118" id="h11-0-118" class="i">+.B Mod1\-Shift\-space
</a><a href="#h11-0-119" id="h11-0-119" class="i">+Toggle focused window between tiled and floating state.
</a><a href="#h11-0-120" id="h11-0-120" class="i">+.TP
</a><a href="#h11-0-121" id="h11-0-121" class="i">+.B Mod1\-Tab
</a><a href="#h11-0-122" id="h11-0-122" class="i">+Toggles to the previously selected tags.
</a><a href="#h11-0-123" id="h11-0-123" class="i">+.TP
</a><a href="#h11-0-124" id="h11-0-124" class="i">+.B Mod1\-Shift\-[1..n]
</a><a href="#h11-0-125" id="h11-0-125" class="i">+Apply nth tag to focused window.
</a><a href="#h11-0-126" id="h11-0-126" class="i">+.TP
</a><a href="#h11-0-127" id="h11-0-127" class="i">+.B Mod1\-Shift\-0
</a><a href="#h11-0-128" id="h11-0-128" class="i">+Apply all tags to focused window.
</a><a href="#h11-0-129" id="h11-0-129" class="i">+.TP
</a><a href="#h11-0-130" id="h11-0-130" class="i">+.B Mod1\-Control\-Shift\-[1..n]
</a><a href="#h11-0-131" id="h11-0-131" class="i">+Add/remove nth tag to/from focused window.
</a><a href="#h11-0-132" id="h11-0-132" class="i">+.TP
</a><a href="#h11-0-133" id="h11-0-133" class="i">+.B Mod1\-[1..n]
</a><a href="#h11-0-134" id="h11-0-134" class="i">+View all windows with nth tag.
</a><a href="#h11-0-135" id="h11-0-135" class="i">+.TP
</a><a href="#h11-0-136" id="h11-0-136" class="i">+.B Mod1\-0
</a><a href="#h11-0-137" id="h11-0-137" class="i">+View all windows with any tag.
</a><a href="#h11-0-138" id="h11-0-138" class="i">+.TP
</a><a href="#h11-0-139" id="h11-0-139" class="i">+.B Mod1\-Control\-[1..n]
</a><a href="#h11-0-140" id="h11-0-140" class="i">+Add/remove all windows with nth tag to/from the view.
</a><a href="#h11-0-141" id="h11-0-141" class="i">+.TP
</a><a href="#h11-0-142" id="h11-0-142" class="i">+.B Mod1\-Shift\-q
</a><a href="#h11-0-143" id="h11-0-143" class="i">+Quit dwm.
</a><a href="#h11-0-144" id="h11-0-144" class="i">+.SS Mouse commands
</a><a href="#h11-0-145" id="h11-0-145" class="i">+.TP
</a><a href="#h11-0-146" id="h11-0-146" class="i">+.B Mod1\-Button1
</a><a href="#h11-0-147" id="h11-0-147" class="i">+Move focused window while dragging. Tiled windows will be toggled to the floating state.
</a><a href="#h11-0-148" id="h11-0-148" class="i">+.TP
</a><a href="#h11-0-149" id="h11-0-149" class="i">+.B Mod1\-Button2
</a><a href="#h11-0-150" id="h11-0-150" class="i">+Toggles focused window between floating and tiled state.
</a><a href="#h11-0-151" id="h11-0-151" class="i">+.TP
</a><a href="#h11-0-152" id="h11-0-152" class="i">+.B Mod1\-Button3
</a><a href="#h11-0-153" id="h11-0-153" class="i">+Resize focused window while dragging. Tiled windows will be toggled to the floating state.
</a><a href="#h11-0-154" id="h11-0-154" class="i">+.SH CUSTOMIZATION
</a><a href="#h11-0-155" id="h11-0-155" class="i">+dwm is customized by creating a custom config.h and (re)compiling the source
</a><a href="#h11-0-156" id="h11-0-156" class="i">+code. This keeps it fast, secure and simple.
</a><a href="#h11-0-157" id="h11-0-157" class="i">+.SH SEE ALSO
</a><a href="#h11-0-158" id="h11-0-158" class="i">+.BR dmenu (1),
</a><a href="#h11-0-159" id="h11-0-159" class="i">+.BR st (1)
</a><a href="#h11-0-160" id="h11-0-160" class="i">+.SH ISSUES
</a><a href="#h11-0-161" id="h11-0-161" class="i">+Java applications which use the XToolkit/XAWT backend may draw grey windows
</a><a href="#h11-0-162" id="h11-0-162" class="i">+only. The XToolkit/XAWT backend breaks ICCCM-compliance in recent JDK 1.5 and early
</a><a href="#h11-0-163" id="h11-0-163" class="i">+JDK 1.6 versions, because it assumes a reparenting window manager. Possible workarounds
</a><a href="#h11-0-164" id="h11-0-164" class="i">+are using JDK 1.4 (which doesn&#39;t contain the XToolkit/XAWT backend) or setting the
</a><a href="#h11-0-165" id="h11-0-165" class="i">+environment variable
</a><a href="#h11-0-166" id="h11-0-166" class="i">+.BR AWT_TOOLKIT=MToolkit
</a><a href="#h11-0-167" id="h11-0-167" class="i">+(to use the older Motif backend instead) or running
</a><a href="#h11-0-168" id="h11-0-168" class="i">+.B xprop -root -f _NET_WM_NAME 32a -set _NET_WM_NAME LG3D
</a><a href="#h11-0-169" id="h11-0-169" class="i">+or
</a><a href="#h11-0-170" id="h11-0-170" class="i">+.B wmname LG3D
</a><a href="#h11-0-171" id="h11-0-171" class="i">+(to pretend that a non-reparenting window manager is running that the
</a><a href="#h11-0-172" id="h11-0-172" class="i">+XToolkit/XAWT backend can recognize) or when using OpenJDK setting the environment variable
</a><a href="#h11-0-173" id="h11-0-173" class="i">+.BR _JAVA_AWT_WM_NONREPARENTING=1 .
</a><a href="#h11-0-174" id="h11-0-174" class="i">+.SH BUGS
</a><a href="#h11-0-175" id="h11-0-175" class="i">+Send all bug reports with a patch to hackers@suckless.org.
</a><b>diff --git a/<a id="h12" href="../file/.local/src/dwm/dwm.c.html">.local/src/dwm/dwm.c</a> b/<a href="../file/.local/src/dwm/dwm.c.html">.local/src/dwm/dwm.c</a></b>
<a href="#h12-0" id="h12-0" class="h">@@ -0,0 +1,2159 @@
</a><a href="#h12-0-0" id="h12-0-0" class="i">+/* See LICENSE file for copyright and license details.
</a><a href="#h12-0-1" id="h12-0-1" class="i">+ *
</a><a href="#h12-0-2" id="h12-0-2" class="i">+ * dynamic window manager is designed like any other X client as well. It is
</a><a href="#h12-0-3" id="h12-0-3" class="i">+ * driven through handling X events. In contrast to other X clients, a window
</a><a href="#h12-0-4" id="h12-0-4" class="i">+ * manager selects for SubstructureRedirectMask on the root window, to receive
</a><a href="#h12-0-5" id="h12-0-5" class="i">+ * events about window (dis-)appearance. Only one X connection at a time is
</a><a href="#h12-0-6" id="h12-0-6" class="i">+ * allowed to select for this event mask.
</a><a href="#h12-0-7" id="h12-0-7" class="i">+ *
</a><a href="#h12-0-8" id="h12-0-8" class="i">+ * The event handlers of dwm are organized in an array which is accessed
</a><a href="#h12-0-9" id="h12-0-9" class="i">+ * whenever a new event has been fetched. This allows event dispatching
</a><a href="#h12-0-10" id="h12-0-10" class="i">+ * in O(1) time.
</a><a href="#h12-0-11" id="h12-0-11" class="i">+ *
</a><a href="#h12-0-12" id="h12-0-12" class="i">+ * Each child of the root window is called a client, except windows which have
</a><a href="#h12-0-13" id="h12-0-13" class="i">+ * set the override_redirect flag. Clients are organized in a linked client
</a><a href="#h12-0-14" id="h12-0-14" class="i">+ * list on each monitor, the focus history is remembered through a stack list
</a><a href="#h12-0-15" id="h12-0-15" class="i">+ * on each monitor. Each client contains a bit array to indicate the tags of a
</a><a href="#h12-0-16" id="h12-0-16" class="i">+ * client.
</a><a href="#h12-0-17" id="h12-0-17" class="i">+ *
</a><a href="#h12-0-18" id="h12-0-18" class="i">+ * Keys and tagging rules are organized as arrays and defined in config.h.
</a><a href="#h12-0-19" id="h12-0-19" class="i">+ *
</a><a href="#h12-0-20" id="h12-0-20" class="i">+ * To understand everything else, start reading main().
</a><a href="#h12-0-21" id="h12-0-21" class="i">+ */
</a><a href="#h12-0-22" id="h12-0-22" class="i">+#include &lt;errno.h&gt;
</a><a href="#h12-0-23" id="h12-0-23" class="i">+#include &lt;locale.h&gt;
</a><a href="#h12-0-24" id="h12-0-24" class="i">+#include &lt;signal.h&gt;
</a><a href="#h12-0-25" id="h12-0-25" class="i">+#include &lt;stdarg.h&gt;
</a><a href="#h12-0-26" id="h12-0-26" class="i">+#include &lt;stdio.h&gt;
</a><a href="#h12-0-27" id="h12-0-27" class="i">+#include &lt;stdlib.h&gt;
</a><a href="#h12-0-28" id="h12-0-28" class="i">+#include &lt;string.h&gt;
</a><a href="#h12-0-29" id="h12-0-29" class="i">+#include &lt;unistd.h&gt;
</a><a href="#h12-0-30" id="h12-0-30" class="i">+#include &lt;sys/types.h&gt;
</a><a href="#h12-0-31" id="h12-0-31" class="i">+#include &lt;sys/wait.h&gt;
</a><a href="#h12-0-32" id="h12-0-32" class="i">+#include &lt;X11/cursorfont.h&gt;
</a><a href="#h12-0-33" id="h12-0-33" class="i">+#include &lt;X11/keysym.h&gt;
</a><a href="#h12-0-34" id="h12-0-34" class="i">+#include &lt;X11/Xatom.h&gt;
</a><a href="#h12-0-35" id="h12-0-35" class="i">+#include &lt;X11/Xlib.h&gt;
</a><a href="#h12-0-36" id="h12-0-36" class="i">+#include &lt;X11/Xproto.h&gt;
</a><a href="#h12-0-37" id="h12-0-37" class="i">+#include &lt;X11/Xutil.h&gt;
</a><a href="#h12-0-38" id="h12-0-38" class="i">+#ifdef XINERAMA
</a><a href="#h12-0-39" id="h12-0-39" class="i">+#include &lt;X11/extensions/Xinerama.h&gt;
</a><a href="#h12-0-40" id="h12-0-40" class="i">+#endif /* XINERAMA */
</a><a href="#h12-0-41" id="h12-0-41" class="i">+#include &lt;X11/Xft/Xft.h&gt;
</a><a href="#h12-0-42" id="h12-0-42" class="i">+
</a><a href="#h12-0-43" id="h12-0-43" class="i">+#include &quot;drw.h&quot;
</a><a href="#h12-0-44" id="h12-0-44" class="i">+#include &quot;util.h&quot;
</a><a href="#h12-0-45" id="h12-0-45" class="i">+
</a><a href="#h12-0-46" id="h12-0-46" class="i">+/* macros */
</a><a href="#h12-0-47" id="h12-0-47" class="i">+#define BUTTONMASK              (ButtonPressMask|ButtonReleaseMask)
</a><a href="#h12-0-48" id="h12-0-48" class="i">+#define CLEANMASK(mask)         (mask &amp; ~(numlockmask|LockMask) &amp; (ShiftMask|ControlMask|Mod1Mask|Mod2Mask|Mod3Mask|Mod4Mask|Mod5Mask))
</a><a href="#h12-0-49" id="h12-0-49" class="i">+#define INTERSECT(x,y,w,h,m)    (MAX(0, MIN((x)+(w),(m)-&gt;wx+(m)-&gt;ww) - MAX((x),(m)-&gt;wx)) \
</a><a href="#h12-0-50" id="h12-0-50" class="i">+                               * MAX(0, MIN((y)+(h),(m)-&gt;wy+(m)-&gt;wh) - MAX((y),(m)-&gt;wy)))
</a><a href="#h12-0-51" id="h12-0-51" class="i">+#define ISVISIBLE(C)            ((C-&gt;tags &amp; C-&gt;mon-&gt;tagset[C-&gt;mon-&gt;seltags]))
</a><a href="#h12-0-52" id="h12-0-52" class="i">+#define LENGTH(X)               (sizeof X / sizeof X[0])
</a><a href="#h12-0-53" id="h12-0-53" class="i">+#define MOUSEMASK               (BUTTONMASK|PointerMotionMask)
</a><a href="#h12-0-54" id="h12-0-54" class="i">+#define WIDTH(X)                ((X)-&gt;w + 2 * (X)-&gt;bw)
</a><a href="#h12-0-55" id="h12-0-55" class="i">+#define HEIGHT(X)               ((X)-&gt;h + 2 * (X)-&gt;bw)
</a><a href="#h12-0-56" id="h12-0-56" class="i">+#define TAGMASK                 ((1 &lt;&lt; LENGTH(tags)) - 1)
</a><a href="#h12-0-57" id="h12-0-57" class="i">+#define TEXTW(X)                (drw_fontset_getwidth(drw, (X)) + lrpad)
</a><a href="#h12-0-58" id="h12-0-58" class="i">+
</a><a href="#h12-0-59" id="h12-0-59" class="i">+/* enums */
</a><a href="#h12-0-60" id="h12-0-60" class="i">+enum { CurNormal, CurResize, CurMove, CurLast }; /* cursor */
</a><a href="#h12-0-61" id="h12-0-61" class="i">+enum { SchemeNorm, SchemeSel }; /* color schemes */
</a><a href="#h12-0-62" id="h12-0-62" class="i">+enum { NetSupported, NetWMName, NetWMState, NetWMCheck,
</a><a href="#h12-0-63" id="h12-0-63" class="i">+       NetWMFullscreen, NetActiveWindow, NetWMWindowType,
</a><a href="#h12-0-64" id="h12-0-64" class="i">+       NetWMWindowTypeDialog, NetClientList, NetLast }; /* EWMH atoms */
</a><a href="#h12-0-65" id="h12-0-65" class="i">+enum { WMProtocols, WMDelete, WMState, WMTakeFocus, WMLast }; /* default atoms */
</a><a href="#h12-0-66" id="h12-0-66" class="i">+enum { ClkTagBar, ClkLtSymbol, ClkStatusText, ClkWinTitle,
</a><a href="#h12-0-67" id="h12-0-67" class="i">+       ClkClientWin, ClkRootWin, ClkLast }; /* clicks */
</a><a href="#h12-0-68" id="h12-0-68" class="i">+
</a><a href="#h12-0-69" id="h12-0-69" class="i">+typedef union {
</a><a href="#h12-0-70" id="h12-0-70" class="i">+	int i;
</a><a href="#h12-0-71" id="h12-0-71" class="i">+	unsigned int ui;
</a><a href="#h12-0-72" id="h12-0-72" class="i">+	float f;
</a><a href="#h12-0-73" id="h12-0-73" class="i">+	const void *v;
</a><a href="#h12-0-74" id="h12-0-74" class="i">+} Arg;
</a><a href="#h12-0-75" id="h12-0-75" class="i">+
</a><a href="#h12-0-76" id="h12-0-76" class="i">+typedef struct {
</a><a href="#h12-0-77" id="h12-0-77" class="i">+	unsigned int click;
</a><a href="#h12-0-78" id="h12-0-78" class="i">+	unsigned int mask;
</a><a href="#h12-0-79" id="h12-0-79" class="i">+	unsigned int button;
</a><a href="#h12-0-80" id="h12-0-80" class="i">+	void (*func)(const Arg *arg);
</a><a href="#h12-0-81" id="h12-0-81" class="i">+	const Arg arg;
</a><a href="#h12-0-82" id="h12-0-82" class="i">+} Button;
</a><a href="#h12-0-83" id="h12-0-83" class="i">+
</a><a href="#h12-0-84" id="h12-0-84" class="i">+typedef struct Monitor Monitor;
</a><a href="#h12-0-85" id="h12-0-85" class="i">+typedef struct Client Client;
</a><a href="#h12-0-86" id="h12-0-86" class="i">+struct Client {
</a><a href="#h12-0-87" id="h12-0-87" class="i">+	char name[256];
</a><a href="#h12-0-88" id="h12-0-88" class="i">+	float mina, maxa;
</a><a href="#h12-0-89" id="h12-0-89" class="i">+	int x, y, w, h;
</a><a href="#h12-0-90" id="h12-0-90" class="i">+	int oldx, oldy, oldw, oldh;
</a><a href="#h12-0-91" id="h12-0-91" class="i">+	int basew, baseh, incw, inch, maxw, maxh, minw, minh, hintsvalid;
</a><a href="#h12-0-92" id="h12-0-92" class="i">+	int bw, oldbw;
</a><a href="#h12-0-93" id="h12-0-93" class="i">+	unsigned int tags;
</a><a href="#h12-0-94" id="h12-0-94" class="i">+	int isfixed, isfloating, isurgent, neverfocus, oldstate, isfullscreen;
</a><a href="#h12-0-95" id="h12-0-95" class="i">+	Client *next;
</a><a href="#h12-0-96" id="h12-0-96" class="i">+	Client *snext;
</a><a href="#h12-0-97" id="h12-0-97" class="i">+	Monitor *mon;
</a><a href="#h12-0-98" id="h12-0-98" class="i">+	Window win;
</a><a href="#h12-0-99" id="h12-0-99" class="i">+};
</a><a href="#h12-0-100" id="h12-0-100" class="i">+
</a><a href="#h12-0-101" id="h12-0-101" class="i">+typedef struct {
</a><a href="#h12-0-102" id="h12-0-102" class="i">+	unsigned int mod;
</a><a href="#h12-0-103" id="h12-0-103" class="i">+	KeySym keysym;
</a><a href="#h12-0-104" id="h12-0-104" class="i">+	void (*func)(const Arg *);
</a><a href="#h12-0-105" id="h12-0-105" class="i">+	const Arg arg;
</a><a href="#h12-0-106" id="h12-0-106" class="i">+} Key;
</a><a href="#h12-0-107" id="h12-0-107" class="i">+
</a><a href="#h12-0-108" id="h12-0-108" class="i">+typedef struct {
</a><a href="#h12-0-109" id="h12-0-109" class="i">+	const char *symbol;
</a><a href="#h12-0-110" id="h12-0-110" class="i">+	void (*arrange)(Monitor *);
</a><a href="#h12-0-111" id="h12-0-111" class="i">+} Layout;
</a><a href="#h12-0-112" id="h12-0-112" class="i">+
</a><a href="#h12-0-113" id="h12-0-113" class="i">+struct Monitor {
</a><a href="#h12-0-114" id="h12-0-114" class="i">+	char ltsymbol[16];
</a><a href="#h12-0-115" id="h12-0-115" class="i">+	float mfact;
</a><a href="#h12-0-116" id="h12-0-116" class="i">+	int nmaster;
</a><a href="#h12-0-117" id="h12-0-117" class="i">+	int num;
</a><a href="#h12-0-118" id="h12-0-118" class="i">+	int by;               /* bar geometry */
</a><a href="#h12-0-119" id="h12-0-119" class="i">+	int mx, my, mw, mh;   /* screen size */
</a><a href="#h12-0-120" id="h12-0-120" class="i">+	int wx, wy, ww, wh;   /* window area  */
</a><a href="#h12-0-121" id="h12-0-121" class="i">+	unsigned int seltags;
</a><a href="#h12-0-122" id="h12-0-122" class="i">+	unsigned int sellt;
</a><a href="#h12-0-123" id="h12-0-123" class="i">+	unsigned int tagset[2];
</a><a href="#h12-0-124" id="h12-0-124" class="i">+	int showbar;
</a><a href="#h12-0-125" id="h12-0-125" class="i">+	int topbar;
</a><a href="#h12-0-126" id="h12-0-126" class="i">+	Client *clients;
</a><a href="#h12-0-127" id="h12-0-127" class="i">+	Client *sel;
</a><a href="#h12-0-128" id="h12-0-128" class="i">+	Client *stack;
</a><a href="#h12-0-129" id="h12-0-129" class="i">+	Monitor *next;
</a><a href="#h12-0-130" id="h12-0-130" class="i">+	Window barwin;
</a><a href="#h12-0-131" id="h12-0-131" class="i">+	const Layout *lt[2];
</a><a href="#h12-0-132" id="h12-0-132" class="i">+};
</a><a href="#h12-0-133" id="h12-0-133" class="i">+
</a><a href="#h12-0-134" id="h12-0-134" class="i">+typedef struct {
</a><a href="#h12-0-135" id="h12-0-135" class="i">+	const char *class;
</a><a href="#h12-0-136" id="h12-0-136" class="i">+	const char *instance;
</a><a href="#h12-0-137" id="h12-0-137" class="i">+	const char *title;
</a><a href="#h12-0-138" id="h12-0-138" class="i">+	unsigned int tags;
</a><a href="#h12-0-139" id="h12-0-139" class="i">+	int isfloating;
</a><a href="#h12-0-140" id="h12-0-140" class="i">+	int monitor;
</a><a href="#h12-0-141" id="h12-0-141" class="i">+} Rule;
</a><a href="#h12-0-142" id="h12-0-142" class="i">+
</a><a href="#h12-0-143" id="h12-0-143" class="i">+/* function declarations */
</a><a href="#h12-0-144" id="h12-0-144" class="i">+static void applyrules(Client *c);
</a><a href="#h12-0-145" id="h12-0-145" class="i">+static int applysizehints(Client *c, int *x, int *y, int *w, int *h, int interact);
</a><a href="#h12-0-146" id="h12-0-146" class="i">+static void arrange(Monitor *m);
</a><a href="#h12-0-147" id="h12-0-147" class="i">+static void arrangemon(Monitor *m);
</a><a href="#h12-0-148" id="h12-0-148" class="i">+static void attach(Client *c);
</a><a href="#h12-0-149" id="h12-0-149" class="i">+static void attachstack(Client *c);
</a><a href="#h12-0-150" id="h12-0-150" class="i">+static void buttonpress(XEvent *e);
</a><a href="#h12-0-151" id="h12-0-151" class="i">+static void checkotherwm(void);
</a><a href="#h12-0-152" id="h12-0-152" class="i">+static void cleanup(void);
</a><a href="#h12-0-153" id="h12-0-153" class="i">+static void cleanupmon(Monitor *mon);
</a><a href="#h12-0-154" id="h12-0-154" class="i">+static void clientmessage(XEvent *e);
</a><a href="#h12-0-155" id="h12-0-155" class="i">+static void configure(Client *c);
</a><a href="#h12-0-156" id="h12-0-156" class="i">+static void configurenotify(XEvent *e);
</a><a href="#h12-0-157" id="h12-0-157" class="i">+static void configurerequest(XEvent *e);
</a><a href="#h12-0-158" id="h12-0-158" class="i">+static Monitor *createmon(void);
</a><a href="#h12-0-159" id="h12-0-159" class="i">+static void destroynotify(XEvent *e);
</a><a href="#h12-0-160" id="h12-0-160" class="i">+static void detach(Client *c);
</a><a href="#h12-0-161" id="h12-0-161" class="i">+static void detachstack(Client *c);
</a><a href="#h12-0-162" id="h12-0-162" class="i">+static Monitor *dirtomon(int dir);
</a><a href="#h12-0-163" id="h12-0-163" class="i">+static void drawbar(Monitor *m);
</a><a href="#h12-0-164" id="h12-0-164" class="i">+static void drawbars(void);
</a><a href="#h12-0-165" id="h12-0-165" class="i">+static void enternotify(XEvent *e);
</a><a href="#h12-0-166" id="h12-0-166" class="i">+static void expose(XEvent *e);
</a><a href="#h12-0-167" id="h12-0-167" class="i">+static void focus(Client *c);
</a><a href="#h12-0-168" id="h12-0-168" class="i">+static void focusin(XEvent *e);
</a><a href="#h12-0-169" id="h12-0-169" class="i">+static void focusmon(const Arg *arg);
</a><a href="#h12-0-170" id="h12-0-170" class="i">+static void focusstack(const Arg *arg);
</a><a href="#h12-0-171" id="h12-0-171" class="i">+static Atom getatomprop(Client *c, Atom prop);
</a><a href="#h12-0-172" id="h12-0-172" class="i">+static int getrootptr(int *x, int *y);
</a><a href="#h12-0-173" id="h12-0-173" class="i">+static long getstate(Window w);
</a><a href="#h12-0-174" id="h12-0-174" class="i">+static int gettextprop(Window w, Atom atom, char *text, unsigned int size);
</a><a href="#h12-0-175" id="h12-0-175" class="i">+static void grabbuttons(Client *c, int focused);
</a><a href="#h12-0-176" id="h12-0-176" class="i">+static void grabkeys(void);
</a><a href="#h12-0-177" id="h12-0-177" class="i">+static void incnmaster(const Arg *arg);
</a><a href="#h12-0-178" id="h12-0-178" class="i">+static void keypress(XEvent *e);
</a><a href="#h12-0-179" id="h12-0-179" class="i">+static void killclient(const Arg *arg);
</a><a href="#h12-0-180" id="h12-0-180" class="i">+static void manage(Window w, XWindowAttributes *wa);
</a><a href="#h12-0-181" id="h12-0-181" class="i">+static void mappingnotify(XEvent *e);
</a><a href="#h12-0-182" id="h12-0-182" class="i">+static void maprequest(XEvent *e);
</a><a href="#h12-0-183" id="h12-0-183" class="i">+static void monocle(Monitor *m);
</a><a href="#h12-0-184" id="h12-0-184" class="i">+static void motionnotify(XEvent *e);
</a><a href="#h12-0-185" id="h12-0-185" class="i">+static void movemouse(const Arg *arg);
</a><a href="#h12-0-186" id="h12-0-186" class="i">+static Client *nexttiled(Client *c);
</a><a href="#h12-0-187" id="h12-0-187" class="i">+static void pop(Client *c);
</a><a href="#h12-0-188" id="h12-0-188" class="i">+static void propertynotify(XEvent *e);
</a><a href="#h12-0-189" id="h12-0-189" class="i">+static void quit(const Arg *arg);
</a><a href="#h12-0-190" id="h12-0-190" class="i">+static Monitor *recttomon(int x, int y, int w, int h);
</a><a href="#h12-0-191" id="h12-0-191" class="i">+static void resize(Client *c, int x, int y, int w, int h, int interact);
</a><a href="#h12-0-192" id="h12-0-192" class="i">+static void resizeclient(Client *c, int x, int y, int w, int h);
</a><a href="#h12-0-193" id="h12-0-193" class="i">+static void resizemouse(const Arg *arg);
</a><a href="#h12-0-194" id="h12-0-194" class="i">+static void restack(Monitor *m);
</a><a href="#h12-0-195" id="h12-0-195" class="i">+static void run(void);
</a><a href="#h12-0-196" id="h12-0-196" class="i">+static void scan(void);
</a><a href="#h12-0-197" id="h12-0-197" class="i">+static int sendevent(Client *c, Atom proto);
</a><a href="#h12-0-198" id="h12-0-198" class="i">+static void sendmon(Client *c, Monitor *m);
</a><a href="#h12-0-199" id="h12-0-199" class="i">+static void setclientstate(Client *c, long state);
</a><a href="#h12-0-200" id="h12-0-200" class="i">+static void setfocus(Client *c);
</a><a href="#h12-0-201" id="h12-0-201" class="i">+static void setfullscreen(Client *c, int fullscreen);
</a><a href="#h12-0-202" id="h12-0-202" class="i">+static void setlayout(const Arg *arg);
</a><a href="#h12-0-203" id="h12-0-203" class="i">+static void setmfact(const Arg *arg);
</a><a href="#h12-0-204" id="h12-0-204" class="i">+static void setup(void);
</a><a href="#h12-0-205" id="h12-0-205" class="i">+static void seturgent(Client *c, int urg);
</a><a href="#h12-0-206" id="h12-0-206" class="i">+static void showhide(Client *c);
</a><a href="#h12-0-207" id="h12-0-207" class="i">+static void sigchld(int unused);
</a><a href="#h12-0-208" id="h12-0-208" class="i">+static void spawn(const Arg *arg);
</a><a href="#h12-0-209" id="h12-0-209" class="i">+static void tag(const Arg *arg);
</a><a href="#h12-0-210" id="h12-0-210" class="i">+static void tagmon(const Arg *arg);
</a><a href="#h12-0-211" id="h12-0-211" class="i">+static void tile(Monitor *m);
</a><a href="#h12-0-212" id="h12-0-212" class="i">+static void togglebar(const Arg *arg);
</a><a href="#h12-0-213" id="h12-0-213" class="i">+static void togglefloating(const Arg *arg);
</a><a href="#h12-0-214" id="h12-0-214" class="i">+static void toggletag(const Arg *arg);
</a><a href="#h12-0-215" id="h12-0-215" class="i">+static void toggleview(const Arg *arg);
</a><a href="#h12-0-216" id="h12-0-216" class="i">+static void unfocus(Client *c, int setfocus);
</a><a href="#h12-0-217" id="h12-0-217" class="i">+static void unmanage(Client *c, int destroyed);
</a><a href="#h12-0-218" id="h12-0-218" class="i">+static void unmapnotify(XEvent *e);
</a><a href="#h12-0-219" id="h12-0-219" class="i">+static void updatebarpos(Monitor *m);
</a><a href="#h12-0-220" id="h12-0-220" class="i">+static void updatebars(void);
</a><a href="#h12-0-221" id="h12-0-221" class="i">+static void updateclientlist(void);
</a><a href="#h12-0-222" id="h12-0-222" class="i">+static int updategeom(void);
</a><a href="#h12-0-223" id="h12-0-223" class="i">+static void updatenumlockmask(void);
</a><a href="#h12-0-224" id="h12-0-224" class="i">+static void updatesizehints(Client *c);
</a><a href="#h12-0-225" id="h12-0-225" class="i">+static void updatestatus(void);
</a><a href="#h12-0-226" id="h12-0-226" class="i">+static void updatetitle(Client *c);
</a><a href="#h12-0-227" id="h12-0-227" class="i">+static void updatewindowtype(Client *c);
</a><a href="#h12-0-228" id="h12-0-228" class="i">+static void updatewmhints(Client *c);
</a><a href="#h12-0-229" id="h12-0-229" class="i">+static void view(const Arg *arg);
</a><a href="#h12-0-230" id="h12-0-230" class="i">+static Client *wintoclient(Window w);
</a><a href="#h12-0-231" id="h12-0-231" class="i">+static Monitor *wintomon(Window w);
</a><a href="#h12-0-232" id="h12-0-232" class="i">+static int xerror(Display *dpy, XErrorEvent *ee);
</a><a href="#h12-0-233" id="h12-0-233" class="i">+static int xerrordummy(Display *dpy, XErrorEvent *ee);
</a><a href="#h12-0-234" id="h12-0-234" class="i">+static int xerrorstart(Display *dpy, XErrorEvent *ee);
</a><a href="#h12-0-235" id="h12-0-235" class="i">+static void zoom(const Arg *arg);
</a><a href="#h12-0-236" id="h12-0-236" class="i">+
</a><a href="#h12-0-237" id="h12-0-237" class="i">+/* variables */
</a><a href="#h12-0-238" id="h12-0-238" class="i">+static const char broken[] = &quot;broken&quot;;
</a><a href="#h12-0-239" id="h12-0-239" class="i">+static char stext[256];
</a><a href="#h12-0-240" id="h12-0-240" class="i">+static int screen;
</a><a href="#h12-0-241" id="h12-0-241" class="i">+static int sw, sh;           /* X display screen geometry width, height */
</a><a href="#h12-0-242" id="h12-0-242" class="i">+static int bh;               /* bar height */
</a><a href="#h12-0-243" id="h12-0-243" class="i">+static int lrpad;            /* sum of left and right padding for text */
</a><a href="#h12-0-244" id="h12-0-244" class="i">+static int (*xerrorxlib)(Display *, XErrorEvent *);
</a><a href="#h12-0-245" id="h12-0-245" class="i">+static unsigned int numlockmask = 0;
</a><a href="#h12-0-246" id="h12-0-246" class="i">+static void (*handler[LASTEvent]) (XEvent *) = {
</a><a href="#h12-0-247" id="h12-0-247" class="i">+	[ButtonPress] = buttonpress,
</a><a href="#h12-0-248" id="h12-0-248" class="i">+	[ClientMessage] = clientmessage,
</a><a href="#h12-0-249" id="h12-0-249" class="i">+	[ConfigureRequest] = configurerequest,
</a><a href="#h12-0-250" id="h12-0-250" class="i">+	[ConfigureNotify] = configurenotify,
</a><a href="#h12-0-251" id="h12-0-251" class="i">+	[DestroyNotify] = destroynotify,
</a><a href="#h12-0-252" id="h12-0-252" class="i">+	[EnterNotify] = enternotify,
</a><a href="#h12-0-253" id="h12-0-253" class="i">+	[Expose] = expose,
</a><a href="#h12-0-254" id="h12-0-254" class="i">+	[FocusIn] = focusin,
</a><a href="#h12-0-255" id="h12-0-255" class="i">+	[KeyPress] = keypress,
</a><a href="#h12-0-256" id="h12-0-256" class="i">+	[MappingNotify] = mappingnotify,
</a><a href="#h12-0-257" id="h12-0-257" class="i">+	[MapRequest] = maprequest,
</a><a href="#h12-0-258" id="h12-0-258" class="i">+	[MotionNotify] = motionnotify,
</a><a href="#h12-0-259" id="h12-0-259" class="i">+	[PropertyNotify] = propertynotify,
</a><a href="#h12-0-260" id="h12-0-260" class="i">+	[UnmapNotify] = unmapnotify
</a><a href="#h12-0-261" id="h12-0-261" class="i">+};
</a><a href="#h12-0-262" id="h12-0-262" class="i">+static Atom wmatom[WMLast], netatom[NetLast];
</a><a href="#h12-0-263" id="h12-0-263" class="i">+static int running = 1;
</a><a href="#h12-0-264" id="h12-0-264" class="i">+static Cur *cursor[CurLast];
</a><a href="#h12-0-265" id="h12-0-265" class="i">+static Clr **scheme;
</a><a href="#h12-0-266" id="h12-0-266" class="i">+static Display *dpy;
</a><a href="#h12-0-267" id="h12-0-267" class="i">+static Drw *drw;
</a><a href="#h12-0-268" id="h12-0-268" class="i">+static Monitor *mons, *selmon;
</a><a href="#h12-0-269" id="h12-0-269" class="i">+static Window root, wmcheckwin;
</a><a href="#h12-0-270" id="h12-0-270" class="i">+
</a><a href="#h12-0-271" id="h12-0-271" class="i">+/* configuration, allows nested code to access above variables */
</a><a href="#h12-0-272" id="h12-0-272" class="i">+#include &quot;config.h&quot;
</a><a href="#h12-0-273" id="h12-0-273" class="i">+
</a><a href="#h12-0-274" id="h12-0-274" class="i">+/* compile-time check if all tags fit into an unsigned int bit array. */
</a><a href="#h12-0-275" id="h12-0-275" class="i">+struct NumTags { char limitexceeded[LENGTH(tags) &gt; 31 ? -1 : 1]; };
</a><a href="#h12-0-276" id="h12-0-276" class="i">+
</a><a href="#h12-0-277" id="h12-0-277" class="i">+/* function implementations */
</a><a href="#h12-0-278" id="h12-0-278" class="i">+void
</a><a href="#h12-0-279" id="h12-0-279" class="i">+applyrules(Client *c)
</a><a href="#h12-0-280" id="h12-0-280" class="i">+{
</a><a href="#h12-0-281" id="h12-0-281" class="i">+	const char *class, *instance;
</a><a href="#h12-0-282" id="h12-0-282" class="i">+	unsigned int i;
</a><a href="#h12-0-283" id="h12-0-283" class="i">+	const Rule *r;
</a><a href="#h12-0-284" id="h12-0-284" class="i">+	Monitor *m;
</a><a href="#h12-0-285" id="h12-0-285" class="i">+	XClassHint ch = { NULL, NULL };
</a><a href="#h12-0-286" id="h12-0-286" class="i">+
</a><a href="#h12-0-287" id="h12-0-287" class="i">+	/* rule matching */
</a><a href="#h12-0-288" id="h12-0-288" class="i">+	c-&gt;isfloating = 0;
</a><a href="#h12-0-289" id="h12-0-289" class="i">+	c-&gt;tags = 0;
</a><a href="#h12-0-290" id="h12-0-290" class="i">+	XGetClassHint(dpy, c-&gt;win, &amp;ch);
</a><a href="#h12-0-291" id="h12-0-291" class="i">+	class    = ch.res_class ? ch.res_class : broken;
</a><a href="#h12-0-292" id="h12-0-292" class="i">+	instance = ch.res_name  ? ch.res_name  : broken;
</a><a href="#h12-0-293" id="h12-0-293" class="i">+
</a><a href="#h12-0-294" id="h12-0-294" class="i">+	for (i = 0; i &lt; LENGTH(rules); i++) {
</a><a href="#h12-0-295" id="h12-0-295" class="i">+		r = &amp;rules[i];
</a><a href="#h12-0-296" id="h12-0-296" class="i">+		if ((!r-&gt;title || strstr(c-&gt;name, r-&gt;title))
</a><a href="#h12-0-297" id="h12-0-297" class="i">+		&amp;&amp; (!r-&gt;class || strstr(class, r-&gt;class))
</a><a href="#h12-0-298" id="h12-0-298" class="i">+		&amp;&amp; (!r-&gt;instance || strstr(instance, r-&gt;instance)))
</a><a href="#h12-0-299" id="h12-0-299" class="i">+		{
</a><a href="#h12-0-300" id="h12-0-300" class="i">+			c-&gt;isfloating = r-&gt;isfloating;
</a><a href="#h12-0-301" id="h12-0-301" class="i">+			c-&gt;tags |= r-&gt;tags;
</a><a href="#h12-0-302" id="h12-0-302" class="i">+			for (m = mons; m &amp;&amp; m-&gt;num != r-&gt;monitor; m = m-&gt;next);
</a><a href="#h12-0-303" id="h12-0-303" class="i">+			if (m)
</a><a href="#h12-0-304" id="h12-0-304" class="i">+				c-&gt;mon = m;
</a><a href="#h12-0-305" id="h12-0-305" class="i">+		}
</a><a href="#h12-0-306" id="h12-0-306" class="i">+	}
</a><a href="#h12-0-307" id="h12-0-307" class="i">+	if (ch.res_class)
</a><a href="#h12-0-308" id="h12-0-308" class="i">+		XFree(ch.res_class);
</a><a href="#h12-0-309" id="h12-0-309" class="i">+	if (ch.res_name)
</a><a href="#h12-0-310" id="h12-0-310" class="i">+		XFree(ch.res_name);
</a><a href="#h12-0-311" id="h12-0-311" class="i">+	c-&gt;tags = c-&gt;tags &amp; TAGMASK ? c-&gt;tags &amp; TAGMASK : c-&gt;mon-&gt;tagset[c-&gt;mon-&gt;seltags];
</a><a href="#h12-0-312" id="h12-0-312" class="i">+}
</a><a href="#h12-0-313" id="h12-0-313" class="i">+
</a><a href="#h12-0-314" id="h12-0-314" class="i">+int
</a><a href="#h12-0-315" id="h12-0-315" class="i">+applysizehints(Client *c, int *x, int *y, int *w, int *h, int interact)
</a><a href="#h12-0-316" id="h12-0-316" class="i">+{
</a><a href="#h12-0-317" id="h12-0-317" class="i">+	int baseismin;
</a><a href="#h12-0-318" id="h12-0-318" class="i">+	Monitor *m = c-&gt;mon;
</a><a href="#h12-0-319" id="h12-0-319" class="i">+
</a><a href="#h12-0-320" id="h12-0-320" class="i">+	/* set minimum possible */
</a><a href="#h12-0-321" id="h12-0-321" class="i">+	*w = MAX(1, *w);
</a><a href="#h12-0-322" id="h12-0-322" class="i">+	*h = MAX(1, *h);
</a><a href="#h12-0-323" id="h12-0-323" class="i">+	if (interact) {
</a><a href="#h12-0-324" id="h12-0-324" class="i">+		if (*x &gt; sw)
</a><a href="#h12-0-325" id="h12-0-325" class="i">+			*x = sw - WIDTH(c);
</a><a href="#h12-0-326" id="h12-0-326" class="i">+		if (*y &gt; sh)
</a><a href="#h12-0-327" id="h12-0-327" class="i">+			*y = sh - HEIGHT(c);
</a><a href="#h12-0-328" id="h12-0-328" class="i">+		if (*x + *w + 2 * c-&gt;bw &lt; 0)
</a><a href="#h12-0-329" id="h12-0-329" class="i">+			*x = 0;
</a><a href="#h12-0-330" id="h12-0-330" class="i">+		if (*y + *h + 2 * c-&gt;bw &lt; 0)
</a><a href="#h12-0-331" id="h12-0-331" class="i">+			*y = 0;
</a><a href="#h12-0-332" id="h12-0-332" class="i">+	} else {
</a><a href="#h12-0-333" id="h12-0-333" class="i">+		if (*x &gt;= m-&gt;wx + m-&gt;ww)
</a><a href="#h12-0-334" id="h12-0-334" class="i">+			*x = m-&gt;wx + m-&gt;ww - WIDTH(c);
</a><a href="#h12-0-335" id="h12-0-335" class="i">+		if (*y &gt;= m-&gt;wy + m-&gt;wh)
</a><a href="#h12-0-336" id="h12-0-336" class="i">+			*y = m-&gt;wy + m-&gt;wh - HEIGHT(c);
</a><a href="#h12-0-337" id="h12-0-337" class="i">+		if (*x + *w + 2 * c-&gt;bw &lt;= m-&gt;wx)
</a><a href="#h12-0-338" id="h12-0-338" class="i">+			*x = m-&gt;wx;
</a><a href="#h12-0-339" id="h12-0-339" class="i">+		if (*y + *h + 2 * c-&gt;bw &lt;= m-&gt;wy)
</a><a href="#h12-0-340" id="h12-0-340" class="i">+			*y = m-&gt;wy;
</a><a href="#h12-0-341" id="h12-0-341" class="i">+	}
</a><a href="#h12-0-342" id="h12-0-342" class="i">+	if (*h &lt; bh)
</a><a href="#h12-0-343" id="h12-0-343" class="i">+		*h = bh;
</a><a href="#h12-0-344" id="h12-0-344" class="i">+	if (*w &lt; bh)
</a><a href="#h12-0-345" id="h12-0-345" class="i">+		*w = bh;
</a><a href="#h12-0-346" id="h12-0-346" class="i">+	if (resizehints || c-&gt;isfloating || !c-&gt;mon-&gt;lt[c-&gt;mon-&gt;sellt]-&gt;arrange) {
</a><a href="#h12-0-347" id="h12-0-347" class="i">+		if (!c-&gt;hintsvalid)
</a><a href="#h12-0-348" id="h12-0-348" class="i">+			updatesizehints(c);
</a><a href="#h12-0-349" id="h12-0-349" class="i">+		/* see last two sentences in ICCCM 4.1.2.3 */
</a><a href="#h12-0-350" id="h12-0-350" class="i">+		baseismin = c-&gt;basew == c-&gt;minw &amp;&amp; c-&gt;baseh == c-&gt;minh;
</a><a href="#h12-0-351" id="h12-0-351" class="i">+		if (!baseismin) { /* temporarily remove base dimensions */
</a><a href="#h12-0-352" id="h12-0-352" class="i">+			*w -= c-&gt;basew;
</a><a href="#h12-0-353" id="h12-0-353" class="i">+			*h -= c-&gt;baseh;
</a><a href="#h12-0-354" id="h12-0-354" class="i">+		}
</a><a href="#h12-0-355" id="h12-0-355" class="i">+		/* adjust for aspect limits */
</a><a href="#h12-0-356" id="h12-0-356" class="i">+		if (c-&gt;mina &gt; 0 &amp;&amp; c-&gt;maxa &gt; 0) {
</a><a href="#h12-0-357" id="h12-0-357" class="i">+			if (c-&gt;maxa &lt; (float)*w / *h)
</a><a href="#h12-0-358" id="h12-0-358" class="i">+				*w = *h * c-&gt;maxa + 0.5;
</a><a href="#h12-0-359" id="h12-0-359" class="i">+			else if (c-&gt;mina &lt; (float)*h / *w)
</a><a href="#h12-0-360" id="h12-0-360" class="i">+				*h = *w * c-&gt;mina + 0.5;
</a><a href="#h12-0-361" id="h12-0-361" class="i">+		}
</a><a href="#h12-0-362" id="h12-0-362" class="i">+		if (baseismin) { /* increment calculation requires this */
</a><a href="#h12-0-363" id="h12-0-363" class="i">+			*w -= c-&gt;basew;
</a><a href="#h12-0-364" id="h12-0-364" class="i">+			*h -= c-&gt;baseh;
</a><a href="#h12-0-365" id="h12-0-365" class="i">+		}
</a><a href="#h12-0-366" id="h12-0-366" class="i">+		/* adjust for increment value */
</a><a href="#h12-0-367" id="h12-0-367" class="i">+		if (c-&gt;incw)
</a><a href="#h12-0-368" id="h12-0-368" class="i">+			*w -= *w % c-&gt;incw;
</a><a href="#h12-0-369" id="h12-0-369" class="i">+		if (c-&gt;inch)
</a><a href="#h12-0-370" id="h12-0-370" class="i">+			*h -= *h % c-&gt;inch;
</a><a href="#h12-0-371" id="h12-0-371" class="i">+		/* restore base dimensions */
</a><a href="#h12-0-372" id="h12-0-372" class="i">+		*w = MAX(*w + c-&gt;basew, c-&gt;minw);
</a><a href="#h12-0-373" id="h12-0-373" class="i">+		*h = MAX(*h + c-&gt;baseh, c-&gt;minh);
</a><a href="#h12-0-374" id="h12-0-374" class="i">+		if (c-&gt;maxw)
</a><a href="#h12-0-375" id="h12-0-375" class="i">+			*w = MIN(*w, c-&gt;maxw);
</a><a href="#h12-0-376" id="h12-0-376" class="i">+		if (c-&gt;maxh)
</a><a href="#h12-0-377" id="h12-0-377" class="i">+			*h = MIN(*h, c-&gt;maxh);
</a><a href="#h12-0-378" id="h12-0-378" class="i">+	}
</a><a href="#h12-0-379" id="h12-0-379" class="i">+	return *x != c-&gt;x || *y != c-&gt;y || *w != c-&gt;w || *h != c-&gt;h;
</a><a href="#h12-0-380" id="h12-0-380" class="i">+}
</a><a href="#h12-0-381" id="h12-0-381" class="i">+
</a><a href="#h12-0-382" id="h12-0-382" class="i">+void
</a><a href="#h12-0-383" id="h12-0-383" class="i">+arrange(Monitor *m)
</a><a href="#h12-0-384" id="h12-0-384" class="i">+{
</a><a href="#h12-0-385" id="h12-0-385" class="i">+	if (m)
</a><a href="#h12-0-386" id="h12-0-386" class="i">+		showhide(m-&gt;stack);
</a><a href="#h12-0-387" id="h12-0-387" class="i">+	else for (m = mons; m; m = m-&gt;next)
</a><a href="#h12-0-388" id="h12-0-388" class="i">+		showhide(m-&gt;stack);
</a><a href="#h12-0-389" id="h12-0-389" class="i">+	if (m) {
</a><a href="#h12-0-390" id="h12-0-390" class="i">+		arrangemon(m);
</a><a href="#h12-0-391" id="h12-0-391" class="i">+		restack(m);
</a><a href="#h12-0-392" id="h12-0-392" class="i">+	} else for (m = mons; m; m = m-&gt;next)
</a><a href="#h12-0-393" id="h12-0-393" class="i">+		arrangemon(m);
</a><a href="#h12-0-394" id="h12-0-394" class="i">+}
</a><a href="#h12-0-395" id="h12-0-395" class="i">+
</a><a href="#h12-0-396" id="h12-0-396" class="i">+void
</a><a href="#h12-0-397" id="h12-0-397" class="i">+arrangemon(Monitor *m)
</a><a href="#h12-0-398" id="h12-0-398" class="i">+{
</a><a href="#h12-0-399" id="h12-0-399" class="i">+	strncpy(m-&gt;ltsymbol, m-&gt;lt[m-&gt;sellt]-&gt;symbol, sizeof m-&gt;ltsymbol);
</a><a href="#h12-0-400" id="h12-0-400" class="i">+	if (m-&gt;lt[m-&gt;sellt]-&gt;arrange)
</a><a href="#h12-0-401" id="h12-0-401" class="i">+		m-&gt;lt[m-&gt;sellt]-&gt;arrange(m);
</a><a href="#h12-0-402" id="h12-0-402" class="i">+}
</a><a href="#h12-0-403" id="h12-0-403" class="i">+
</a><a href="#h12-0-404" id="h12-0-404" class="i">+void
</a><a href="#h12-0-405" id="h12-0-405" class="i">+attach(Client *c)
</a><a href="#h12-0-406" id="h12-0-406" class="i">+{
</a><a href="#h12-0-407" id="h12-0-407" class="i">+	c-&gt;next = c-&gt;mon-&gt;clients;
</a><a href="#h12-0-408" id="h12-0-408" class="i">+	c-&gt;mon-&gt;clients = c;
</a><a href="#h12-0-409" id="h12-0-409" class="i">+}
</a><a href="#h12-0-410" id="h12-0-410" class="i">+
</a><a href="#h12-0-411" id="h12-0-411" class="i">+void
</a><a href="#h12-0-412" id="h12-0-412" class="i">+attachstack(Client *c)
</a><a href="#h12-0-413" id="h12-0-413" class="i">+{
</a><a href="#h12-0-414" id="h12-0-414" class="i">+	c-&gt;snext = c-&gt;mon-&gt;stack;
</a><a href="#h12-0-415" id="h12-0-415" class="i">+	c-&gt;mon-&gt;stack = c;
</a><a href="#h12-0-416" id="h12-0-416" class="i">+}
</a><a href="#h12-0-417" id="h12-0-417" class="i">+
</a><a href="#h12-0-418" id="h12-0-418" class="i">+void
</a><a href="#h12-0-419" id="h12-0-419" class="i">+buttonpress(XEvent *e)
</a><a href="#h12-0-420" id="h12-0-420" class="i">+{
</a><a href="#h12-0-421" id="h12-0-421" class="i">+	unsigned int i, x, click;
</a><a href="#h12-0-422" id="h12-0-422" class="i">+	Arg arg = {0};
</a><a href="#h12-0-423" id="h12-0-423" class="i">+	Client *c;
</a><a href="#h12-0-424" id="h12-0-424" class="i">+	Monitor *m;
</a><a href="#h12-0-425" id="h12-0-425" class="i">+	XButtonPressedEvent *ev = &amp;e-&gt;xbutton;
</a><a href="#h12-0-426" id="h12-0-426" class="i">+
</a><a href="#h12-0-427" id="h12-0-427" class="i">+	click = ClkRootWin;
</a><a href="#h12-0-428" id="h12-0-428" class="i">+	/* focus monitor if necessary */
</a><a href="#h12-0-429" id="h12-0-429" class="i">+	if ((m = wintomon(ev-&gt;window)) &amp;&amp; m != selmon) {
</a><a href="#h12-0-430" id="h12-0-430" class="i">+		unfocus(selmon-&gt;sel, 1);
</a><a href="#h12-0-431" id="h12-0-431" class="i">+		selmon = m;
</a><a href="#h12-0-432" id="h12-0-432" class="i">+		focus(NULL);
</a><a href="#h12-0-433" id="h12-0-433" class="i">+	}
</a><a href="#h12-0-434" id="h12-0-434" class="i">+	if (ev-&gt;window == selmon-&gt;barwin) {
</a><a href="#h12-0-435" id="h12-0-435" class="i">+		i = x = 0;
</a><a href="#h12-0-436" id="h12-0-436" class="i">+		do
</a><a href="#h12-0-437" id="h12-0-437" class="i">+			x += TEXTW(tags[i]);
</a><a href="#h12-0-438" id="h12-0-438" class="i">+		while (ev-&gt;x &gt;= x &amp;&amp; ++i &lt; LENGTH(tags));
</a><a href="#h12-0-439" id="h12-0-439" class="i">+		if (i &lt; LENGTH(tags)) {
</a><a href="#h12-0-440" id="h12-0-440" class="i">+			click = ClkTagBar;
</a><a href="#h12-0-441" id="h12-0-441" class="i">+			arg.ui = 1 &lt;&lt; i;
</a><a href="#h12-0-442" id="h12-0-442" class="i">+		} else if (ev-&gt;x &lt; x + TEXTW(selmon-&gt;ltsymbol))
</a><a href="#h12-0-443" id="h12-0-443" class="i">+			click = ClkLtSymbol;
</a><a href="#h12-0-444" id="h12-0-444" class="i">+		else if (ev-&gt;x &gt; selmon-&gt;ww - (int)TEXTW(stext))
</a><a href="#h12-0-445" id="h12-0-445" class="i">+			click = ClkStatusText;
</a><a href="#h12-0-446" id="h12-0-446" class="i">+		else
</a><a href="#h12-0-447" id="h12-0-447" class="i">+			click = ClkWinTitle;
</a><a href="#h12-0-448" id="h12-0-448" class="i">+	} else if ((c = wintoclient(ev-&gt;window))) {
</a><a href="#h12-0-449" id="h12-0-449" class="i">+		focus(c);
</a><a href="#h12-0-450" id="h12-0-450" class="i">+		restack(selmon);
</a><a href="#h12-0-451" id="h12-0-451" class="i">+		XAllowEvents(dpy, ReplayPointer, CurrentTime);
</a><a href="#h12-0-452" id="h12-0-452" class="i">+		click = ClkClientWin;
</a><a href="#h12-0-453" id="h12-0-453" class="i">+	}
</a><a href="#h12-0-454" id="h12-0-454" class="i">+	for (i = 0; i &lt; LENGTH(buttons); i++)
</a><a href="#h12-0-455" id="h12-0-455" class="i">+		if (click == buttons[i].click &amp;&amp; buttons[i].func &amp;&amp; buttons[i].button == ev-&gt;button
</a><a href="#h12-0-456" id="h12-0-456" class="i">+		&amp;&amp; CLEANMASK(buttons[i].mask) == CLEANMASK(ev-&gt;state))
</a><a href="#h12-0-457" id="h12-0-457" class="i">+			buttons[i].func(click == ClkTagBar &amp;&amp; buttons[i].arg.i == 0 ? &amp;arg : &amp;buttons[i].arg);
</a><a href="#h12-0-458" id="h12-0-458" class="i">+}
</a><a href="#h12-0-459" id="h12-0-459" class="i">+
</a><a href="#h12-0-460" id="h12-0-460" class="i">+void
</a><a href="#h12-0-461" id="h12-0-461" class="i">+checkotherwm(void)
</a><a href="#h12-0-462" id="h12-0-462" class="i">+{
</a><a href="#h12-0-463" id="h12-0-463" class="i">+	xerrorxlib = XSetErrorHandler(xerrorstart);
</a><a href="#h12-0-464" id="h12-0-464" class="i">+	/* this causes an error if some other window manager is running */
</a><a href="#h12-0-465" id="h12-0-465" class="i">+	XSelectInput(dpy, DefaultRootWindow(dpy), SubstructureRedirectMask);
</a><a href="#h12-0-466" id="h12-0-466" class="i">+	XSync(dpy, False);
</a><a href="#h12-0-467" id="h12-0-467" class="i">+	XSetErrorHandler(xerror);
</a><a href="#h12-0-468" id="h12-0-468" class="i">+	XSync(dpy, False);
</a><a href="#h12-0-469" id="h12-0-469" class="i">+}
</a><a href="#h12-0-470" id="h12-0-470" class="i">+
</a><a href="#h12-0-471" id="h12-0-471" class="i">+void
</a><a href="#h12-0-472" id="h12-0-472" class="i">+cleanup(void)
</a><a href="#h12-0-473" id="h12-0-473" class="i">+{
</a><a href="#h12-0-474" id="h12-0-474" class="i">+	Arg a = {.ui = ~0};
</a><a href="#h12-0-475" id="h12-0-475" class="i">+	Layout foo = { &quot;&quot;, NULL };
</a><a href="#h12-0-476" id="h12-0-476" class="i">+	Monitor *m;
</a><a href="#h12-0-477" id="h12-0-477" class="i">+	size_t i;
</a><a href="#h12-0-478" id="h12-0-478" class="i">+
</a><a href="#h12-0-479" id="h12-0-479" class="i">+	view(&amp;a);
</a><a href="#h12-0-480" id="h12-0-480" class="i">+	selmon-&gt;lt[selmon-&gt;sellt] = &amp;foo;
</a><a href="#h12-0-481" id="h12-0-481" class="i">+	for (m = mons; m; m = m-&gt;next)
</a><a href="#h12-0-482" id="h12-0-482" class="i">+		while (m-&gt;stack)
</a><a href="#h12-0-483" id="h12-0-483" class="i">+			unmanage(m-&gt;stack, 0);
</a><a href="#h12-0-484" id="h12-0-484" class="i">+	XUngrabKey(dpy, AnyKey, AnyModifier, root);
</a><a href="#h12-0-485" id="h12-0-485" class="i">+	while (mons)
</a><a href="#h12-0-486" id="h12-0-486" class="i">+		cleanupmon(mons);
</a><a href="#h12-0-487" id="h12-0-487" class="i">+	for (i = 0; i &lt; CurLast; i++)
</a><a href="#h12-0-488" id="h12-0-488" class="i">+		drw_cur_free(drw, cursor[i]);
</a><a href="#h12-0-489" id="h12-0-489" class="i">+	for (i = 0; i &lt; LENGTH(colors); i++)
</a><a href="#h12-0-490" id="h12-0-490" class="i">+		free(scheme[i]);
</a><a href="#h12-0-491" id="h12-0-491" class="i">+	free(scheme);
</a><a href="#h12-0-492" id="h12-0-492" class="i">+	XDestroyWindow(dpy, wmcheckwin);
</a><a href="#h12-0-493" id="h12-0-493" class="i">+	drw_free(drw);
</a><a href="#h12-0-494" id="h12-0-494" class="i">+	XSync(dpy, False);
</a><a href="#h12-0-495" id="h12-0-495" class="i">+	XSetInputFocus(dpy, PointerRoot, RevertToPointerRoot, CurrentTime);
</a><a href="#h12-0-496" id="h12-0-496" class="i">+	XDeleteProperty(dpy, root, netatom[NetActiveWindow]);
</a><a href="#h12-0-497" id="h12-0-497" class="i">+}
</a><a href="#h12-0-498" id="h12-0-498" class="i">+
</a><a href="#h12-0-499" id="h12-0-499" class="i">+void
</a><a href="#h12-0-500" id="h12-0-500" class="i">+cleanupmon(Monitor *mon)
</a><a href="#h12-0-501" id="h12-0-501" class="i">+{
</a><a href="#h12-0-502" id="h12-0-502" class="i">+	Monitor *m;
</a><a href="#h12-0-503" id="h12-0-503" class="i">+
</a><a href="#h12-0-504" id="h12-0-504" class="i">+	if (mon == mons)
</a><a href="#h12-0-505" id="h12-0-505" class="i">+		mons = mons-&gt;next;
</a><a href="#h12-0-506" id="h12-0-506" class="i">+	else {
</a><a href="#h12-0-507" id="h12-0-507" class="i">+		for (m = mons; m &amp;&amp; m-&gt;next != mon; m = m-&gt;next);
</a><a href="#h12-0-508" id="h12-0-508" class="i">+		m-&gt;next = mon-&gt;next;
</a><a href="#h12-0-509" id="h12-0-509" class="i">+	}
</a><a href="#h12-0-510" id="h12-0-510" class="i">+	XUnmapWindow(dpy, mon-&gt;barwin);
</a><a href="#h12-0-511" id="h12-0-511" class="i">+	XDestroyWindow(dpy, mon-&gt;barwin);
</a><a href="#h12-0-512" id="h12-0-512" class="i">+	free(mon);
</a><a href="#h12-0-513" id="h12-0-513" class="i">+}
</a><a href="#h12-0-514" id="h12-0-514" class="i">+
</a><a href="#h12-0-515" id="h12-0-515" class="i">+void
</a><a href="#h12-0-516" id="h12-0-516" class="i">+clientmessage(XEvent *e)
</a><a href="#h12-0-517" id="h12-0-517" class="i">+{
</a><a href="#h12-0-518" id="h12-0-518" class="i">+	XClientMessageEvent *cme = &amp;e-&gt;xclient;
</a><a href="#h12-0-519" id="h12-0-519" class="i">+	Client *c = wintoclient(cme-&gt;window);
</a><a href="#h12-0-520" id="h12-0-520" class="i">+
</a><a href="#h12-0-521" id="h12-0-521" class="i">+	if (!c)
</a><a href="#h12-0-522" id="h12-0-522" class="i">+		return;
</a><a href="#h12-0-523" id="h12-0-523" class="i">+	if (cme-&gt;message_type == netatom[NetWMState]) {
</a><a href="#h12-0-524" id="h12-0-524" class="i">+		if (cme-&gt;data.l[1] == netatom[NetWMFullscreen]
</a><a href="#h12-0-525" id="h12-0-525" class="i">+		|| cme-&gt;data.l[2] == netatom[NetWMFullscreen])
</a><a href="#h12-0-526" id="h12-0-526" class="i">+			setfullscreen(c, (cme-&gt;data.l[0] == 1 /* _NET_WM_STATE_ADD    */
</a><a href="#h12-0-527" id="h12-0-527" class="i">+				|| (cme-&gt;data.l[0] == 2 /* _NET_WM_STATE_TOGGLE */ &amp;&amp; !c-&gt;isfullscreen)));
</a><a href="#h12-0-528" id="h12-0-528" class="i">+	} else if (cme-&gt;message_type == netatom[NetActiveWindow]) {
</a><a href="#h12-0-529" id="h12-0-529" class="i">+		if (c != selmon-&gt;sel &amp;&amp; !c-&gt;isurgent)
</a><a href="#h12-0-530" id="h12-0-530" class="i">+			seturgent(c, 1);
</a><a href="#h12-0-531" id="h12-0-531" class="i">+	}
</a><a href="#h12-0-532" id="h12-0-532" class="i">+}
</a><a href="#h12-0-533" id="h12-0-533" class="i">+
</a><a href="#h12-0-534" id="h12-0-534" class="i">+void
</a><a href="#h12-0-535" id="h12-0-535" class="i">+configure(Client *c)
</a><a href="#h12-0-536" id="h12-0-536" class="i">+{
</a><a href="#h12-0-537" id="h12-0-537" class="i">+	XConfigureEvent ce;
</a><a href="#h12-0-538" id="h12-0-538" class="i">+
</a><a href="#h12-0-539" id="h12-0-539" class="i">+	ce.type = ConfigureNotify;
</a><a href="#h12-0-540" id="h12-0-540" class="i">+	ce.display = dpy;
</a><a href="#h12-0-541" id="h12-0-541" class="i">+	ce.event = c-&gt;win;
</a><a href="#h12-0-542" id="h12-0-542" class="i">+	ce.window = c-&gt;win;
</a><a href="#h12-0-543" id="h12-0-543" class="i">+	ce.x = c-&gt;x;
</a><a href="#h12-0-544" id="h12-0-544" class="i">+	ce.y = c-&gt;y;
</a><a href="#h12-0-545" id="h12-0-545" class="i">+	ce.width = c-&gt;w;
</a><a href="#h12-0-546" id="h12-0-546" class="i">+	ce.height = c-&gt;h;
</a><a href="#h12-0-547" id="h12-0-547" class="i">+	ce.border_width = c-&gt;bw;
</a><a href="#h12-0-548" id="h12-0-548" class="i">+	ce.above = None;
</a><a href="#h12-0-549" id="h12-0-549" class="i">+	ce.override_redirect = False;
</a><a href="#h12-0-550" id="h12-0-550" class="i">+	XSendEvent(dpy, c-&gt;win, False, StructureNotifyMask, (XEvent *)&amp;ce);
</a><a href="#h12-0-551" id="h12-0-551" class="i">+}
</a><a href="#h12-0-552" id="h12-0-552" class="i">+
</a><a href="#h12-0-553" id="h12-0-553" class="i">+void
</a><a href="#h12-0-554" id="h12-0-554" class="i">+configurenotify(XEvent *e)
</a><a href="#h12-0-555" id="h12-0-555" class="i">+{
</a><a href="#h12-0-556" id="h12-0-556" class="i">+	Monitor *m;
</a><a href="#h12-0-557" id="h12-0-557" class="i">+	Client *c;
</a><a href="#h12-0-558" id="h12-0-558" class="i">+	XConfigureEvent *ev = &amp;e-&gt;xconfigure;
</a><a href="#h12-0-559" id="h12-0-559" class="i">+	int dirty;
</a><a href="#h12-0-560" id="h12-0-560" class="i">+
</a><a href="#h12-0-561" id="h12-0-561" class="i">+	/* TODO: updategeom handling sucks, needs to be simplified */
</a><a href="#h12-0-562" id="h12-0-562" class="i">+	if (ev-&gt;window == root) {
</a><a href="#h12-0-563" id="h12-0-563" class="i">+		dirty = (sw != ev-&gt;width || sh != ev-&gt;height);
</a><a href="#h12-0-564" id="h12-0-564" class="i">+		sw = ev-&gt;width;
</a><a href="#h12-0-565" id="h12-0-565" class="i">+		sh = ev-&gt;height;
</a><a href="#h12-0-566" id="h12-0-566" class="i">+		if (updategeom() || dirty) {
</a><a href="#h12-0-567" id="h12-0-567" class="i">+			drw_resize(drw, sw, bh);
</a><a href="#h12-0-568" id="h12-0-568" class="i">+			updatebars();
</a><a href="#h12-0-569" id="h12-0-569" class="i">+			for (m = mons; m; m = m-&gt;next) {
</a><a href="#h12-0-570" id="h12-0-570" class="i">+				for (c = m-&gt;clients; c; c = c-&gt;next)
</a><a href="#h12-0-571" id="h12-0-571" class="i">+					if (c-&gt;isfullscreen)
</a><a href="#h12-0-572" id="h12-0-572" class="i">+						resizeclient(c, m-&gt;mx, m-&gt;my, m-&gt;mw, m-&gt;mh);
</a><a href="#h12-0-573" id="h12-0-573" class="i">+				XMoveResizeWindow(dpy, m-&gt;barwin, m-&gt;wx, m-&gt;by, m-&gt;ww, bh);
</a><a href="#h12-0-574" id="h12-0-574" class="i">+			}
</a><a href="#h12-0-575" id="h12-0-575" class="i">+			focus(NULL);
</a><a href="#h12-0-576" id="h12-0-576" class="i">+			arrange(NULL);
</a><a href="#h12-0-577" id="h12-0-577" class="i">+		}
</a><a href="#h12-0-578" id="h12-0-578" class="i">+	}
</a><a href="#h12-0-579" id="h12-0-579" class="i">+}
</a><a href="#h12-0-580" id="h12-0-580" class="i">+
</a><a href="#h12-0-581" id="h12-0-581" class="i">+void
</a><a href="#h12-0-582" id="h12-0-582" class="i">+configurerequest(XEvent *e)
</a><a href="#h12-0-583" id="h12-0-583" class="i">+{
</a><a href="#h12-0-584" id="h12-0-584" class="i">+	Client *c;
</a><a href="#h12-0-585" id="h12-0-585" class="i">+	Monitor *m;
</a><a href="#h12-0-586" id="h12-0-586" class="i">+	XConfigureRequestEvent *ev = &amp;e-&gt;xconfigurerequest;
</a><a href="#h12-0-587" id="h12-0-587" class="i">+	XWindowChanges wc;
</a><a href="#h12-0-588" id="h12-0-588" class="i">+
</a><a href="#h12-0-589" id="h12-0-589" class="i">+	if ((c = wintoclient(ev-&gt;window))) {
</a><a href="#h12-0-590" id="h12-0-590" class="i">+		if (ev-&gt;value_mask &amp; CWBorderWidth)
</a><a href="#h12-0-591" id="h12-0-591" class="i">+			c-&gt;bw = ev-&gt;border_width;
</a><a href="#h12-0-592" id="h12-0-592" class="i">+		else if (c-&gt;isfloating || !selmon-&gt;lt[selmon-&gt;sellt]-&gt;arrange) {
</a><a href="#h12-0-593" id="h12-0-593" class="i">+			m = c-&gt;mon;
</a><a href="#h12-0-594" id="h12-0-594" class="i">+			if (ev-&gt;value_mask &amp; CWX) {
</a><a href="#h12-0-595" id="h12-0-595" class="i">+				c-&gt;oldx = c-&gt;x;
</a><a href="#h12-0-596" id="h12-0-596" class="i">+				c-&gt;x = m-&gt;mx + ev-&gt;x;
</a><a href="#h12-0-597" id="h12-0-597" class="i">+			}
</a><a href="#h12-0-598" id="h12-0-598" class="i">+			if (ev-&gt;value_mask &amp; CWY) {
</a><a href="#h12-0-599" id="h12-0-599" class="i">+				c-&gt;oldy = c-&gt;y;
</a><a href="#h12-0-600" id="h12-0-600" class="i">+				c-&gt;y = m-&gt;my + ev-&gt;y;
</a><a href="#h12-0-601" id="h12-0-601" class="i">+			}
</a><a href="#h12-0-602" id="h12-0-602" class="i">+			if (ev-&gt;value_mask &amp; CWWidth) {
</a><a href="#h12-0-603" id="h12-0-603" class="i">+				c-&gt;oldw = c-&gt;w;
</a><a href="#h12-0-604" id="h12-0-604" class="i">+				c-&gt;w = ev-&gt;width;
</a><a href="#h12-0-605" id="h12-0-605" class="i">+			}
</a><a href="#h12-0-606" id="h12-0-606" class="i">+			if (ev-&gt;value_mask &amp; CWHeight) {
</a><a href="#h12-0-607" id="h12-0-607" class="i">+				c-&gt;oldh = c-&gt;h;
</a><a href="#h12-0-608" id="h12-0-608" class="i">+				c-&gt;h = ev-&gt;height;
</a><a href="#h12-0-609" id="h12-0-609" class="i">+			}
</a><a href="#h12-0-610" id="h12-0-610" class="i">+			if ((c-&gt;x + c-&gt;w) &gt; m-&gt;mx + m-&gt;mw &amp;&amp; c-&gt;isfloating)
</a><a href="#h12-0-611" id="h12-0-611" class="i">+				c-&gt;x = m-&gt;mx + (m-&gt;mw / 2 - WIDTH(c) / 2); /* center in x direction */
</a><a href="#h12-0-612" id="h12-0-612" class="i">+			if ((c-&gt;y + c-&gt;h) &gt; m-&gt;my + m-&gt;mh &amp;&amp; c-&gt;isfloating)
</a><a href="#h12-0-613" id="h12-0-613" class="i">+				c-&gt;y = m-&gt;my + (m-&gt;mh / 2 - HEIGHT(c) / 2); /* center in y direction */
</a><a href="#h12-0-614" id="h12-0-614" class="i">+			if ((ev-&gt;value_mask &amp; (CWX|CWY)) &amp;&amp; !(ev-&gt;value_mask &amp; (CWWidth|CWHeight)))
</a><a href="#h12-0-615" id="h12-0-615" class="i">+				configure(c);
</a><a href="#h12-0-616" id="h12-0-616" class="i">+			if (ISVISIBLE(c))
</a><a href="#h12-0-617" id="h12-0-617" class="i">+				XMoveResizeWindow(dpy, c-&gt;win, c-&gt;x, c-&gt;y, c-&gt;w, c-&gt;h);
</a><a href="#h12-0-618" id="h12-0-618" class="i">+		} else
</a><a href="#h12-0-619" id="h12-0-619" class="i">+			configure(c);
</a><a href="#h12-0-620" id="h12-0-620" class="i">+	} else {
</a><a href="#h12-0-621" id="h12-0-621" class="i">+		wc.x = ev-&gt;x;
</a><a href="#h12-0-622" id="h12-0-622" class="i">+		wc.y = ev-&gt;y;
</a><a href="#h12-0-623" id="h12-0-623" class="i">+		wc.width = ev-&gt;width;
</a><a href="#h12-0-624" id="h12-0-624" class="i">+		wc.height = ev-&gt;height;
</a><a href="#h12-0-625" id="h12-0-625" class="i">+		wc.border_width = ev-&gt;border_width;
</a><a href="#h12-0-626" id="h12-0-626" class="i">+		wc.sibling = ev-&gt;above;
</a><a href="#h12-0-627" id="h12-0-627" class="i">+		wc.stack_mode = ev-&gt;detail;
</a><a href="#h12-0-628" id="h12-0-628" class="i">+		XConfigureWindow(dpy, ev-&gt;window, ev-&gt;value_mask, &amp;wc);
</a><a href="#h12-0-629" id="h12-0-629" class="i">+	}
</a><a href="#h12-0-630" id="h12-0-630" class="i">+	XSync(dpy, False);
</a><a href="#h12-0-631" id="h12-0-631" class="i">+}
</a><a href="#h12-0-632" id="h12-0-632" class="i">+
</a><a href="#h12-0-633" id="h12-0-633" class="i">+Monitor *
</a><a href="#h12-0-634" id="h12-0-634" class="i">+createmon(void)
</a><a href="#h12-0-635" id="h12-0-635" class="i">+{
</a><a href="#h12-0-636" id="h12-0-636" class="i">+	Monitor *m;
</a><a href="#h12-0-637" id="h12-0-637" class="i">+
</a><a href="#h12-0-638" id="h12-0-638" class="i">+	m = ecalloc(1, sizeof(Monitor));
</a><a href="#h12-0-639" id="h12-0-639" class="i">+	m-&gt;tagset[0] = m-&gt;tagset[1] = 1;
</a><a href="#h12-0-640" id="h12-0-640" class="i">+	m-&gt;mfact = mfact;
</a><a href="#h12-0-641" id="h12-0-641" class="i">+	m-&gt;nmaster = nmaster;
</a><a href="#h12-0-642" id="h12-0-642" class="i">+	m-&gt;showbar = showbar;
</a><a href="#h12-0-643" id="h12-0-643" class="i">+	m-&gt;topbar = topbar;
</a><a href="#h12-0-644" id="h12-0-644" class="i">+	m-&gt;lt[0] = &amp;layouts[0];
</a><a href="#h12-0-645" id="h12-0-645" class="i">+	m-&gt;lt[1] = &amp;layouts[1 % LENGTH(layouts)];
</a><a href="#h12-0-646" id="h12-0-646" class="i">+	strncpy(m-&gt;ltsymbol, layouts[0].symbol, sizeof m-&gt;ltsymbol);
</a><a href="#h12-0-647" id="h12-0-647" class="i">+	return m;
</a><a href="#h12-0-648" id="h12-0-648" class="i">+}
</a><a href="#h12-0-649" id="h12-0-649" class="i">+
</a><a href="#h12-0-650" id="h12-0-650" class="i">+void
</a><a href="#h12-0-651" id="h12-0-651" class="i">+destroynotify(XEvent *e)
</a><a href="#h12-0-652" id="h12-0-652" class="i">+{
</a><a href="#h12-0-653" id="h12-0-653" class="i">+	Client *c;
</a><a href="#h12-0-654" id="h12-0-654" class="i">+	XDestroyWindowEvent *ev = &amp;e-&gt;xdestroywindow;
</a><a href="#h12-0-655" id="h12-0-655" class="i">+
</a><a href="#h12-0-656" id="h12-0-656" class="i">+	if ((c = wintoclient(ev-&gt;window)))
</a><a href="#h12-0-657" id="h12-0-657" class="i">+		unmanage(c, 1);
</a><a href="#h12-0-658" id="h12-0-658" class="i">+}
</a><a href="#h12-0-659" id="h12-0-659" class="i">+
</a><a href="#h12-0-660" id="h12-0-660" class="i">+void
</a><a href="#h12-0-661" id="h12-0-661" class="i">+detach(Client *c)
</a><a href="#h12-0-662" id="h12-0-662" class="i">+{
</a><a href="#h12-0-663" id="h12-0-663" class="i">+	Client **tc;
</a><a href="#h12-0-664" id="h12-0-664" class="i">+
</a><a href="#h12-0-665" id="h12-0-665" class="i">+	for (tc = &amp;c-&gt;mon-&gt;clients; *tc &amp;&amp; *tc != c; tc = &amp;(*tc)-&gt;next);
</a><a href="#h12-0-666" id="h12-0-666" class="i">+	*tc = c-&gt;next;
</a><a href="#h12-0-667" id="h12-0-667" class="i">+}
</a><a href="#h12-0-668" id="h12-0-668" class="i">+
</a><a href="#h12-0-669" id="h12-0-669" class="i">+void
</a><a href="#h12-0-670" id="h12-0-670" class="i">+detachstack(Client *c)
</a><a href="#h12-0-671" id="h12-0-671" class="i">+{
</a><a href="#h12-0-672" id="h12-0-672" class="i">+	Client **tc, *t;
</a><a href="#h12-0-673" id="h12-0-673" class="i">+
</a><a href="#h12-0-674" id="h12-0-674" class="i">+	for (tc = &amp;c-&gt;mon-&gt;stack; *tc &amp;&amp; *tc != c; tc = &amp;(*tc)-&gt;snext);
</a><a href="#h12-0-675" id="h12-0-675" class="i">+	*tc = c-&gt;snext;
</a><a href="#h12-0-676" id="h12-0-676" class="i">+
</a><a href="#h12-0-677" id="h12-0-677" class="i">+	if (c == c-&gt;mon-&gt;sel) {
</a><a href="#h12-0-678" id="h12-0-678" class="i">+		for (t = c-&gt;mon-&gt;stack; t &amp;&amp; !ISVISIBLE(t); t = t-&gt;snext);
</a><a href="#h12-0-679" id="h12-0-679" class="i">+		c-&gt;mon-&gt;sel = t;
</a><a href="#h12-0-680" id="h12-0-680" class="i">+	}
</a><a href="#h12-0-681" id="h12-0-681" class="i">+}
</a><a href="#h12-0-682" id="h12-0-682" class="i">+
</a><a href="#h12-0-683" id="h12-0-683" class="i">+Monitor *
</a><a href="#h12-0-684" id="h12-0-684" class="i">+dirtomon(int dir)
</a><a href="#h12-0-685" id="h12-0-685" class="i">+{
</a><a href="#h12-0-686" id="h12-0-686" class="i">+	Monitor *m = NULL;
</a><a href="#h12-0-687" id="h12-0-687" class="i">+
</a><a href="#h12-0-688" id="h12-0-688" class="i">+	if (dir &gt; 0) {
</a><a href="#h12-0-689" id="h12-0-689" class="i">+		if (!(m = selmon-&gt;next))
</a><a href="#h12-0-690" id="h12-0-690" class="i">+			m = mons;
</a><a href="#h12-0-691" id="h12-0-691" class="i">+	} else if (selmon == mons)
</a><a href="#h12-0-692" id="h12-0-692" class="i">+		for (m = mons; m-&gt;next; m = m-&gt;next);
</a><a href="#h12-0-693" id="h12-0-693" class="i">+	else
</a><a href="#h12-0-694" id="h12-0-694" class="i">+		for (m = mons; m-&gt;next != selmon; m = m-&gt;next);
</a><a href="#h12-0-695" id="h12-0-695" class="i">+	return m;
</a><a href="#h12-0-696" id="h12-0-696" class="i">+}
</a><a href="#h12-0-697" id="h12-0-697" class="i">+
</a><a href="#h12-0-698" id="h12-0-698" class="i">+void
</a><a href="#h12-0-699" id="h12-0-699" class="i">+drawbar(Monitor *m)
</a><a href="#h12-0-700" id="h12-0-700" class="i">+{
</a><a href="#h12-0-701" id="h12-0-701" class="i">+	int x, w, tw = 0;
</a><a href="#h12-0-702" id="h12-0-702" class="i">+	int boxs = drw-&gt;fonts-&gt;h / 9;
</a><a href="#h12-0-703" id="h12-0-703" class="i">+	int boxw = drw-&gt;fonts-&gt;h / 6 + 2;
</a><a href="#h12-0-704" id="h12-0-704" class="i">+	unsigned int i, occ = 0, urg = 0;
</a><a href="#h12-0-705" id="h12-0-705" class="i">+	Client *c;
</a><a href="#h12-0-706" id="h12-0-706" class="i">+
</a><a href="#h12-0-707" id="h12-0-707" class="i">+	if (!m-&gt;showbar)
</a><a href="#h12-0-708" id="h12-0-708" class="i">+		return;
</a><a href="#h12-0-709" id="h12-0-709" class="i">+
</a><a href="#h12-0-710" id="h12-0-710" class="i">+	/* draw status first so it can be overdrawn by tags later */
</a><a href="#h12-0-711" id="h12-0-711" class="i">+	if (m == selmon) { /* status is only drawn on selected monitor */
</a><a href="#h12-0-712" id="h12-0-712" class="i">+		drw_setscheme(drw, scheme[SchemeNorm]);
</a><a href="#h12-0-713" id="h12-0-713" class="i">+		tw = TEXTW(stext) - lrpad + 2; /* 2px right padding */
</a><a href="#h12-0-714" id="h12-0-714" class="i">+		drw_text(drw, m-&gt;ww - tw, 0, tw, bh, 0, stext, 0);
</a><a href="#h12-0-715" id="h12-0-715" class="i">+	}
</a><a href="#h12-0-716" id="h12-0-716" class="i">+
</a><a href="#h12-0-717" id="h12-0-717" class="i">+	for (c = m-&gt;clients; c; c = c-&gt;next) {
</a><a href="#h12-0-718" id="h12-0-718" class="i">+		occ |= c-&gt;tags;
</a><a href="#h12-0-719" id="h12-0-719" class="i">+		if (c-&gt;isurgent)
</a><a href="#h12-0-720" id="h12-0-720" class="i">+			urg |= c-&gt;tags;
</a><a href="#h12-0-721" id="h12-0-721" class="i">+	}
</a><a href="#h12-0-722" id="h12-0-722" class="i">+	x = 0;
</a><a href="#h12-0-723" id="h12-0-723" class="i">+	for (i = 0; i &lt; LENGTH(tags); i++) {
</a><a href="#h12-0-724" id="h12-0-724" class="i">+		w = TEXTW(tags[i]);
</a><a href="#h12-0-725" id="h12-0-725" class="i">+		drw_setscheme(drw, scheme[m-&gt;tagset[m-&gt;seltags] &amp; 1 &lt;&lt; i ? SchemeSel : SchemeNorm]);
</a><a href="#h12-0-726" id="h12-0-726" class="i">+		drw_text(drw, x, 0, w, bh, lrpad / 2, tags[i], urg &amp; 1 &lt;&lt; i);
</a><a href="#h12-0-727" id="h12-0-727" class="i">+		if (occ &amp; 1 &lt;&lt; i)
</a><a href="#h12-0-728" id="h12-0-728" class="i">+			drw_rect(drw, x + boxs, boxs, boxw, boxw,
</a><a href="#h12-0-729" id="h12-0-729" class="i">+				m == selmon &amp;&amp; selmon-&gt;sel &amp;&amp; selmon-&gt;sel-&gt;tags &amp; 1 &lt;&lt; i,
</a><a href="#h12-0-730" id="h12-0-730" class="i">+				urg &amp; 1 &lt;&lt; i);
</a><a href="#h12-0-731" id="h12-0-731" class="i">+		x += w;
</a><a href="#h12-0-732" id="h12-0-732" class="i">+	}
</a><a href="#h12-0-733" id="h12-0-733" class="i">+	w = TEXTW(m-&gt;ltsymbol);
</a><a href="#h12-0-734" id="h12-0-734" class="i">+	drw_setscheme(drw, scheme[SchemeNorm]);
</a><a href="#h12-0-735" id="h12-0-735" class="i">+	x = drw_text(drw, x, 0, w, bh, lrpad / 2, m-&gt;ltsymbol, 0);
</a><a href="#h12-0-736" id="h12-0-736" class="i">+
</a><a href="#h12-0-737" id="h12-0-737" class="i">+	if ((w = m-&gt;ww - tw - x) &gt; bh) {
</a><a href="#h12-0-738" id="h12-0-738" class="i">+		if (m-&gt;sel) {
</a><a href="#h12-0-739" id="h12-0-739" class="i">+			drw_setscheme(drw, scheme[m == selmon ? SchemeSel : SchemeNorm]);
</a><a href="#h12-0-740" id="h12-0-740" class="i">+			drw_text(drw, x, 0, w, bh, lrpad / 2, m-&gt;sel-&gt;name, 0);
</a><a href="#h12-0-741" id="h12-0-741" class="i">+			if (m-&gt;sel-&gt;isfloating)
</a><a href="#h12-0-742" id="h12-0-742" class="i">+				drw_rect(drw, x + boxs, boxs, boxw, boxw, m-&gt;sel-&gt;isfixed, 0);
</a><a href="#h12-0-743" id="h12-0-743" class="i">+		} else {
</a><a href="#h12-0-744" id="h12-0-744" class="i">+			drw_setscheme(drw, scheme[SchemeNorm]);
</a><a href="#h12-0-745" id="h12-0-745" class="i">+			drw_rect(drw, x, 0, w, bh, 1, 1);
</a><a href="#h12-0-746" id="h12-0-746" class="i">+		}
</a><a href="#h12-0-747" id="h12-0-747" class="i">+	}
</a><a href="#h12-0-748" id="h12-0-748" class="i">+	drw_map(drw, m-&gt;barwin, 0, 0, m-&gt;ww, bh);
</a><a href="#h12-0-749" id="h12-0-749" class="i">+}
</a><a href="#h12-0-750" id="h12-0-750" class="i">+
</a><a href="#h12-0-751" id="h12-0-751" class="i">+void
</a><a href="#h12-0-752" id="h12-0-752" class="i">+drawbars(void)
</a><a href="#h12-0-753" id="h12-0-753" class="i">+{
</a><a href="#h12-0-754" id="h12-0-754" class="i">+	Monitor *m;
</a><a href="#h12-0-755" id="h12-0-755" class="i">+
</a><a href="#h12-0-756" id="h12-0-756" class="i">+	for (m = mons; m; m = m-&gt;next)
</a><a href="#h12-0-757" id="h12-0-757" class="i">+		drawbar(m);
</a><a href="#h12-0-758" id="h12-0-758" class="i">+}
</a><a href="#h12-0-759" id="h12-0-759" class="i">+
</a><a href="#h12-0-760" id="h12-0-760" class="i">+void
</a><a href="#h12-0-761" id="h12-0-761" class="i">+enternotify(XEvent *e)
</a><a href="#h12-0-762" id="h12-0-762" class="i">+{
</a><a href="#h12-0-763" id="h12-0-763" class="i">+	Client *c;
</a><a href="#h12-0-764" id="h12-0-764" class="i">+	Monitor *m;
</a><a href="#h12-0-765" id="h12-0-765" class="i">+	XCrossingEvent *ev = &amp;e-&gt;xcrossing;
</a><a href="#h12-0-766" id="h12-0-766" class="i">+
</a><a href="#h12-0-767" id="h12-0-767" class="i">+	if ((ev-&gt;mode != NotifyNormal || ev-&gt;detail == NotifyInferior) &amp;&amp; ev-&gt;window != root)
</a><a href="#h12-0-768" id="h12-0-768" class="i">+		return;
</a><a href="#h12-0-769" id="h12-0-769" class="i">+	c = wintoclient(ev-&gt;window);
</a><a href="#h12-0-770" id="h12-0-770" class="i">+	m = c ? c-&gt;mon : wintomon(ev-&gt;window);
</a><a href="#h12-0-771" id="h12-0-771" class="i">+	if (m != selmon) {
</a><a href="#h12-0-772" id="h12-0-772" class="i">+		unfocus(selmon-&gt;sel, 1);
</a><a href="#h12-0-773" id="h12-0-773" class="i">+		selmon = m;
</a><a href="#h12-0-774" id="h12-0-774" class="i">+	} else if (!c || c == selmon-&gt;sel)
</a><a href="#h12-0-775" id="h12-0-775" class="i">+		return;
</a><a href="#h12-0-776" id="h12-0-776" class="i">+	focus(c);
</a><a href="#h12-0-777" id="h12-0-777" class="i">+}
</a><a href="#h12-0-778" id="h12-0-778" class="i">+
</a><a href="#h12-0-779" id="h12-0-779" class="i">+void
</a><a href="#h12-0-780" id="h12-0-780" class="i">+expose(XEvent *e)
</a><a href="#h12-0-781" id="h12-0-781" class="i">+{
</a><a href="#h12-0-782" id="h12-0-782" class="i">+	Monitor *m;
</a><a href="#h12-0-783" id="h12-0-783" class="i">+	XExposeEvent *ev = &amp;e-&gt;xexpose;
</a><a href="#h12-0-784" id="h12-0-784" class="i">+
</a><a href="#h12-0-785" id="h12-0-785" class="i">+	if (ev-&gt;count == 0 &amp;&amp; (m = wintomon(ev-&gt;window)))
</a><a href="#h12-0-786" id="h12-0-786" class="i">+		drawbar(m);
</a><a href="#h12-0-787" id="h12-0-787" class="i">+}
</a><a href="#h12-0-788" id="h12-0-788" class="i">+
</a><a href="#h12-0-789" id="h12-0-789" class="i">+void
</a><a href="#h12-0-790" id="h12-0-790" class="i">+focus(Client *c)
</a><a href="#h12-0-791" id="h12-0-791" class="i">+{
</a><a href="#h12-0-792" id="h12-0-792" class="i">+	if (!c || !ISVISIBLE(c))
</a><a href="#h12-0-793" id="h12-0-793" class="i">+		for (c = selmon-&gt;stack; c &amp;&amp; !ISVISIBLE(c); c = c-&gt;snext);
</a><a href="#h12-0-794" id="h12-0-794" class="i">+	if (selmon-&gt;sel &amp;&amp; selmon-&gt;sel != c)
</a><a href="#h12-0-795" id="h12-0-795" class="i">+		unfocus(selmon-&gt;sel, 0);
</a><a href="#h12-0-796" id="h12-0-796" class="i">+	if (c) {
</a><a href="#h12-0-797" id="h12-0-797" class="i">+		if (c-&gt;mon != selmon)
</a><a href="#h12-0-798" id="h12-0-798" class="i">+			selmon = c-&gt;mon;
</a><a href="#h12-0-799" id="h12-0-799" class="i">+		if (c-&gt;isurgent)
</a><a href="#h12-0-800" id="h12-0-800" class="i">+			seturgent(c, 0);
</a><a href="#h12-0-801" id="h12-0-801" class="i">+		detachstack(c);
</a><a href="#h12-0-802" id="h12-0-802" class="i">+		attachstack(c);
</a><a href="#h12-0-803" id="h12-0-803" class="i">+		grabbuttons(c, 1);
</a><a href="#h12-0-804" id="h12-0-804" class="i">+		XSetWindowBorder(dpy, c-&gt;win, scheme[SchemeSel][ColBorder].pixel);
</a><a href="#h12-0-805" id="h12-0-805" class="i">+		setfocus(c);
</a><a href="#h12-0-806" id="h12-0-806" class="i">+	} else {
</a><a href="#h12-0-807" id="h12-0-807" class="i">+		XSetInputFocus(dpy, root, RevertToPointerRoot, CurrentTime);
</a><a href="#h12-0-808" id="h12-0-808" class="i">+		XDeleteProperty(dpy, root, netatom[NetActiveWindow]);
</a><a href="#h12-0-809" id="h12-0-809" class="i">+	}
</a><a href="#h12-0-810" id="h12-0-810" class="i">+	selmon-&gt;sel = c;
</a><a href="#h12-0-811" id="h12-0-811" class="i">+	drawbars();
</a><a href="#h12-0-812" id="h12-0-812" class="i">+}
</a><a href="#h12-0-813" id="h12-0-813" class="i">+
</a><a href="#h12-0-814" id="h12-0-814" class="i">+/* there are some broken focus acquiring clients needing extra handling */
</a><a href="#h12-0-815" id="h12-0-815" class="i">+void
</a><a href="#h12-0-816" id="h12-0-816" class="i">+focusin(XEvent *e)
</a><a href="#h12-0-817" id="h12-0-817" class="i">+{
</a><a href="#h12-0-818" id="h12-0-818" class="i">+	XFocusChangeEvent *ev = &amp;e-&gt;xfocus;
</a><a href="#h12-0-819" id="h12-0-819" class="i">+
</a><a href="#h12-0-820" id="h12-0-820" class="i">+	if (selmon-&gt;sel &amp;&amp; ev-&gt;window != selmon-&gt;sel-&gt;win)
</a><a href="#h12-0-821" id="h12-0-821" class="i">+		setfocus(selmon-&gt;sel);
</a><a href="#h12-0-822" id="h12-0-822" class="i">+}
</a><a href="#h12-0-823" id="h12-0-823" class="i">+
</a><a href="#h12-0-824" id="h12-0-824" class="i">+void
</a><a href="#h12-0-825" id="h12-0-825" class="i">+focusmon(const Arg *arg)
</a><a href="#h12-0-826" id="h12-0-826" class="i">+{
</a><a href="#h12-0-827" id="h12-0-827" class="i">+	Monitor *m;
</a><a href="#h12-0-828" id="h12-0-828" class="i">+
</a><a href="#h12-0-829" id="h12-0-829" class="i">+	if (!mons-&gt;next)
</a><a href="#h12-0-830" id="h12-0-830" class="i">+		return;
</a><a href="#h12-0-831" id="h12-0-831" class="i">+	if ((m = dirtomon(arg-&gt;i)) == selmon)
</a><a href="#h12-0-832" id="h12-0-832" class="i">+		return;
</a><a href="#h12-0-833" id="h12-0-833" class="i">+	unfocus(selmon-&gt;sel, 0);
</a><a href="#h12-0-834" id="h12-0-834" class="i">+	selmon = m;
</a><a href="#h12-0-835" id="h12-0-835" class="i">+	focus(NULL);
</a><a href="#h12-0-836" id="h12-0-836" class="i">+}
</a><a href="#h12-0-837" id="h12-0-837" class="i">+
</a><a href="#h12-0-838" id="h12-0-838" class="i">+void
</a><a href="#h12-0-839" id="h12-0-839" class="i">+focusstack(const Arg *arg)
</a><a href="#h12-0-840" id="h12-0-840" class="i">+{
</a><a href="#h12-0-841" id="h12-0-841" class="i">+	Client *c = NULL, *i;
</a><a href="#h12-0-842" id="h12-0-842" class="i">+
</a><a href="#h12-0-843" id="h12-0-843" class="i">+	if (!selmon-&gt;sel || (selmon-&gt;sel-&gt;isfullscreen &amp;&amp; lockfullscreen))
</a><a href="#h12-0-844" id="h12-0-844" class="i">+		return;
</a><a href="#h12-0-845" id="h12-0-845" class="i">+	if (arg-&gt;i &gt; 0) {
</a><a href="#h12-0-846" id="h12-0-846" class="i">+		for (c = selmon-&gt;sel-&gt;next; c &amp;&amp; !ISVISIBLE(c); c = c-&gt;next);
</a><a href="#h12-0-847" id="h12-0-847" class="i">+		if (!c)
</a><a href="#h12-0-848" id="h12-0-848" class="i">+			for (c = selmon-&gt;clients; c &amp;&amp; !ISVISIBLE(c); c = c-&gt;next);
</a><a href="#h12-0-849" id="h12-0-849" class="i">+	} else {
</a><a href="#h12-0-850" id="h12-0-850" class="i">+		for (i = selmon-&gt;clients; i != selmon-&gt;sel; i = i-&gt;next)
</a><a href="#h12-0-851" id="h12-0-851" class="i">+			if (ISVISIBLE(i))
</a><a href="#h12-0-852" id="h12-0-852" class="i">+				c = i;
</a><a href="#h12-0-853" id="h12-0-853" class="i">+		if (!c)
</a><a href="#h12-0-854" id="h12-0-854" class="i">+			for (; i; i = i-&gt;next)
</a><a href="#h12-0-855" id="h12-0-855" class="i">+				if (ISVISIBLE(i))
</a><a href="#h12-0-856" id="h12-0-856" class="i">+					c = i;
</a><a href="#h12-0-857" id="h12-0-857" class="i">+	}
</a><a href="#h12-0-858" id="h12-0-858" class="i">+	if (c) {
</a><a href="#h12-0-859" id="h12-0-859" class="i">+		focus(c);
</a><a href="#h12-0-860" id="h12-0-860" class="i">+		restack(selmon);
</a><a href="#h12-0-861" id="h12-0-861" class="i">+	}
</a><a href="#h12-0-862" id="h12-0-862" class="i">+}
</a><a href="#h12-0-863" id="h12-0-863" class="i">+
</a><a href="#h12-0-864" id="h12-0-864" class="i">+Atom
</a><a href="#h12-0-865" id="h12-0-865" class="i">+getatomprop(Client *c, Atom prop)
</a><a href="#h12-0-866" id="h12-0-866" class="i">+{
</a><a href="#h12-0-867" id="h12-0-867" class="i">+	int di;
</a><a href="#h12-0-868" id="h12-0-868" class="i">+	unsigned long dl;
</a><a href="#h12-0-869" id="h12-0-869" class="i">+	unsigned char *p = NULL;
</a><a href="#h12-0-870" id="h12-0-870" class="i">+	Atom da, atom = None;
</a><a href="#h12-0-871" id="h12-0-871" class="i">+
</a><a href="#h12-0-872" id="h12-0-872" class="i">+	if (XGetWindowProperty(dpy, c-&gt;win, prop, 0L, sizeof atom, False, XA_ATOM,
</a><a href="#h12-0-873" id="h12-0-873" class="i">+		&amp;da, &amp;di, &amp;dl, &amp;dl, &amp;p) == Success &amp;&amp; p) {
</a><a href="#h12-0-874" id="h12-0-874" class="i">+		atom = *(Atom *)p;
</a><a href="#h12-0-875" id="h12-0-875" class="i">+		XFree(p);
</a><a href="#h12-0-876" id="h12-0-876" class="i">+	}
</a><a href="#h12-0-877" id="h12-0-877" class="i">+	return atom;
</a><a href="#h12-0-878" id="h12-0-878" class="i">+}
</a><a href="#h12-0-879" id="h12-0-879" class="i">+
</a><a href="#h12-0-880" id="h12-0-880" class="i">+int
</a><a href="#h12-0-881" id="h12-0-881" class="i">+getrootptr(int *x, int *y)
</a><a href="#h12-0-882" id="h12-0-882" class="i">+{
</a><a href="#h12-0-883" id="h12-0-883" class="i">+	int di;
</a><a href="#h12-0-884" id="h12-0-884" class="i">+	unsigned int dui;
</a><a href="#h12-0-885" id="h12-0-885" class="i">+	Window dummy;
</a><a href="#h12-0-886" id="h12-0-886" class="i">+
</a><a href="#h12-0-887" id="h12-0-887" class="i">+	return XQueryPointer(dpy, root, &amp;dummy, &amp;dummy, x, y, &amp;di, &amp;di, &amp;dui);
</a><a href="#h12-0-888" id="h12-0-888" class="i">+}
</a><a href="#h12-0-889" id="h12-0-889" class="i">+
</a><a href="#h12-0-890" id="h12-0-890" class="i">+long
</a><a href="#h12-0-891" id="h12-0-891" class="i">+getstate(Window w)
</a><a href="#h12-0-892" id="h12-0-892" class="i">+{
</a><a href="#h12-0-893" id="h12-0-893" class="i">+	int format;
</a><a href="#h12-0-894" id="h12-0-894" class="i">+	long result = -1;
</a><a href="#h12-0-895" id="h12-0-895" class="i">+	unsigned char *p = NULL;
</a><a href="#h12-0-896" id="h12-0-896" class="i">+	unsigned long n, extra;
</a><a href="#h12-0-897" id="h12-0-897" class="i">+	Atom real;
</a><a href="#h12-0-898" id="h12-0-898" class="i">+
</a><a href="#h12-0-899" id="h12-0-899" class="i">+	if (XGetWindowProperty(dpy, w, wmatom[WMState], 0L, 2L, False, wmatom[WMState],
</a><a href="#h12-0-900" id="h12-0-900" class="i">+		&amp;real, &amp;format, &amp;n, &amp;extra, (unsigned char **)&amp;p) != Success)
</a><a href="#h12-0-901" id="h12-0-901" class="i">+		return -1;
</a><a href="#h12-0-902" id="h12-0-902" class="i">+	if (n != 0)
</a><a href="#h12-0-903" id="h12-0-903" class="i">+		result = *p;
</a><a href="#h12-0-904" id="h12-0-904" class="i">+	XFree(p);
</a><a href="#h12-0-905" id="h12-0-905" class="i">+	return result;
</a><a href="#h12-0-906" id="h12-0-906" class="i">+}
</a><a href="#h12-0-907" id="h12-0-907" class="i">+
</a><a href="#h12-0-908" id="h12-0-908" class="i">+int
</a><a href="#h12-0-909" id="h12-0-909" class="i">+gettextprop(Window w, Atom atom, char *text, unsigned int size)
</a><a href="#h12-0-910" id="h12-0-910" class="i">+{
</a><a href="#h12-0-911" id="h12-0-911" class="i">+	char **list = NULL;
</a><a href="#h12-0-912" id="h12-0-912" class="i">+	int n;
</a><a href="#h12-0-913" id="h12-0-913" class="i">+	XTextProperty name;
</a><a href="#h12-0-914" id="h12-0-914" class="i">+
</a><a href="#h12-0-915" id="h12-0-915" class="i">+	if (!text || size == 0)
</a><a href="#h12-0-916" id="h12-0-916" class="i">+		return 0;
</a><a href="#h12-0-917" id="h12-0-917" class="i">+	text[0] = &#39;\0&#39;;
</a><a href="#h12-0-918" id="h12-0-918" class="i">+	if (!XGetTextProperty(dpy, w, &amp;name, atom) || !name.nitems)
</a><a href="#h12-0-919" id="h12-0-919" class="i">+		return 0;
</a><a href="#h12-0-920" id="h12-0-920" class="i">+	if (name.encoding == XA_STRING) {
</a><a href="#h12-0-921" id="h12-0-921" class="i">+		strncpy(text, (char *)name.value, size - 1);
</a><a href="#h12-0-922" id="h12-0-922" class="i">+	} else if (XmbTextPropertyToTextList(dpy, &amp;name, &amp;list, &amp;n) &gt;= Success &amp;&amp; n &gt; 0 &amp;&amp; *list) {
</a><a href="#h12-0-923" id="h12-0-923" class="i">+		strncpy(text, *list, size - 1);
</a><a href="#h12-0-924" id="h12-0-924" class="i">+		XFreeStringList(list);
</a><a href="#h12-0-925" id="h12-0-925" class="i">+	}
</a><a href="#h12-0-926" id="h12-0-926" class="i">+	text[size - 1] = &#39;\0&#39;;
</a><a href="#h12-0-927" id="h12-0-927" class="i">+	XFree(name.value);
</a><a href="#h12-0-928" id="h12-0-928" class="i">+	return 1;
</a><a href="#h12-0-929" id="h12-0-929" class="i">+}
</a><a href="#h12-0-930" id="h12-0-930" class="i">+
</a><a href="#h12-0-931" id="h12-0-931" class="i">+void
</a><a href="#h12-0-932" id="h12-0-932" class="i">+grabbuttons(Client *c, int focused)
</a><a href="#h12-0-933" id="h12-0-933" class="i">+{
</a><a href="#h12-0-934" id="h12-0-934" class="i">+	updatenumlockmask();
</a><a href="#h12-0-935" id="h12-0-935" class="i">+	{
</a><a href="#h12-0-936" id="h12-0-936" class="i">+		unsigned int i, j;
</a><a href="#h12-0-937" id="h12-0-937" class="i">+		unsigned int modifiers[] = { 0, LockMask, numlockmask, numlockmask|LockMask };
</a><a href="#h12-0-938" id="h12-0-938" class="i">+		XUngrabButton(dpy, AnyButton, AnyModifier, c-&gt;win);
</a><a href="#h12-0-939" id="h12-0-939" class="i">+		if (!focused)
</a><a href="#h12-0-940" id="h12-0-940" class="i">+			XGrabButton(dpy, AnyButton, AnyModifier, c-&gt;win, False,
</a><a href="#h12-0-941" id="h12-0-941" class="i">+				BUTTONMASK, GrabModeSync, GrabModeSync, None, None);
</a><a href="#h12-0-942" id="h12-0-942" class="i">+		for (i = 0; i &lt; LENGTH(buttons); i++)
</a><a href="#h12-0-943" id="h12-0-943" class="i">+			if (buttons[i].click == ClkClientWin)
</a><a href="#h12-0-944" id="h12-0-944" class="i">+				for (j = 0; j &lt; LENGTH(modifiers); j++)
</a><a href="#h12-0-945" id="h12-0-945" class="i">+					XGrabButton(dpy, buttons[i].button,
</a><a href="#h12-0-946" id="h12-0-946" class="i">+						buttons[i].mask | modifiers[j],
</a><a href="#h12-0-947" id="h12-0-947" class="i">+						c-&gt;win, False, BUTTONMASK,
</a><a href="#h12-0-948" id="h12-0-948" class="i">+						GrabModeAsync, GrabModeSync, None, None);
</a><a href="#h12-0-949" id="h12-0-949" class="i">+	}
</a><a href="#h12-0-950" id="h12-0-950" class="i">+}
</a><a href="#h12-0-951" id="h12-0-951" class="i">+
</a><a href="#h12-0-952" id="h12-0-952" class="i">+void
</a><a href="#h12-0-953" id="h12-0-953" class="i">+grabkeys(void)
</a><a href="#h12-0-954" id="h12-0-954" class="i">+{
</a><a href="#h12-0-955" id="h12-0-955" class="i">+	updatenumlockmask();
</a><a href="#h12-0-956" id="h12-0-956" class="i">+	{
</a><a href="#h12-0-957" id="h12-0-957" class="i">+		unsigned int i, j, k;
</a><a href="#h12-0-958" id="h12-0-958" class="i">+		unsigned int modifiers[] = { 0, LockMask, numlockmask, numlockmask|LockMask };
</a><a href="#h12-0-959" id="h12-0-959" class="i">+		int start, end, skip;
</a><a href="#h12-0-960" id="h12-0-960" class="i">+		KeySym *syms;
</a><a href="#h12-0-961" id="h12-0-961" class="i">+
</a><a href="#h12-0-962" id="h12-0-962" class="i">+		XUngrabKey(dpy, AnyKey, AnyModifier, root);
</a><a href="#h12-0-963" id="h12-0-963" class="i">+		XDisplayKeycodes(dpy, &amp;start, &amp;end);
</a><a href="#h12-0-964" id="h12-0-964" class="i">+		syms = XGetKeyboardMapping(dpy, start, end - start + 1, &amp;skip);
</a><a href="#h12-0-965" id="h12-0-965" class="i">+		if (!syms)
</a><a href="#h12-0-966" id="h12-0-966" class="i">+			return;
</a><a href="#h12-0-967" id="h12-0-967" class="i">+		for (k = start; k &lt;= end; k++)
</a><a href="#h12-0-968" id="h12-0-968" class="i">+			for (i = 0; i &lt; LENGTH(keys); i++)
</a><a href="#h12-0-969" id="h12-0-969" class="i">+				/* skip modifier codes, we do that ourselves */
</a><a href="#h12-0-970" id="h12-0-970" class="i">+				if (keys[i].keysym == syms[(k - start) * skip])
</a><a href="#h12-0-971" id="h12-0-971" class="i">+					for (j = 0; j &lt; LENGTH(modifiers); j++)
</a><a href="#h12-0-972" id="h12-0-972" class="i">+						XGrabKey(dpy, k,
</a><a href="#h12-0-973" id="h12-0-973" class="i">+							 keys[i].mod | modifiers[j],
</a><a href="#h12-0-974" id="h12-0-974" class="i">+							 root, True,
</a><a href="#h12-0-975" id="h12-0-975" class="i">+							 GrabModeAsync, GrabModeAsync);
</a><a href="#h12-0-976" id="h12-0-976" class="i">+		XFree(syms);
</a><a href="#h12-0-977" id="h12-0-977" class="i">+	}
</a><a href="#h12-0-978" id="h12-0-978" class="i">+}
</a><a href="#h12-0-979" id="h12-0-979" class="i">+
</a><a href="#h12-0-980" id="h12-0-980" class="i">+void
</a><a href="#h12-0-981" id="h12-0-981" class="i">+incnmaster(const Arg *arg)
</a><a href="#h12-0-982" id="h12-0-982" class="i">+{
</a><a href="#h12-0-983" id="h12-0-983" class="i">+	selmon-&gt;nmaster = MAX(selmon-&gt;nmaster + arg-&gt;i, 0);
</a><a href="#h12-0-984" id="h12-0-984" class="i">+	arrange(selmon);
</a><a href="#h12-0-985" id="h12-0-985" class="i">+}
</a><a href="#h12-0-986" id="h12-0-986" class="i">+
</a><a href="#h12-0-987" id="h12-0-987" class="i">+#ifdef XINERAMA
</a><a href="#h12-0-988" id="h12-0-988" class="i">+static int
</a><a href="#h12-0-989" id="h12-0-989" class="i">+isuniquegeom(XineramaScreenInfo *unique, size_t n, XineramaScreenInfo *info)
</a><a href="#h12-0-990" id="h12-0-990" class="i">+{
</a><a href="#h12-0-991" id="h12-0-991" class="i">+	while (n--)
</a><a href="#h12-0-992" id="h12-0-992" class="i">+		if (unique[n].x_org == info-&gt;x_org &amp;&amp; unique[n].y_org == info-&gt;y_org
</a><a href="#h12-0-993" id="h12-0-993" class="i">+		&amp;&amp; unique[n].width == info-&gt;width &amp;&amp; unique[n].height == info-&gt;height)
</a><a href="#h12-0-994" id="h12-0-994" class="i">+			return 0;
</a><a href="#h12-0-995" id="h12-0-995" class="i">+	return 1;
</a><a href="#h12-0-996" id="h12-0-996" class="i">+}
</a><a href="#h12-0-997" id="h12-0-997" class="i">+#endif /* XINERAMA */
</a><a href="#h12-0-998" id="h12-0-998" class="i">+
</a><a href="#h12-0-999" id="h12-0-999" class="i">+void
</a><a href="#h12-0-1000" id="h12-0-1000" class="i">+keypress(XEvent *e)
</a><a href="#h12-0-1001" id="h12-0-1001" class="i">+{
</a><a href="#h12-0-1002" id="h12-0-1002" class="i">+	unsigned int i;
</a><a href="#h12-0-1003" id="h12-0-1003" class="i">+	KeySym keysym;
</a><a href="#h12-0-1004" id="h12-0-1004" class="i">+	XKeyEvent *ev;
</a><a href="#h12-0-1005" id="h12-0-1005" class="i">+
</a><a href="#h12-0-1006" id="h12-0-1006" class="i">+	ev = &amp;e-&gt;xkey;
</a><a href="#h12-0-1007" id="h12-0-1007" class="i">+	keysym = XKeycodeToKeysym(dpy, (KeyCode)ev-&gt;keycode, 0);
</a><a href="#h12-0-1008" id="h12-0-1008" class="i">+	for (i = 0; i &lt; LENGTH(keys); i++)
</a><a href="#h12-0-1009" id="h12-0-1009" class="i">+		if (keysym == keys[i].keysym
</a><a href="#h12-0-1010" id="h12-0-1010" class="i">+		&amp;&amp; CLEANMASK(keys[i].mod) == CLEANMASK(ev-&gt;state)
</a><a href="#h12-0-1011" id="h12-0-1011" class="i">+		&amp;&amp; keys[i].func)
</a><a href="#h12-0-1012" id="h12-0-1012" class="i">+			keys[i].func(&amp;(keys[i].arg));
</a><a href="#h12-0-1013" id="h12-0-1013" class="i">+}
</a><a href="#h12-0-1014" id="h12-0-1014" class="i">+
</a><a href="#h12-0-1015" id="h12-0-1015" class="i">+void
</a><a href="#h12-0-1016" id="h12-0-1016" class="i">+killclient(const Arg *arg)
</a><a href="#h12-0-1017" id="h12-0-1017" class="i">+{
</a><a href="#h12-0-1018" id="h12-0-1018" class="i">+	if (!selmon-&gt;sel)
</a><a href="#h12-0-1019" id="h12-0-1019" class="i">+		return;
</a><a href="#h12-0-1020" id="h12-0-1020" class="i">+	if (!sendevent(selmon-&gt;sel, wmatom[WMDelete])) {
</a><a href="#h12-0-1021" id="h12-0-1021" class="i">+		XGrabServer(dpy);
</a><a href="#h12-0-1022" id="h12-0-1022" class="i">+		XSetErrorHandler(xerrordummy);
</a><a href="#h12-0-1023" id="h12-0-1023" class="i">+		XSetCloseDownMode(dpy, DestroyAll);
</a><a href="#h12-0-1024" id="h12-0-1024" class="i">+		XKillClient(dpy, selmon-&gt;sel-&gt;win);
</a><a href="#h12-0-1025" id="h12-0-1025" class="i">+		XSync(dpy, False);
</a><a href="#h12-0-1026" id="h12-0-1026" class="i">+		XSetErrorHandler(xerror);
</a><a href="#h12-0-1027" id="h12-0-1027" class="i">+		XUngrabServer(dpy);
</a><a href="#h12-0-1028" id="h12-0-1028" class="i">+	}
</a><a href="#h12-0-1029" id="h12-0-1029" class="i">+}
</a><a href="#h12-0-1030" id="h12-0-1030" class="i">+
</a><a href="#h12-0-1031" id="h12-0-1031" class="i">+void
</a><a href="#h12-0-1032" id="h12-0-1032" class="i">+manage(Window w, XWindowAttributes *wa)
</a><a href="#h12-0-1033" id="h12-0-1033" class="i">+{
</a><a href="#h12-0-1034" id="h12-0-1034" class="i">+	Client *c, *t = NULL;
</a><a href="#h12-0-1035" id="h12-0-1035" class="i">+	Window trans = None;
</a><a href="#h12-0-1036" id="h12-0-1036" class="i">+	XWindowChanges wc;
</a><a href="#h12-0-1037" id="h12-0-1037" class="i">+
</a><a href="#h12-0-1038" id="h12-0-1038" class="i">+	c = ecalloc(1, sizeof(Client));
</a><a href="#h12-0-1039" id="h12-0-1039" class="i">+	c-&gt;win = w;
</a><a href="#h12-0-1040" id="h12-0-1040" class="i">+	/* geometry */
</a><a href="#h12-0-1041" id="h12-0-1041" class="i">+	c-&gt;x = c-&gt;oldx = wa-&gt;x;
</a><a href="#h12-0-1042" id="h12-0-1042" class="i">+	c-&gt;y = c-&gt;oldy = wa-&gt;y;
</a><a href="#h12-0-1043" id="h12-0-1043" class="i">+	c-&gt;w = c-&gt;oldw = wa-&gt;width;
</a><a href="#h12-0-1044" id="h12-0-1044" class="i">+	c-&gt;h = c-&gt;oldh = wa-&gt;height;
</a><a href="#h12-0-1045" id="h12-0-1045" class="i">+	c-&gt;oldbw = wa-&gt;border_width;
</a><a href="#h12-0-1046" id="h12-0-1046" class="i">+
</a><a href="#h12-0-1047" id="h12-0-1047" class="i">+	updatetitle(c);
</a><a href="#h12-0-1048" id="h12-0-1048" class="i">+	if (XGetTransientForHint(dpy, w, &amp;trans) &amp;&amp; (t = wintoclient(trans))) {
</a><a href="#h12-0-1049" id="h12-0-1049" class="i">+		c-&gt;mon = t-&gt;mon;
</a><a href="#h12-0-1050" id="h12-0-1050" class="i">+		c-&gt;tags = t-&gt;tags;
</a><a href="#h12-0-1051" id="h12-0-1051" class="i">+	} else {
</a><a href="#h12-0-1052" id="h12-0-1052" class="i">+		c-&gt;mon = selmon;
</a><a href="#h12-0-1053" id="h12-0-1053" class="i">+		applyrules(c);
</a><a href="#h12-0-1054" id="h12-0-1054" class="i">+	}
</a><a href="#h12-0-1055" id="h12-0-1055" class="i">+
</a><a href="#h12-0-1056" id="h12-0-1056" class="i">+	if (c-&gt;x + WIDTH(c) &gt; c-&gt;mon-&gt;wx + c-&gt;mon-&gt;ww)
</a><a href="#h12-0-1057" id="h12-0-1057" class="i">+		c-&gt;x = c-&gt;mon-&gt;wx + c-&gt;mon-&gt;ww - WIDTH(c);
</a><a href="#h12-0-1058" id="h12-0-1058" class="i">+	if (c-&gt;y + HEIGHT(c) &gt; c-&gt;mon-&gt;wy + c-&gt;mon-&gt;wh)
</a><a href="#h12-0-1059" id="h12-0-1059" class="i">+		c-&gt;y = c-&gt;mon-&gt;wy + c-&gt;mon-&gt;wh - HEIGHT(c);
</a><a href="#h12-0-1060" id="h12-0-1060" class="i">+	c-&gt;x = MAX(c-&gt;x, c-&gt;mon-&gt;wx);
</a><a href="#h12-0-1061" id="h12-0-1061" class="i">+	c-&gt;y = MAX(c-&gt;y, c-&gt;mon-&gt;wy);
</a><a href="#h12-0-1062" id="h12-0-1062" class="i">+	c-&gt;bw = borderpx;
</a><a href="#h12-0-1063" id="h12-0-1063" class="i">+
</a><a href="#h12-0-1064" id="h12-0-1064" class="i">+	wc.border_width = c-&gt;bw;
</a><a href="#h12-0-1065" id="h12-0-1065" class="i">+	XConfigureWindow(dpy, w, CWBorderWidth, &amp;wc);
</a><a href="#h12-0-1066" id="h12-0-1066" class="i">+	XSetWindowBorder(dpy, w, scheme[SchemeNorm][ColBorder].pixel);
</a><a href="#h12-0-1067" id="h12-0-1067" class="i">+	configure(c); /* propagates border_width, if size doesn&#39;t change */
</a><a href="#h12-0-1068" id="h12-0-1068" class="i">+	updatewindowtype(c);
</a><a href="#h12-0-1069" id="h12-0-1069" class="i">+	updatesizehints(c);
</a><a href="#h12-0-1070" id="h12-0-1070" class="i">+	updatewmhints(c);
</a><a href="#h12-0-1071" id="h12-0-1071" class="i">+	XSelectInput(dpy, w, EnterWindowMask|FocusChangeMask|PropertyChangeMask|StructureNotifyMask);
</a><a href="#h12-0-1072" id="h12-0-1072" class="i">+	grabbuttons(c, 0);
</a><a href="#h12-0-1073" id="h12-0-1073" class="i">+	if (!c-&gt;isfloating)
</a><a href="#h12-0-1074" id="h12-0-1074" class="i">+		c-&gt;isfloating = c-&gt;oldstate = trans != None || c-&gt;isfixed;
</a><a href="#h12-0-1075" id="h12-0-1075" class="i">+	if (c-&gt;isfloating)
</a><a href="#h12-0-1076" id="h12-0-1076" class="i">+		XRaiseWindow(dpy, c-&gt;win);
</a><a href="#h12-0-1077" id="h12-0-1077" class="i">+	attach(c);
</a><a href="#h12-0-1078" id="h12-0-1078" class="i">+	attachstack(c);
</a><a href="#h12-0-1079" id="h12-0-1079" class="i">+	XChangeProperty(dpy, root, netatom[NetClientList], XA_WINDOW, 32, PropModeAppend,
</a><a href="#h12-0-1080" id="h12-0-1080" class="i">+		(unsigned char *) &amp;(c-&gt;win), 1);
</a><a href="#h12-0-1081" id="h12-0-1081" class="i">+	XMoveResizeWindow(dpy, c-&gt;win, c-&gt;x + 2 * sw, c-&gt;y, c-&gt;w, c-&gt;h); /* some windows require this */
</a><a href="#h12-0-1082" id="h12-0-1082" class="i">+	setclientstate(c, NormalState);
</a><a href="#h12-0-1083" id="h12-0-1083" class="i">+	if (c-&gt;mon == selmon)
</a><a href="#h12-0-1084" id="h12-0-1084" class="i">+		unfocus(selmon-&gt;sel, 0);
</a><a href="#h12-0-1085" id="h12-0-1085" class="i">+	c-&gt;mon-&gt;sel = c;
</a><a href="#h12-0-1086" id="h12-0-1086" class="i">+	arrange(c-&gt;mon);
</a><a href="#h12-0-1087" id="h12-0-1087" class="i">+	XMapWindow(dpy, c-&gt;win);
</a><a href="#h12-0-1088" id="h12-0-1088" class="i">+	focus(NULL);
</a><a href="#h12-0-1089" id="h12-0-1089" class="i">+}
</a><a href="#h12-0-1090" id="h12-0-1090" class="i">+
</a><a href="#h12-0-1091" id="h12-0-1091" class="i">+void
</a><a href="#h12-0-1092" id="h12-0-1092" class="i">+mappingnotify(XEvent *e)
</a><a href="#h12-0-1093" id="h12-0-1093" class="i">+{
</a><a href="#h12-0-1094" id="h12-0-1094" class="i">+	XMappingEvent *ev = &amp;e-&gt;xmapping;
</a><a href="#h12-0-1095" id="h12-0-1095" class="i">+
</a><a href="#h12-0-1096" id="h12-0-1096" class="i">+	XRefreshKeyboardMapping(ev);
</a><a href="#h12-0-1097" id="h12-0-1097" class="i">+	if (ev-&gt;request == MappingKeyboard)
</a><a href="#h12-0-1098" id="h12-0-1098" class="i">+		grabkeys();
</a><a href="#h12-0-1099" id="h12-0-1099" class="i">+}
</a><a href="#h12-0-1100" id="h12-0-1100" class="i">+
</a><a href="#h12-0-1101" id="h12-0-1101" class="i">+void
</a><a href="#h12-0-1102" id="h12-0-1102" class="i">+maprequest(XEvent *e)
</a><a href="#h12-0-1103" id="h12-0-1103" class="i">+{
</a><a href="#h12-0-1104" id="h12-0-1104" class="i">+	static XWindowAttributes wa;
</a><a href="#h12-0-1105" id="h12-0-1105" class="i">+	XMapRequestEvent *ev = &amp;e-&gt;xmaprequest;
</a><a href="#h12-0-1106" id="h12-0-1106" class="i">+
</a><a href="#h12-0-1107" id="h12-0-1107" class="i">+	if (!XGetWindowAttributes(dpy, ev-&gt;window, &amp;wa) || wa.override_redirect)
</a><a href="#h12-0-1108" id="h12-0-1108" class="i">+		return;
</a><a href="#h12-0-1109" id="h12-0-1109" class="i">+	if (!wintoclient(ev-&gt;window))
</a><a href="#h12-0-1110" id="h12-0-1110" class="i">+		manage(ev-&gt;window, &amp;wa);
</a><a href="#h12-0-1111" id="h12-0-1111" class="i">+}
</a><a href="#h12-0-1112" id="h12-0-1112" class="i">+
</a><a href="#h12-0-1113" id="h12-0-1113" class="i">+void
</a><a href="#h12-0-1114" id="h12-0-1114" class="i">+monocle(Monitor *m)
</a><a href="#h12-0-1115" id="h12-0-1115" class="i">+{
</a><a href="#h12-0-1116" id="h12-0-1116" class="i">+	unsigned int n = 0;
</a><a href="#h12-0-1117" id="h12-0-1117" class="i">+	Client *c;
</a><a href="#h12-0-1118" id="h12-0-1118" class="i">+
</a><a href="#h12-0-1119" id="h12-0-1119" class="i">+	for (c = m-&gt;clients; c; c = c-&gt;next)
</a><a href="#h12-0-1120" id="h12-0-1120" class="i">+		if (ISVISIBLE(c))
</a><a href="#h12-0-1121" id="h12-0-1121" class="i">+			n++;
</a><a href="#h12-0-1122" id="h12-0-1122" class="i">+	if (n &gt; 0) /* override layout symbol */
</a><a href="#h12-0-1123" id="h12-0-1123" class="i">+		snprintf(m-&gt;ltsymbol, sizeof m-&gt;ltsymbol, &quot;[%d]&quot;, n);
</a><a href="#h12-0-1124" id="h12-0-1124" class="i">+	for (c = nexttiled(m-&gt;clients); c; c = nexttiled(c-&gt;next))
</a><a href="#h12-0-1125" id="h12-0-1125" class="i">+		resize(c, m-&gt;wx, m-&gt;wy, m-&gt;ww - 2 * c-&gt;bw, m-&gt;wh - 2 * c-&gt;bw, 0);
</a><a href="#h12-0-1126" id="h12-0-1126" class="i">+}
</a><a href="#h12-0-1127" id="h12-0-1127" class="i">+
</a><a href="#h12-0-1128" id="h12-0-1128" class="i">+void
</a><a href="#h12-0-1129" id="h12-0-1129" class="i">+motionnotify(XEvent *e)
</a><a href="#h12-0-1130" id="h12-0-1130" class="i">+{
</a><a href="#h12-0-1131" id="h12-0-1131" class="i">+	static Monitor *mon = NULL;
</a><a href="#h12-0-1132" id="h12-0-1132" class="i">+	Monitor *m;
</a><a href="#h12-0-1133" id="h12-0-1133" class="i">+	XMotionEvent *ev = &amp;e-&gt;xmotion;
</a><a href="#h12-0-1134" id="h12-0-1134" class="i">+
</a><a href="#h12-0-1135" id="h12-0-1135" class="i">+	if (ev-&gt;window != root)
</a><a href="#h12-0-1136" id="h12-0-1136" class="i">+		return;
</a><a href="#h12-0-1137" id="h12-0-1137" class="i">+	if ((m = recttomon(ev-&gt;x_root, ev-&gt;y_root, 1, 1)) != mon &amp;&amp; mon) {
</a><a href="#h12-0-1138" id="h12-0-1138" class="i">+		unfocus(selmon-&gt;sel, 1);
</a><a href="#h12-0-1139" id="h12-0-1139" class="i">+		selmon = m;
</a><a href="#h12-0-1140" id="h12-0-1140" class="i">+		focus(NULL);
</a><a href="#h12-0-1141" id="h12-0-1141" class="i">+	}
</a><a href="#h12-0-1142" id="h12-0-1142" class="i">+	mon = m;
</a><a href="#h12-0-1143" id="h12-0-1143" class="i">+}
</a><a href="#h12-0-1144" id="h12-0-1144" class="i">+
</a><a href="#h12-0-1145" id="h12-0-1145" class="i">+void
</a><a href="#h12-0-1146" id="h12-0-1146" class="i">+movemouse(const Arg *arg)
</a><a href="#h12-0-1147" id="h12-0-1147" class="i">+{
</a><a href="#h12-0-1148" id="h12-0-1148" class="i">+	int x, y, ocx, ocy, nx, ny;
</a><a href="#h12-0-1149" id="h12-0-1149" class="i">+	Client *c;
</a><a href="#h12-0-1150" id="h12-0-1150" class="i">+	Monitor *m;
</a><a href="#h12-0-1151" id="h12-0-1151" class="i">+	XEvent ev;
</a><a href="#h12-0-1152" id="h12-0-1152" class="i">+	Time lasttime = 0;
</a><a href="#h12-0-1153" id="h12-0-1153" class="i">+
</a><a href="#h12-0-1154" id="h12-0-1154" class="i">+	if (!(c = selmon-&gt;sel))
</a><a href="#h12-0-1155" id="h12-0-1155" class="i">+		return;
</a><a href="#h12-0-1156" id="h12-0-1156" class="i">+	if (c-&gt;isfullscreen) /* no support moving fullscreen windows by mouse */
</a><a href="#h12-0-1157" id="h12-0-1157" class="i">+		return;
</a><a href="#h12-0-1158" id="h12-0-1158" class="i">+	restack(selmon);
</a><a href="#h12-0-1159" id="h12-0-1159" class="i">+	ocx = c-&gt;x;
</a><a href="#h12-0-1160" id="h12-0-1160" class="i">+	ocy = c-&gt;y;
</a><a href="#h12-0-1161" id="h12-0-1161" class="i">+	if (XGrabPointer(dpy, root, False, MOUSEMASK, GrabModeAsync, GrabModeAsync,
</a><a href="#h12-0-1162" id="h12-0-1162" class="i">+		None, cursor[CurMove]-&gt;cursor, CurrentTime) != GrabSuccess)
</a><a href="#h12-0-1163" id="h12-0-1163" class="i">+		return;
</a><a href="#h12-0-1164" id="h12-0-1164" class="i">+	if (!getrootptr(&amp;x, &amp;y))
</a><a href="#h12-0-1165" id="h12-0-1165" class="i">+		return;
</a><a href="#h12-0-1166" id="h12-0-1166" class="i">+	do {
</a><a href="#h12-0-1167" id="h12-0-1167" class="i">+		XMaskEvent(dpy, MOUSEMASK|ExposureMask|SubstructureRedirectMask, &amp;ev);
</a><a href="#h12-0-1168" id="h12-0-1168" class="i">+		switch(ev.type) {
</a><a href="#h12-0-1169" id="h12-0-1169" class="i">+		case ConfigureRequest:
</a><a href="#h12-0-1170" id="h12-0-1170" class="i">+		case Expose:
</a><a href="#h12-0-1171" id="h12-0-1171" class="i">+		case MapRequest:
</a><a href="#h12-0-1172" id="h12-0-1172" class="i">+			handler[ev.type](&amp;ev);
</a><a href="#h12-0-1173" id="h12-0-1173" class="i">+			break;
</a><a href="#h12-0-1174" id="h12-0-1174" class="i">+		case MotionNotify:
</a><a href="#h12-0-1175" id="h12-0-1175" class="i">+			if ((ev.xmotion.time - lasttime) &lt;= (1000 / 60))
</a><a href="#h12-0-1176" id="h12-0-1176" class="i">+				continue;
</a><a href="#h12-0-1177" id="h12-0-1177" class="i">+			lasttime = ev.xmotion.time;
</a><a href="#h12-0-1178" id="h12-0-1178" class="i">+
</a><a href="#h12-0-1179" id="h12-0-1179" class="i">+			nx = ocx + (ev.xmotion.x - x);
</a><a href="#h12-0-1180" id="h12-0-1180" class="i">+			ny = ocy + (ev.xmotion.y - y);
</a><a href="#h12-0-1181" id="h12-0-1181" class="i">+			if (abs(selmon-&gt;wx - nx) &lt; snap)
</a><a href="#h12-0-1182" id="h12-0-1182" class="i">+				nx = selmon-&gt;wx;
</a><a href="#h12-0-1183" id="h12-0-1183" class="i">+			else if (abs((selmon-&gt;wx + selmon-&gt;ww) - (nx + WIDTH(c))) &lt; snap)
</a><a href="#h12-0-1184" id="h12-0-1184" class="i">+				nx = selmon-&gt;wx + selmon-&gt;ww - WIDTH(c);
</a><a href="#h12-0-1185" id="h12-0-1185" class="i">+			if (abs(selmon-&gt;wy - ny) &lt; snap)
</a><a href="#h12-0-1186" id="h12-0-1186" class="i">+				ny = selmon-&gt;wy;
</a><a href="#h12-0-1187" id="h12-0-1187" class="i">+			else if (abs((selmon-&gt;wy + selmon-&gt;wh) - (ny + HEIGHT(c))) &lt; snap)
</a><a href="#h12-0-1188" id="h12-0-1188" class="i">+				ny = selmon-&gt;wy + selmon-&gt;wh - HEIGHT(c);
</a><a href="#h12-0-1189" id="h12-0-1189" class="i">+			if (!c-&gt;isfloating &amp;&amp; selmon-&gt;lt[selmon-&gt;sellt]-&gt;arrange
</a><a href="#h12-0-1190" id="h12-0-1190" class="i">+			&amp;&amp; (abs(nx - c-&gt;x) &gt; snap || abs(ny - c-&gt;y) &gt; snap))
</a><a href="#h12-0-1191" id="h12-0-1191" class="i">+				togglefloating(NULL);
</a><a href="#h12-0-1192" id="h12-0-1192" class="i">+			if (!selmon-&gt;lt[selmon-&gt;sellt]-&gt;arrange || c-&gt;isfloating)
</a><a href="#h12-0-1193" id="h12-0-1193" class="i">+				resize(c, nx, ny, c-&gt;w, c-&gt;h, 1);
</a><a href="#h12-0-1194" id="h12-0-1194" class="i">+			break;
</a><a href="#h12-0-1195" id="h12-0-1195" class="i">+		}
</a><a href="#h12-0-1196" id="h12-0-1196" class="i">+	} while (ev.type != ButtonRelease);
</a><a href="#h12-0-1197" id="h12-0-1197" class="i">+	XUngrabPointer(dpy, CurrentTime);
</a><a href="#h12-0-1198" id="h12-0-1198" class="i">+	if ((m = recttomon(c-&gt;x, c-&gt;y, c-&gt;w, c-&gt;h)) != selmon) {
</a><a href="#h12-0-1199" id="h12-0-1199" class="i">+		sendmon(c, m);
</a><a href="#h12-0-1200" id="h12-0-1200" class="i">+		selmon = m;
</a><a href="#h12-0-1201" id="h12-0-1201" class="i">+		focus(NULL);
</a><a href="#h12-0-1202" id="h12-0-1202" class="i">+	}
</a><a href="#h12-0-1203" id="h12-0-1203" class="i">+}
</a><a href="#h12-0-1204" id="h12-0-1204" class="i">+
</a><a href="#h12-0-1205" id="h12-0-1205" class="i">+Client *
</a><a href="#h12-0-1206" id="h12-0-1206" class="i">+nexttiled(Client *c)
</a><a href="#h12-0-1207" id="h12-0-1207" class="i">+{
</a><a href="#h12-0-1208" id="h12-0-1208" class="i">+	for (; c &amp;&amp; (c-&gt;isfloating || !ISVISIBLE(c)); c = c-&gt;next);
</a><a href="#h12-0-1209" id="h12-0-1209" class="i">+	return c;
</a><a href="#h12-0-1210" id="h12-0-1210" class="i">+}
</a><a href="#h12-0-1211" id="h12-0-1211" class="i">+
</a><a href="#h12-0-1212" id="h12-0-1212" class="i">+void
</a><a href="#h12-0-1213" id="h12-0-1213" class="i">+pop(Client *c)
</a><a href="#h12-0-1214" id="h12-0-1214" class="i">+{
</a><a href="#h12-0-1215" id="h12-0-1215" class="i">+	detach(c);
</a><a href="#h12-0-1216" id="h12-0-1216" class="i">+	attach(c);
</a><a href="#h12-0-1217" id="h12-0-1217" class="i">+	focus(c);
</a><a href="#h12-0-1218" id="h12-0-1218" class="i">+	arrange(c-&gt;mon);
</a><a href="#h12-0-1219" id="h12-0-1219" class="i">+}
</a><a href="#h12-0-1220" id="h12-0-1220" class="i">+
</a><a href="#h12-0-1221" id="h12-0-1221" class="i">+void
</a><a href="#h12-0-1222" id="h12-0-1222" class="i">+propertynotify(XEvent *e)
</a><a href="#h12-0-1223" id="h12-0-1223" class="i">+{
</a><a href="#h12-0-1224" id="h12-0-1224" class="i">+	Client *c;
</a><a href="#h12-0-1225" id="h12-0-1225" class="i">+	Window trans;
</a><a href="#h12-0-1226" id="h12-0-1226" class="i">+	XPropertyEvent *ev = &amp;e-&gt;xproperty;
</a><a href="#h12-0-1227" id="h12-0-1227" class="i">+
</a><a href="#h12-0-1228" id="h12-0-1228" class="i">+	if ((ev-&gt;window == root) &amp;&amp; (ev-&gt;atom == XA_WM_NAME))
</a><a href="#h12-0-1229" id="h12-0-1229" class="i">+		updatestatus();
</a><a href="#h12-0-1230" id="h12-0-1230" class="i">+	else if (ev-&gt;state == PropertyDelete)
</a><a href="#h12-0-1231" id="h12-0-1231" class="i">+		return; /* ignore */
</a><a href="#h12-0-1232" id="h12-0-1232" class="i">+	else if ((c = wintoclient(ev-&gt;window))) {
</a><a href="#h12-0-1233" id="h12-0-1233" class="i">+		switch(ev-&gt;atom) {
</a><a href="#h12-0-1234" id="h12-0-1234" class="i">+		default: break;
</a><a href="#h12-0-1235" id="h12-0-1235" class="i">+		case XA_WM_TRANSIENT_FOR:
</a><a href="#h12-0-1236" id="h12-0-1236" class="i">+			if (!c-&gt;isfloating &amp;&amp; (XGetTransientForHint(dpy, c-&gt;win, &amp;trans)) &amp;&amp;
</a><a href="#h12-0-1237" id="h12-0-1237" class="i">+				(c-&gt;isfloating = (wintoclient(trans)) != NULL))
</a><a href="#h12-0-1238" id="h12-0-1238" class="i">+				arrange(c-&gt;mon);
</a><a href="#h12-0-1239" id="h12-0-1239" class="i">+			break;
</a><a href="#h12-0-1240" id="h12-0-1240" class="i">+		case XA_WM_NORMAL_HINTS:
</a><a href="#h12-0-1241" id="h12-0-1241" class="i">+			c-&gt;hintsvalid = 0;
</a><a href="#h12-0-1242" id="h12-0-1242" class="i">+			break;
</a><a href="#h12-0-1243" id="h12-0-1243" class="i">+		case XA_WM_HINTS:
</a><a href="#h12-0-1244" id="h12-0-1244" class="i">+			updatewmhints(c);
</a><a href="#h12-0-1245" id="h12-0-1245" class="i">+			drawbars();
</a><a href="#h12-0-1246" id="h12-0-1246" class="i">+			break;
</a><a href="#h12-0-1247" id="h12-0-1247" class="i">+		}
</a><a href="#h12-0-1248" id="h12-0-1248" class="i">+		if (ev-&gt;atom == XA_WM_NAME || ev-&gt;atom == netatom[NetWMName]) {
</a><a href="#h12-0-1249" id="h12-0-1249" class="i">+			updatetitle(c);
</a><a href="#h12-0-1250" id="h12-0-1250" class="i">+			if (c == c-&gt;mon-&gt;sel)
</a><a href="#h12-0-1251" id="h12-0-1251" class="i">+				drawbar(c-&gt;mon);
</a><a href="#h12-0-1252" id="h12-0-1252" class="i">+		}
</a><a href="#h12-0-1253" id="h12-0-1253" class="i">+		if (ev-&gt;atom == netatom[NetWMWindowType])
</a><a href="#h12-0-1254" id="h12-0-1254" class="i">+			updatewindowtype(c);
</a><a href="#h12-0-1255" id="h12-0-1255" class="i">+	}
</a><a href="#h12-0-1256" id="h12-0-1256" class="i">+}
</a><a href="#h12-0-1257" id="h12-0-1257" class="i">+
</a><a href="#h12-0-1258" id="h12-0-1258" class="i">+void
</a><a href="#h12-0-1259" id="h12-0-1259" class="i">+quit(const Arg *arg)
</a><a href="#h12-0-1260" id="h12-0-1260" class="i">+{
</a><a href="#h12-0-1261" id="h12-0-1261" class="i">+	running = 0;
</a><a href="#h12-0-1262" id="h12-0-1262" class="i">+}
</a><a href="#h12-0-1263" id="h12-0-1263" class="i">+
</a><a href="#h12-0-1264" id="h12-0-1264" class="i">+Monitor *
</a><a href="#h12-0-1265" id="h12-0-1265" class="i">+recttomon(int x, int y, int w, int h)
</a><a href="#h12-0-1266" id="h12-0-1266" class="i">+{
</a><a href="#h12-0-1267" id="h12-0-1267" class="i">+	Monitor *m, *r = selmon;
</a><a href="#h12-0-1268" id="h12-0-1268" class="i">+	int a, area = 0;
</a><a href="#h12-0-1269" id="h12-0-1269" class="i">+
</a><a href="#h12-0-1270" id="h12-0-1270" class="i">+	for (m = mons; m; m = m-&gt;next)
</a><a href="#h12-0-1271" id="h12-0-1271" class="i">+		if ((a = INTERSECT(x, y, w, h, m)) &gt; area) {
</a><a href="#h12-0-1272" id="h12-0-1272" class="i">+			area = a;
</a><a href="#h12-0-1273" id="h12-0-1273" class="i">+			r = m;
</a><a href="#h12-0-1274" id="h12-0-1274" class="i">+		}
</a><a href="#h12-0-1275" id="h12-0-1275" class="i">+	return r;
</a><a href="#h12-0-1276" id="h12-0-1276" class="i">+}
</a><a href="#h12-0-1277" id="h12-0-1277" class="i">+
</a><a href="#h12-0-1278" id="h12-0-1278" class="i">+void
</a><a href="#h12-0-1279" id="h12-0-1279" class="i">+resize(Client *c, int x, int y, int w, int h, int interact)
</a><a href="#h12-0-1280" id="h12-0-1280" class="i">+{
</a><a href="#h12-0-1281" id="h12-0-1281" class="i">+	if (applysizehints(c, &amp;x, &amp;y, &amp;w, &amp;h, interact))
</a><a href="#h12-0-1282" id="h12-0-1282" class="i">+		resizeclient(c, x, y, w, h);
</a><a href="#h12-0-1283" id="h12-0-1283" class="i">+}
</a><a href="#h12-0-1284" id="h12-0-1284" class="i">+
</a><a href="#h12-0-1285" id="h12-0-1285" class="i">+void
</a><a href="#h12-0-1286" id="h12-0-1286" class="i">+resizeclient(Client *c, int x, int y, int w, int h)
</a><a href="#h12-0-1287" id="h12-0-1287" class="i">+{
</a><a href="#h12-0-1288" id="h12-0-1288" class="i">+	XWindowChanges wc;
</a><a href="#h12-0-1289" id="h12-0-1289" class="i">+
</a><a href="#h12-0-1290" id="h12-0-1290" class="i">+	c-&gt;oldx = c-&gt;x; c-&gt;x = wc.x = x;
</a><a href="#h12-0-1291" id="h12-0-1291" class="i">+	c-&gt;oldy = c-&gt;y; c-&gt;y = wc.y = y;
</a><a href="#h12-0-1292" id="h12-0-1292" class="i">+	c-&gt;oldw = c-&gt;w; c-&gt;w = wc.width = w;
</a><a href="#h12-0-1293" id="h12-0-1293" class="i">+	c-&gt;oldh = c-&gt;h; c-&gt;h = wc.height = h;
</a><a href="#h12-0-1294" id="h12-0-1294" class="i">+	wc.border_width = c-&gt;bw;
</a><a href="#h12-0-1295" id="h12-0-1295" class="i">+	XConfigureWindow(dpy, c-&gt;win, CWX|CWY|CWWidth|CWHeight|CWBorderWidth, &amp;wc);
</a><a href="#h12-0-1296" id="h12-0-1296" class="i">+	configure(c);
</a><a href="#h12-0-1297" id="h12-0-1297" class="i">+	XSync(dpy, False);
</a><a href="#h12-0-1298" id="h12-0-1298" class="i">+}
</a><a href="#h12-0-1299" id="h12-0-1299" class="i">+
</a><a href="#h12-0-1300" id="h12-0-1300" class="i">+void
</a><a href="#h12-0-1301" id="h12-0-1301" class="i">+resizemouse(const Arg *arg)
</a><a href="#h12-0-1302" id="h12-0-1302" class="i">+{
</a><a href="#h12-0-1303" id="h12-0-1303" class="i">+	int ocx, ocy, nw, nh;
</a><a href="#h12-0-1304" id="h12-0-1304" class="i">+	Client *c;
</a><a href="#h12-0-1305" id="h12-0-1305" class="i">+	Monitor *m;
</a><a href="#h12-0-1306" id="h12-0-1306" class="i">+	XEvent ev;
</a><a href="#h12-0-1307" id="h12-0-1307" class="i">+	Time lasttime = 0;
</a><a href="#h12-0-1308" id="h12-0-1308" class="i">+
</a><a href="#h12-0-1309" id="h12-0-1309" class="i">+	if (!(c = selmon-&gt;sel))
</a><a href="#h12-0-1310" id="h12-0-1310" class="i">+		return;
</a><a href="#h12-0-1311" id="h12-0-1311" class="i">+	if (c-&gt;isfullscreen) /* no support resizing fullscreen windows by mouse */
</a><a href="#h12-0-1312" id="h12-0-1312" class="i">+		return;
</a><a href="#h12-0-1313" id="h12-0-1313" class="i">+	restack(selmon);
</a><a href="#h12-0-1314" id="h12-0-1314" class="i">+	ocx = c-&gt;x;
</a><a href="#h12-0-1315" id="h12-0-1315" class="i">+	ocy = c-&gt;y;
</a><a href="#h12-0-1316" id="h12-0-1316" class="i">+	if (XGrabPointer(dpy, root, False, MOUSEMASK, GrabModeAsync, GrabModeAsync,
</a><a href="#h12-0-1317" id="h12-0-1317" class="i">+		None, cursor[CurResize]-&gt;cursor, CurrentTime) != GrabSuccess)
</a><a href="#h12-0-1318" id="h12-0-1318" class="i">+		return;
</a><a href="#h12-0-1319" id="h12-0-1319" class="i">+	XWarpPointer(dpy, None, c-&gt;win, 0, 0, 0, 0, c-&gt;w + c-&gt;bw - 1, c-&gt;h + c-&gt;bw - 1);
</a><a href="#h12-0-1320" id="h12-0-1320" class="i">+	do {
</a><a href="#h12-0-1321" id="h12-0-1321" class="i">+		XMaskEvent(dpy, MOUSEMASK|ExposureMask|SubstructureRedirectMask, &amp;ev);
</a><a href="#h12-0-1322" id="h12-0-1322" class="i">+		switch(ev.type) {
</a><a href="#h12-0-1323" id="h12-0-1323" class="i">+		case ConfigureRequest:
</a><a href="#h12-0-1324" id="h12-0-1324" class="i">+		case Expose:
</a><a href="#h12-0-1325" id="h12-0-1325" class="i">+		case MapRequest:
</a><a href="#h12-0-1326" id="h12-0-1326" class="i">+			handler[ev.type](&amp;ev);
</a><a href="#h12-0-1327" id="h12-0-1327" class="i">+			break;
</a><a href="#h12-0-1328" id="h12-0-1328" class="i">+		case MotionNotify:
</a><a href="#h12-0-1329" id="h12-0-1329" class="i">+			if ((ev.xmotion.time - lasttime) &lt;= (1000 / 60))
</a><a href="#h12-0-1330" id="h12-0-1330" class="i">+				continue;
</a><a href="#h12-0-1331" id="h12-0-1331" class="i">+			lasttime = ev.xmotion.time;
</a><a href="#h12-0-1332" id="h12-0-1332" class="i">+
</a><a href="#h12-0-1333" id="h12-0-1333" class="i">+			nw = MAX(ev.xmotion.x - ocx - 2 * c-&gt;bw + 1, 1);
</a><a href="#h12-0-1334" id="h12-0-1334" class="i">+			nh = MAX(ev.xmotion.y - ocy - 2 * c-&gt;bw + 1, 1);
</a><a href="#h12-0-1335" id="h12-0-1335" class="i">+			if (c-&gt;mon-&gt;wx + nw &gt;= selmon-&gt;wx &amp;&amp; c-&gt;mon-&gt;wx + nw &lt;= selmon-&gt;wx + selmon-&gt;ww
</a><a href="#h12-0-1336" id="h12-0-1336" class="i">+			&amp;&amp; c-&gt;mon-&gt;wy + nh &gt;= selmon-&gt;wy &amp;&amp; c-&gt;mon-&gt;wy + nh &lt;= selmon-&gt;wy + selmon-&gt;wh)
</a><a href="#h12-0-1337" id="h12-0-1337" class="i">+			{
</a><a href="#h12-0-1338" id="h12-0-1338" class="i">+				if (!c-&gt;isfloating &amp;&amp; selmon-&gt;lt[selmon-&gt;sellt]-&gt;arrange
</a><a href="#h12-0-1339" id="h12-0-1339" class="i">+				&amp;&amp; (abs(nw - c-&gt;w) &gt; snap || abs(nh - c-&gt;h) &gt; snap))
</a><a href="#h12-0-1340" id="h12-0-1340" class="i">+					togglefloating(NULL);
</a><a href="#h12-0-1341" id="h12-0-1341" class="i">+			}
</a><a href="#h12-0-1342" id="h12-0-1342" class="i">+			if (!selmon-&gt;lt[selmon-&gt;sellt]-&gt;arrange || c-&gt;isfloating)
</a><a href="#h12-0-1343" id="h12-0-1343" class="i">+				resize(c, c-&gt;x, c-&gt;y, nw, nh, 1);
</a><a href="#h12-0-1344" id="h12-0-1344" class="i">+			break;
</a><a href="#h12-0-1345" id="h12-0-1345" class="i">+		}
</a><a href="#h12-0-1346" id="h12-0-1346" class="i">+	} while (ev.type != ButtonRelease);
</a><a href="#h12-0-1347" id="h12-0-1347" class="i">+	XWarpPointer(dpy, None, c-&gt;win, 0, 0, 0, 0, c-&gt;w + c-&gt;bw - 1, c-&gt;h + c-&gt;bw - 1);
</a><a href="#h12-0-1348" id="h12-0-1348" class="i">+	XUngrabPointer(dpy, CurrentTime);
</a><a href="#h12-0-1349" id="h12-0-1349" class="i">+	while (XCheckMaskEvent(dpy, EnterWindowMask, &amp;ev));
</a><a href="#h12-0-1350" id="h12-0-1350" class="i">+	if ((m = recttomon(c-&gt;x, c-&gt;y, c-&gt;w, c-&gt;h)) != selmon) {
</a><a href="#h12-0-1351" id="h12-0-1351" class="i">+		sendmon(c, m);
</a><a href="#h12-0-1352" id="h12-0-1352" class="i">+		selmon = m;
</a><a href="#h12-0-1353" id="h12-0-1353" class="i">+		focus(NULL);
</a><a href="#h12-0-1354" id="h12-0-1354" class="i">+	}
</a><a href="#h12-0-1355" id="h12-0-1355" class="i">+}
</a><a href="#h12-0-1356" id="h12-0-1356" class="i">+
</a><a href="#h12-0-1357" id="h12-0-1357" class="i">+void
</a><a href="#h12-0-1358" id="h12-0-1358" class="i">+restack(Monitor *m)
</a><a href="#h12-0-1359" id="h12-0-1359" class="i">+{
</a><a href="#h12-0-1360" id="h12-0-1360" class="i">+	Client *c;
</a><a href="#h12-0-1361" id="h12-0-1361" class="i">+	XEvent ev;
</a><a href="#h12-0-1362" id="h12-0-1362" class="i">+	XWindowChanges wc;
</a><a href="#h12-0-1363" id="h12-0-1363" class="i">+
</a><a href="#h12-0-1364" id="h12-0-1364" class="i">+	drawbar(m);
</a><a href="#h12-0-1365" id="h12-0-1365" class="i">+	if (!m-&gt;sel)
</a><a href="#h12-0-1366" id="h12-0-1366" class="i">+		return;
</a><a href="#h12-0-1367" id="h12-0-1367" class="i">+	if (m-&gt;sel-&gt;isfloating || !m-&gt;lt[m-&gt;sellt]-&gt;arrange)
</a><a href="#h12-0-1368" id="h12-0-1368" class="i">+		XRaiseWindow(dpy, m-&gt;sel-&gt;win);
</a><a href="#h12-0-1369" id="h12-0-1369" class="i">+	if (m-&gt;lt[m-&gt;sellt]-&gt;arrange) {
</a><a href="#h12-0-1370" id="h12-0-1370" class="i">+		wc.stack_mode = Below;
</a><a href="#h12-0-1371" id="h12-0-1371" class="i">+		wc.sibling = m-&gt;barwin;
</a><a href="#h12-0-1372" id="h12-0-1372" class="i">+		for (c = m-&gt;stack; c; c = c-&gt;snext)
</a><a href="#h12-0-1373" id="h12-0-1373" class="i">+			if (!c-&gt;isfloating &amp;&amp; ISVISIBLE(c)) {
</a><a href="#h12-0-1374" id="h12-0-1374" class="i">+				XConfigureWindow(dpy, c-&gt;win, CWSibling|CWStackMode, &amp;wc);
</a><a href="#h12-0-1375" id="h12-0-1375" class="i">+				wc.sibling = c-&gt;win;
</a><a href="#h12-0-1376" id="h12-0-1376" class="i">+			}
</a><a href="#h12-0-1377" id="h12-0-1377" class="i">+	}
</a><a href="#h12-0-1378" id="h12-0-1378" class="i">+	XSync(dpy, False);
</a><a href="#h12-0-1379" id="h12-0-1379" class="i">+	while (XCheckMaskEvent(dpy, EnterWindowMask, &amp;ev));
</a><a href="#h12-0-1380" id="h12-0-1380" class="i">+}
</a><a href="#h12-0-1381" id="h12-0-1381" class="i">+
</a><a href="#h12-0-1382" id="h12-0-1382" class="i">+void
</a><a href="#h12-0-1383" id="h12-0-1383" class="i">+run(void)
</a><a href="#h12-0-1384" id="h12-0-1384" class="i">+{
</a><a href="#h12-0-1385" id="h12-0-1385" class="i">+	XEvent ev;
</a><a href="#h12-0-1386" id="h12-0-1386" class="i">+	/* main event loop */
</a><a href="#h12-0-1387" id="h12-0-1387" class="i">+	XSync(dpy, False);
</a><a href="#h12-0-1388" id="h12-0-1388" class="i">+	while (running &amp;&amp; !XNextEvent(dpy, &amp;ev))
</a><a href="#h12-0-1389" id="h12-0-1389" class="i">+		if (handler[ev.type])
</a><a href="#h12-0-1390" id="h12-0-1390" class="i">+			handler[ev.type](&amp;ev); /* call handler */
</a><a href="#h12-0-1391" id="h12-0-1391" class="i">+}
</a><a href="#h12-0-1392" id="h12-0-1392" class="i">+
</a><a href="#h12-0-1393" id="h12-0-1393" class="i">+void
</a><a href="#h12-0-1394" id="h12-0-1394" class="i">+scan(void)
</a><a href="#h12-0-1395" id="h12-0-1395" class="i">+{
</a><a href="#h12-0-1396" id="h12-0-1396" class="i">+	unsigned int i, num;
</a><a href="#h12-0-1397" id="h12-0-1397" class="i">+	Window d1, d2, *wins = NULL;
</a><a href="#h12-0-1398" id="h12-0-1398" class="i">+	XWindowAttributes wa;
</a><a href="#h12-0-1399" id="h12-0-1399" class="i">+
</a><a href="#h12-0-1400" id="h12-0-1400" class="i">+	if (XQueryTree(dpy, root, &amp;d1, &amp;d2, &amp;wins, &amp;num)) {
</a><a href="#h12-0-1401" id="h12-0-1401" class="i">+		for (i = 0; i &lt; num; i++) {
</a><a href="#h12-0-1402" id="h12-0-1402" class="i">+			if (!XGetWindowAttributes(dpy, wins[i], &amp;wa)
</a><a href="#h12-0-1403" id="h12-0-1403" class="i">+			|| wa.override_redirect || XGetTransientForHint(dpy, wins[i], &amp;d1))
</a><a href="#h12-0-1404" id="h12-0-1404" class="i">+				continue;
</a><a href="#h12-0-1405" id="h12-0-1405" class="i">+			if (wa.map_state == IsViewable || getstate(wins[i]) == IconicState)
</a><a href="#h12-0-1406" id="h12-0-1406" class="i">+				manage(wins[i], &amp;wa);
</a><a href="#h12-0-1407" id="h12-0-1407" class="i">+		}
</a><a href="#h12-0-1408" id="h12-0-1408" class="i">+		for (i = 0; i &lt; num; i++) { /* now the transients */
</a><a href="#h12-0-1409" id="h12-0-1409" class="i">+			if (!XGetWindowAttributes(dpy, wins[i], &amp;wa))
</a><a href="#h12-0-1410" id="h12-0-1410" class="i">+				continue;
</a><a href="#h12-0-1411" id="h12-0-1411" class="i">+			if (XGetTransientForHint(dpy, wins[i], &amp;d1)
</a><a href="#h12-0-1412" id="h12-0-1412" class="i">+			&amp;&amp; (wa.map_state == IsViewable || getstate(wins[i]) == IconicState))
</a><a href="#h12-0-1413" id="h12-0-1413" class="i">+				manage(wins[i], &amp;wa);
</a><a href="#h12-0-1414" id="h12-0-1414" class="i">+		}
</a><a href="#h12-0-1415" id="h12-0-1415" class="i">+		if (wins)
</a><a href="#h12-0-1416" id="h12-0-1416" class="i">+			XFree(wins);
</a><a href="#h12-0-1417" id="h12-0-1417" class="i">+	}
</a><a href="#h12-0-1418" id="h12-0-1418" class="i">+}
</a><a href="#h12-0-1419" id="h12-0-1419" class="i">+
</a><a href="#h12-0-1420" id="h12-0-1420" class="i">+void
</a><a href="#h12-0-1421" id="h12-0-1421" class="i">+sendmon(Client *c, Monitor *m)
</a><a href="#h12-0-1422" id="h12-0-1422" class="i">+{
</a><a href="#h12-0-1423" id="h12-0-1423" class="i">+	if (c-&gt;mon == m)
</a><a href="#h12-0-1424" id="h12-0-1424" class="i">+		return;
</a><a href="#h12-0-1425" id="h12-0-1425" class="i">+	unfocus(c, 1);
</a><a href="#h12-0-1426" id="h12-0-1426" class="i">+	detach(c);
</a><a href="#h12-0-1427" id="h12-0-1427" class="i">+	detachstack(c);
</a><a href="#h12-0-1428" id="h12-0-1428" class="i">+	c-&gt;mon = m;
</a><a href="#h12-0-1429" id="h12-0-1429" class="i">+	c-&gt;tags = m-&gt;tagset[m-&gt;seltags]; /* assign tags of target monitor */
</a><a href="#h12-0-1430" id="h12-0-1430" class="i">+	attach(c);
</a><a href="#h12-0-1431" id="h12-0-1431" class="i">+	attachstack(c);
</a><a href="#h12-0-1432" id="h12-0-1432" class="i">+	focus(NULL);
</a><a href="#h12-0-1433" id="h12-0-1433" class="i">+	arrange(NULL);
</a><a href="#h12-0-1434" id="h12-0-1434" class="i">+}
</a><a href="#h12-0-1435" id="h12-0-1435" class="i">+
</a><a href="#h12-0-1436" id="h12-0-1436" class="i">+void
</a><a href="#h12-0-1437" id="h12-0-1437" class="i">+setclientstate(Client *c, long state)
</a><a href="#h12-0-1438" id="h12-0-1438" class="i">+{
</a><a href="#h12-0-1439" id="h12-0-1439" class="i">+	long data[] = { state, None };
</a><a href="#h12-0-1440" id="h12-0-1440" class="i">+
</a><a href="#h12-0-1441" id="h12-0-1441" class="i">+	XChangeProperty(dpy, c-&gt;win, wmatom[WMState], wmatom[WMState], 32,
</a><a href="#h12-0-1442" id="h12-0-1442" class="i">+		PropModeReplace, (unsigned char *)data, 2);
</a><a href="#h12-0-1443" id="h12-0-1443" class="i">+}
</a><a href="#h12-0-1444" id="h12-0-1444" class="i">+
</a><a href="#h12-0-1445" id="h12-0-1445" class="i">+int
</a><a href="#h12-0-1446" id="h12-0-1446" class="i">+sendevent(Client *c, Atom proto)
</a><a href="#h12-0-1447" id="h12-0-1447" class="i">+{
</a><a href="#h12-0-1448" id="h12-0-1448" class="i">+	int n;
</a><a href="#h12-0-1449" id="h12-0-1449" class="i">+	Atom *protocols;
</a><a href="#h12-0-1450" id="h12-0-1450" class="i">+	int exists = 0;
</a><a href="#h12-0-1451" id="h12-0-1451" class="i">+	XEvent ev;
</a><a href="#h12-0-1452" id="h12-0-1452" class="i">+
</a><a href="#h12-0-1453" id="h12-0-1453" class="i">+	if (XGetWMProtocols(dpy, c-&gt;win, &amp;protocols, &amp;n)) {
</a><a href="#h12-0-1454" id="h12-0-1454" class="i">+		while (!exists &amp;&amp; n--)
</a><a href="#h12-0-1455" id="h12-0-1455" class="i">+			exists = protocols[n] == proto;
</a><a href="#h12-0-1456" id="h12-0-1456" class="i">+		XFree(protocols);
</a><a href="#h12-0-1457" id="h12-0-1457" class="i">+	}
</a><a href="#h12-0-1458" id="h12-0-1458" class="i">+	if (exists) {
</a><a href="#h12-0-1459" id="h12-0-1459" class="i">+		ev.type = ClientMessage;
</a><a href="#h12-0-1460" id="h12-0-1460" class="i">+		ev.xclient.window = c-&gt;win;
</a><a href="#h12-0-1461" id="h12-0-1461" class="i">+		ev.xclient.message_type = wmatom[WMProtocols];
</a><a href="#h12-0-1462" id="h12-0-1462" class="i">+		ev.xclient.format = 32;
</a><a href="#h12-0-1463" id="h12-0-1463" class="i">+		ev.xclient.data.l[0] = proto;
</a><a href="#h12-0-1464" id="h12-0-1464" class="i">+		ev.xclient.data.l[1] = CurrentTime;
</a><a href="#h12-0-1465" id="h12-0-1465" class="i">+		XSendEvent(dpy, c-&gt;win, False, NoEventMask, &amp;ev);
</a><a href="#h12-0-1466" id="h12-0-1466" class="i">+	}
</a><a href="#h12-0-1467" id="h12-0-1467" class="i">+	return exists;
</a><a href="#h12-0-1468" id="h12-0-1468" class="i">+}
</a><a href="#h12-0-1469" id="h12-0-1469" class="i">+
</a><a href="#h12-0-1470" id="h12-0-1470" class="i">+void
</a><a href="#h12-0-1471" id="h12-0-1471" class="i">+setfocus(Client *c)
</a><a href="#h12-0-1472" id="h12-0-1472" class="i">+{
</a><a href="#h12-0-1473" id="h12-0-1473" class="i">+	if (!c-&gt;neverfocus) {
</a><a href="#h12-0-1474" id="h12-0-1474" class="i">+		XSetInputFocus(dpy, c-&gt;win, RevertToPointerRoot, CurrentTime);
</a><a href="#h12-0-1475" id="h12-0-1475" class="i">+		XChangeProperty(dpy, root, netatom[NetActiveWindow],
</a><a href="#h12-0-1476" id="h12-0-1476" class="i">+			XA_WINDOW, 32, PropModeReplace,
</a><a href="#h12-0-1477" id="h12-0-1477" class="i">+			(unsigned char *) &amp;(c-&gt;win), 1);
</a><a href="#h12-0-1478" id="h12-0-1478" class="i">+	}
</a><a href="#h12-0-1479" id="h12-0-1479" class="i">+	sendevent(c, wmatom[WMTakeFocus]);
</a><a href="#h12-0-1480" id="h12-0-1480" class="i">+}
</a><a href="#h12-0-1481" id="h12-0-1481" class="i">+
</a><a href="#h12-0-1482" id="h12-0-1482" class="i">+void
</a><a href="#h12-0-1483" id="h12-0-1483" class="i">+setfullscreen(Client *c, int fullscreen)
</a><a href="#h12-0-1484" id="h12-0-1484" class="i">+{
</a><a href="#h12-0-1485" id="h12-0-1485" class="i">+	if (fullscreen &amp;&amp; !c-&gt;isfullscreen) {
</a><a href="#h12-0-1486" id="h12-0-1486" class="i">+		XChangeProperty(dpy, c-&gt;win, netatom[NetWMState], XA_ATOM, 32,
</a><a href="#h12-0-1487" id="h12-0-1487" class="i">+			PropModeReplace, (unsigned char*)&amp;netatom[NetWMFullscreen], 1);
</a><a href="#h12-0-1488" id="h12-0-1488" class="i">+		c-&gt;isfullscreen = 1;
</a><a href="#h12-0-1489" id="h12-0-1489" class="i">+		c-&gt;oldstate = c-&gt;isfloating;
</a><a href="#h12-0-1490" id="h12-0-1490" class="i">+		c-&gt;oldbw = c-&gt;bw;
</a><a href="#h12-0-1491" id="h12-0-1491" class="i">+		c-&gt;bw = 0;
</a><a href="#h12-0-1492" id="h12-0-1492" class="i">+		c-&gt;isfloating = 1;
</a><a href="#h12-0-1493" id="h12-0-1493" class="i">+		resizeclient(c, c-&gt;mon-&gt;mx, c-&gt;mon-&gt;my, c-&gt;mon-&gt;mw, c-&gt;mon-&gt;mh);
</a><a href="#h12-0-1494" id="h12-0-1494" class="i">+		XRaiseWindow(dpy, c-&gt;win);
</a><a href="#h12-0-1495" id="h12-0-1495" class="i">+	} else if (!fullscreen &amp;&amp; c-&gt;isfullscreen){
</a><a href="#h12-0-1496" id="h12-0-1496" class="i">+		XChangeProperty(dpy, c-&gt;win, netatom[NetWMState], XA_ATOM, 32,
</a><a href="#h12-0-1497" id="h12-0-1497" class="i">+			PropModeReplace, (unsigned char*)0, 0);
</a><a href="#h12-0-1498" id="h12-0-1498" class="i">+		c-&gt;isfullscreen = 0;
</a><a href="#h12-0-1499" id="h12-0-1499" class="i">+		c-&gt;isfloating = c-&gt;oldstate;
</a><a href="#h12-0-1500" id="h12-0-1500" class="i">+		c-&gt;bw = c-&gt;oldbw;
</a><a href="#h12-0-1501" id="h12-0-1501" class="i">+		c-&gt;x = c-&gt;oldx;
</a><a href="#h12-0-1502" id="h12-0-1502" class="i">+		c-&gt;y = c-&gt;oldy;
</a><a href="#h12-0-1503" id="h12-0-1503" class="i">+		c-&gt;w = c-&gt;oldw;
</a><a href="#h12-0-1504" id="h12-0-1504" class="i">+		c-&gt;h = c-&gt;oldh;
</a><a href="#h12-0-1505" id="h12-0-1505" class="i">+		resizeclient(c, c-&gt;x, c-&gt;y, c-&gt;w, c-&gt;h);
</a><a href="#h12-0-1506" id="h12-0-1506" class="i">+		arrange(c-&gt;mon);
</a><a href="#h12-0-1507" id="h12-0-1507" class="i">+	}
</a><a href="#h12-0-1508" id="h12-0-1508" class="i">+}
</a><a href="#h12-0-1509" id="h12-0-1509" class="i">+
</a><a href="#h12-0-1510" id="h12-0-1510" class="i">+void
</a><a href="#h12-0-1511" id="h12-0-1511" class="i">+setlayout(const Arg *arg)
</a><a href="#h12-0-1512" id="h12-0-1512" class="i">+{
</a><a href="#h12-0-1513" id="h12-0-1513" class="i">+	if (!arg || !arg-&gt;v || arg-&gt;v != selmon-&gt;lt[selmon-&gt;sellt])
</a><a href="#h12-0-1514" id="h12-0-1514" class="i">+		selmon-&gt;sellt ^= 1;
</a><a href="#h12-0-1515" id="h12-0-1515" class="i">+	if (arg &amp;&amp; arg-&gt;v)
</a><a href="#h12-0-1516" id="h12-0-1516" class="i">+		selmon-&gt;lt[selmon-&gt;sellt] = (Layout *)arg-&gt;v;
</a><a href="#h12-0-1517" id="h12-0-1517" class="i">+	strncpy(selmon-&gt;ltsymbol, selmon-&gt;lt[selmon-&gt;sellt]-&gt;symbol, sizeof selmon-&gt;ltsymbol);
</a><a href="#h12-0-1518" id="h12-0-1518" class="i">+	if (selmon-&gt;sel)
</a><a href="#h12-0-1519" id="h12-0-1519" class="i">+		arrange(selmon);
</a><a href="#h12-0-1520" id="h12-0-1520" class="i">+	else
</a><a href="#h12-0-1521" id="h12-0-1521" class="i">+		drawbar(selmon);
</a><a href="#h12-0-1522" id="h12-0-1522" class="i">+}
</a><a href="#h12-0-1523" id="h12-0-1523" class="i">+
</a><a href="#h12-0-1524" id="h12-0-1524" class="i">+/* arg &gt; 1.0 will set mfact absolutely */
</a><a href="#h12-0-1525" id="h12-0-1525" class="i">+void
</a><a href="#h12-0-1526" id="h12-0-1526" class="i">+setmfact(const Arg *arg)
</a><a href="#h12-0-1527" id="h12-0-1527" class="i">+{
</a><a href="#h12-0-1528" id="h12-0-1528" class="i">+	float f;
</a><a href="#h12-0-1529" id="h12-0-1529" class="i">+
</a><a href="#h12-0-1530" id="h12-0-1530" class="i">+	if (!arg || !selmon-&gt;lt[selmon-&gt;sellt]-&gt;arrange)
</a><a href="#h12-0-1531" id="h12-0-1531" class="i">+		return;
</a><a href="#h12-0-1532" id="h12-0-1532" class="i">+	f = arg-&gt;f &lt; 1.0 ? arg-&gt;f + selmon-&gt;mfact : arg-&gt;f - 1.0;
</a><a href="#h12-0-1533" id="h12-0-1533" class="i">+	if (f &lt; 0.05 || f &gt; 0.95)
</a><a href="#h12-0-1534" id="h12-0-1534" class="i">+		return;
</a><a href="#h12-0-1535" id="h12-0-1535" class="i">+	selmon-&gt;mfact = f;
</a><a href="#h12-0-1536" id="h12-0-1536" class="i">+	arrange(selmon);
</a><a href="#h12-0-1537" id="h12-0-1537" class="i">+}
</a><a href="#h12-0-1538" id="h12-0-1538" class="i">+
</a><a href="#h12-0-1539" id="h12-0-1539" class="i">+void
</a><a href="#h12-0-1540" id="h12-0-1540" class="i">+setup(void)
</a><a href="#h12-0-1541" id="h12-0-1541" class="i">+{
</a><a href="#h12-0-1542" id="h12-0-1542" class="i">+	int i;
</a><a href="#h12-0-1543" id="h12-0-1543" class="i">+	XSetWindowAttributes wa;
</a><a href="#h12-0-1544" id="h12-0-1544" class="i">+	Atom utf8string;
</a><a href="#h12-0-1545" id="h12-0-1545" class="i">+
</a><a href="#h12-0-1546" id="h12-0-1546" class="i">+	/* clean up any zombies immediately */
</a><a href="#h12-0-1547" id="h12-0-1547" class="i">+	sigchld(0);
</a><a href="#h12-0-1548" id="h12-0-1548" class="i">+
</a><a href="#h12-0-1549" id="h12-0-1549" class="i">+	/* init screen */
</a><a href="#h12-0-1550" id="h12-0-1550" class="i">+	screen = DefaultScreen(dpy);
</a><a href="#h12-0-1551" id="h12-0-1551" class="i">+	sw = DisplayWidth(dpy, screen);
</a><a href="#h12-0-1552" id="h12-0-1552" class="i">+	sh = DisplayHeight(dpy, screen);
</a><a href="#h12-0-1553" id="h12-0-1553" class="i">+	root = RootWindow(dpy, screen);
</a><a href="#h12-0-1554" id="h12-0-1554" class="i">+	drw = drw_create(dpy, screen, root, sw, sh);
</a><a href="#h12-0-1555" id="h12-0-1555" class="i">+	if (!drw_fontset_create(drw, fonts, LENGTH(fonts)))
</a><a href="#h12-0-1556" id="h12-0-1556" class="i">+		die(&quot;no fonts could be loaded.&quot;);
</a><a href="#h12-0-1557" id="h12-0-1557" class="i">+	lrpad = drw-&gt;fonts-&gt;h;
</a><a href="#h12-0-1558" id="h12-0-1558" class="i">+	bh = drw-&gt;fonts-&gt;h + 2;
</a><a href="#h12-0-1559" id="h12-0-1559" class="i">+	updategeom();
</a><a href="#h12-0-1560" id="h12-0-1560" class="i">+	/* init atoms */
</a><a href="#h12-0-1561" id="h12-0-1561" class="i">+	utf8string = XInternAtom(dpy, &quot;UTF8_STRING&quot;, False);
</a><a href="#h12-0-1562" id="h12-0-1562" class="i">+	wmatom[WMProtocols] = XInternAtom(dpy, &quot;WM_PROTOCOLS&quot;, False);
</a><a href="#h12-0-1563" id="h12-0-1563" class="i">+	wmatom[WMDelete] = XInternAtom(dpy, &quot;WM_DELETE_WINDOW&quot;, False);
</a><a href="#h12-0-1564" id="h12-0-1564" class="i">+	wmatom[WMState] = XInternAtom(dpy, &quot;WM_STATE&quot;, False);
</a><a href="#h12-0-1565" id="h12-0-1565" class="i">+	wmatom[WMTakeFocus] = XInternAtom(dpy, &quot;WM_TAKE_FOCUS&quot;, False);
</a><a href="#h12-0-1566" id="h12-0-1566" class="i">+	netatom[NetActiveWindow] = XInternAtom(dpy, &quot;_NET_ACTIVE_WINDOW&quot;, False);
</a><a href="#h12-0-1567" id="h12-0-1567" class="i">+	netatom[NetSupported] = XInternAtom(dpy, &quot;_NET_SUPPORTED&quot;, False);
</a><a href="#h12-0-1568" id="h12-0-1568" class="i">+	netatom[NetWMName] = XInternAtom(dpy, &quot;_NET_WM_NAME&quot;, False);
</a><a href="#h12-0-1569" id="h12-0-1569" class="i">+	netatom[NetWMState] = XInternAtom(dpy, &quot;_NET_WM_STATE&quot;, False);
</a><a href="#h12-0-1570" id="h12-0-1570" class="i">+	netatom[NetWMCheck] = XInternAtom(dpy, &quot;_NET_SUPPORTING_WM_CHECK&quot;, False);
</a><a href="#h12-0-1571" id="h12-0-1571" class="i">+	netatom[NetWMFullscreen] = XInternAtom(dpy, &quot;_NET_WM_STATE_FULLSCREEN&quot;, False);
</a><a href="#h12-0-1572" id="h12-0-1572" class="i">+	netatom[NetWMWindowType] = XInternAtom(dpy, &quot;_NET_WM_WINDOW_TYPE&quot;, False);
</a><a href="#h12-0-1573" id="h12-0-1573" class="i">+	netatom[NetWMWindowTypeDialog] = XInternAtom(dpy, &quot;_NET_WM_WINDOW_TYPE_DIALOG&quot;, False);
</a><a href="#h12-0-1574" id="h12-0-1574" class="i">+	netatom[NetClientList] = XInternAtom(dpy, &quot;_NET_CLIENT_LIST&quot;, False);
</a><a href="#h12-0-1575" id="h12-0-1575" class="i">+	/* init cursors */
</a><a href="#h12-0-1576" id="h12-0-1576" class="i">+	cursor[CurNormal] = drw_cur_create(drw, XC_left_ptr);
</a><a href="#h12-0-1577" id="h12-0-1577" class="i">+	cursor[CurResize] = drw_cur_create(drw, XC_sizing);
</a><a href="#h12-0-1578" id="h12-0-1578" class="i">+	cursor[CurMove] = drw_cur_create(drw, XC_fleur);
</a><a href="#h12-0-1579" id="h12-0-1579" class="i">+	/* init appearance */
</a><a href="#h12-0-1580" id="h12-0-1580" class="i">+	scheme = ecalloc(LENGTH(colors), sizeof(Clr *));
</a><a href="#h12-0-1581" id="h12-0-1581" class="i">+	for (i = 0; i &lt; LENGTH(colors); i++)
</a><a href="#h12-0-1582" id="h12-0-1582" class="i">+		scheme[i] = drw_scm_create(drw, colors[i], 3);
</a><a href="#h12-0-1583" id="h12-0-1583" class="i">+	/* init bars */
</a><a href="#h12-0-1584" id="h12-0-1584" class="i">+	updatebars();
</a><a href="#h12-0-1585" id="h12-0-1585" class="i">+	updatestatus();
</a><a href="#h12-0-1586" id="h12-0-1586" class="i">+	/* supporting window for NetWMCheck */
</a><a href="#h12-0-1587" id="h12-0-1587" class="i">+	wmcheckwin = XCreateSimpleWindow(dpy, root, 0, 0, 1, 1, 0, 0, 0);
</a><a href="#h12-0-1588" id="h12-0-1588" class="i">+	XChangeProperty(dpy, wmcheckwin, netatom[NetWMCheck], XA_WINDOW, 32,
</a><a href="#h12-0-1589" id="h12-0-1589" class="i">+		PropModeReplace, (unsigned char *) &amp;wmcheckwin, 1);
</a><a href="#h12-0-1590" id="h12-0-1590" class="i">+	XChangeProperty(dpy, wmcheckwin, netatom[NetWMName], utf8string, 8,
</a><a href="#h12-0-1591" id="h12-0-1591" class="i">+		PropModeReplace, (unsigned char *) &quot;dwm&quot;, 3);
</a><a href="#h12-0-1592" id="h12-0-1592" class="i">+	XChangeProperty(dpy, root, netatom[NetWMCheck], XA_WINDOW, 32,
</a><a href="#h12-0-1593" id="h12-0-1593" class="i">+		PropModeReplace, (unsigned char *) &amp;wmcheckwin, 1);
</a><a href="#h12-0-1594" id="h12-0-1594" class="i">+	/* EWMH support per view */
</a><a href="#h12-0-1595" id="h12-0-1595" class="i">+	XChangeProperty(dpy, root, netatom[NetSupported], XA_ATOM, 32,
</a><a href="#h12-0-1596" id="h12-0-1596" class="i">+		PropModeReplace, (unsigned char *) netatom, NetLast);
</a><a href="#h12-0-1597" id="h12-0-1597" class="i">+	XDeleteProperty(dpy, root, netatom[NetClientList]);
</a><a href="#h12-0-1598" id="h12-0-1598" class="i">+	/* select events */
</a><a href="#h12-0-1599" id="h12-0-1599" class="i">+	wa.cursor = cursor[CurNormal]-&gt;cursor;
</a><a href="#h12-0-1600" id="h12-0-1600" class="i">+	wa.event_mask = SubstructureRedirectMask|SubstructureNotifyMask
</a><a href="#h12-0-1601" id="h12-0-1601" class="i">+		|ButtonPressMask|PointerMotionMask|EnterWindowMask
</a><a href="#h12-0-1602" id="h12-0-1602" class="i">+		|LeaveWindowMask|StructureNotifyMask|PropertyChangeMask;
</a><a href="#h12-0-1603" id="h12-0-1603" class="i">+	XChangeWindowAttributes(dpy, root, CWEventMask|CWCursor, &amp;wa);
</a><a href="#h12-0-1604" id="h12-0-1604" class="i">+	XSelectInput(dpy, root, wa.event_mask);
</a><a href="#h12-0-1605" id="h12-0-1605" class="i">+	grabkeys();
</a><a href="#h12-0-1606" id="h12-0-1606" class="i">+	focus(NULL);
</a><a href="#h12-0-1607" id="h12-0-1607" class="i">+}
</a><a href="#h12-0-1608" id="h12-0-1608" class="i">+
</a><a href="#h12-0-1609" id="h12-0-1609" class="i">+void
</a><a href="#h12-0-1610" id="h12-0-1610" class="i">+seturgent(Client *c, int urg)
</a><a href="#h12-0-1611" id="h12-0-1611" class="i">+{
</a><a href="#h12-0-1612" id="h12-0-1612" class="i">+	XWMHints *wmh;
</a><a href="#h12-0-1613" id="h12-0-1613" class="i">+
</a><a href="#h12-0-1614" id="h12-0-1614" class="i">+	c-&gt;isurgent = urg;
</a><a href="#h12-0-1615" id="h12-0-1615" class="i">+	if (!(wmh = XGetWMHints(dpy, c-&gt;win)))
</a><a href="#h12-0-1616" id="h12-0-1616" class="i">+		return;
</a><a href="#h12-0-1617" id="h12-0-1617" class="i">+	wmh-&gt;flags = urg ? (wmh-&gt;flags | XUrgencyHint) : (wmh-&gt;flags &amp; ~XUrgencyHint);
</a><a href="#h12-0-1618" id="h12-0-1618" class="i">+	XSetWMHints(dpy, c-&gt;win, wmh);
</a><a href="#h12-0-1619" id="h12-0-1619" class="i">+	XFree(wmh);
</a><a href="#h12-0-1620" id="h12-0-1620" class="i">+}
</a><a href="#h12-0-1621" id="h12-0-1621" class="i">+
</a><a href="#h12-0-1622" id="h12-0-1622" class="i">+void
</a><a href="#h12-0-1623" id="h12-0-1623" class="i">+showhide(Client *c)
</a><a href="#h12-0-1624" id="h12-0-1624" class="i">+{
</a><a href="#h12-0-1625" id="h12-0-1625" class="i">+	if (!c)
</a><a href="#h12-0-1626" id="h12-0-1626" class="i">+		return;
</a><a href="#h12-0-1627" id="h12-0-1627" class="i">+	if (ISVISIBLE(c)) {
</a><a href="#h12-0-1628" id="h12-0-1628" class="i">+		/* show clients top down */
</a><a href="#h12-0-1629" id="h12-0-1629" class="i">+		XMoveWindow(dpy, c-&gt;win, c-&gt;x, c-&gt;y);
</a><a href="#h12-0-1630" id="h12-0-1630" class="i">+		if ((!c-&gt;mon-&gt;lt[c-&gt;mon-&gt;sellt]-&gt;arrange || c-&gt;isfloating) &amp;&amp; !c-&gt;isfullscreen)
</a><a href="#h12-0-1631" id="h12-0-1631" class="i">+			resize(c, c-&gt;x, c-&gt;y, c-&gt;w, c-&gt;h, 0);
</a><a href="#h12-0-1632" id="h12-0-1632" class="i">+		showhide(c-&gt;snext);
</a><a href="#h12-0-1633" id="h12-0-1633" class="i">+	} else {
</a><a href="#h12-0-1634" id="h12-0-1634" class="i">+		/* hide clients bottom up */
</a><a href="#h12-0-1635" id="h12-0-1635" class="i">+		showhide(c-&gt;snext);
</a><a href="#h12-0-1636" id="h12-0-1636" class="i">+		XMoveWindow(dpy, c-&gt;win, WIDTH(c) * -2, c-&gt;y);
</a><a href="#h12-0-1637" id="h12-0-1637" class="i">+	}
</a><a href="#h12-0-1638" id="h12-0-1638" class="i">+}
</a><a href="#h12-0-1639" id="h12-0-1639" class="i">+
</a><a href="#h12-0-1640" id="h12-0-1640" class="i">+void
</a><a href="#h12-0-1641" id="h12-0-1641" class="i">+sigchld(int unused)
</a><a href="#h12-0-1642" id="h12-0-1642" class="i">+{
</a><a href="#h12-0-1643" id="h12-0-1643" class="i">+	if (signal(SIGCHLD, sigchld) == SIG_ERR)
</a><a href="#h12-0-1644" id="h12-0-1644" class="i">+		die(&quot;can&#39;t install SIGCHLD handler:&quot;);
</a><a href="#h12-0-1645" id="h12-0-1645" class="i">+	while (0 &lt; waitpid(-1, NULL, WNOHANG));
</a><a href="#h12-0-1646" id="h12-0-1646" class="i">+}
</a><a href="#h12-0-1647" id="h12-0-1647" class="i">+
</a><a href="#h12-0-1648" id="h12-0-1648" class="i">+void
</a><a href="#h12-0-1649" id="h12-0-1649" class="i">+spawn(const Arg *arg)
</a><a href="#h12-0-1650" id="h12-0-1650" class="i">+{
</a><a href="#h12-0-1651" id="h12-0-1651" class="i">+	if (arg-&gt;v == dmenucmd)
</a><a href="#h12-0-1652" id="h12-0-1652" class="i">+		dmenumon[0] = &#39;0&#39; + selmon-&gt;num;
</a><a href="#h12-0-1653" id="h12-0-1653" class="i">+	if (fork() == 0) {
</a><a href="#h12-0-1654" id="h12-0-1654" class="i">+		if (dpy)
</a><a href="#h12-0-1655" id="h12-0-1655" class="i">+			close(ConnectionNumber(dpy));
</a><a href="#h12-0-1656" id="h12-0-1656" class="i">+		setsid();
</a><a href="#h12-0-1657" id="h12-0-1657" class="i">+		execvp(((char **)arg-&gt;v)[0], (char **)arg-&gt;v);
</a><a href="#h12-0-1658" id="h12-0-1658" class="i">+		die(&quot;dwm: execvp &#39;%s&#39; failed:&quot;, ((char **)arg-&gt;v)[0]);
</a><a href="#h12-0-1659" id="h12-0-1659" class="i">+	}
</a><a href="#h12-0-1660" id="h12-0-1660" class="i">+}
</a><a href="#h12-0-1661" id="h12-0-1661" class="i">+
</a><a href="#h12-0-1662" id="h12-0-1662" class="i">+void
</a><a href="#h12-0-1663" id="h12-0-1663" class="i">+tag(const Arg *arg)
</a><a href="#h12-0-1664" id="h12-0-1664" class="i">+{
</a><a href="#h12-0-1665" id="h12-0-1665" class="i">+	if (selmon-&gt;sel &amp;&amp; arg-&gt;ui &amp; TAGMASK) {
</a><a href="#h12-0-1666" id="h12-0-1666" class="i">+		selmon-&gt;sel-&gt;tags = arg-&gt;ui &amp; TAGMASK;
</a><a href="#h12-0-1667" id="h12-0-1667" class="i">+		focus(NULL);
</a><a href="#h12-0-1668" id="h12-0-1668" class="i">+		arrange(selmon);
</a><a href="#h12-0-1669" id="h12-0-1669" class="i">+	}
</a><a href="#h12-0-1670" id="h12-0-1670" class="i">+}
</a><a href="#h12-0-1671" id="h12-0-1671" class="i">+
</a><a href="#h12-0-1672" id="h12-0-1672" class="i">+void
</a><a href="#h12-0-1673" id="h12-0-1673" class="i">+tagmon(const Arg *arg)
</a><a href="#h12-0-1674" id="h12-0-1674" class="i">+{
</a><a href="#h12-0-1675" id="h12-0-1675" class="i">+	if (!selmon-&gt;sel || !mons-&gt;next)
</a><a href="#h12-0-1676" id="h12-0-1676" class="i">+		return;
</a><a href="#h12-0-1677" id="h12-0-1677" class="i">+	sendmon(selmon-&gt;sel, dirtomon(arg-&gt;i));
</a><a href="#h12-0-1678" id="h12-0-1678" class="i">+}
</a><a href="#h12-0-1679" id="h12-0-1679" class="i">+
</a><a href="#h12-0-1680" id="h12-0-1680" class="i">+void
</a><a href="#h12-0-1681" id="h12-0-1681" class="i">+tile(Monitor *m)
</a><a href="#h12-0-1682" id="h12-0-1682" class="i">+{
</a><a href="#h12-0-1683" id="h12-0-1683" class="i">+	unsigned int i, n, h, mw, my, ty;
</a><a href="#h12-0-1684" id="h12-0-1684" class="i">+	Client *c;
</a><a href="#h12-0-1685" id="h12-0-1685" class="i">+
</a><a href="#h12-0-1686" id="h12-0-1686" class="i">+	for (n = 0, c = nexttiled(m-&gt;clients); c; c = nexttiled(c-&gt;next), n++);
</a><a href="#h12-0-1687" id="h12-0-1687" class="i">+	if (n == 0)
</a><a href="#h12-0-1688" id="h12-0-1688" class="i">+		return;
</a><a href="#h12-0-1689" id="h12-0-1689" class="i">+
</a><a href="#h12-0-1690" id="h12-0-1690" class="i">+	if (n &gt; m-&gt;nmaster)
</a><a href="#h12-0-1691" id="h12-0-1691" class="i">+		mw = m-&gt;nmaster ? m-&gt;ww * m-&gt;mfact : 0;
</a><a href="#h12-0-1692" id="h12-0-1692" class="i">+	else
</a><a href="#h12-0-1693" id="h12-0-1693" class="i">+		mw = m-&gt;ww;
</a><a href="#h12-0-1694" id="h12-0-1694" class="i">+	for (i = my = ty = 0, c = nexttiled(m-&gt;clients); c; c = nexttiled(c-&gt;next), i++)
</a><a href="#h12-0-1695" id="h12-0-1695" class="i">+		if (i &lt; m-&gt;nmaster) {
</a><a href="#h12-0-1696" id="h12-0-1696" class="i">+			h = (m-&gt;wh - my) / (MIN(n, m-&gt;nmaster) - i);
</a><a href="#h12-0-1697" id="h12-0-1697" class="i">+			resize(c, m-&gt;wx, m-&gt;wy + my, mw - (2*c-&gt;bw), h - (2*c-&gt;bw), 0);
</a><a href="#h12-0-1698" id="h12-0-1698" class="i">+			if (my + HEIGHT(c) &lt; m-&gt;wh)
</a><a href="#h12-0-1699" id="h12-0-1699" class="i">+				my += HEIGHT(c);
</a><a href="#h12-0-1700" id="h12-0-1700" class="i">+		} else {
</a><a href="#h12-0-1701" id="h12-0-1701" class="i">+			h = (m-&gt;wh - ty) / (n - i);
</a><a href="#h12-0-1702" id="h12-0-1702" class="i">+			resize(c, m-&gt;wx + mw, m-&gt;wy + ty, m-&gt;ww - mw - (2*c-&gt;bw), h - (2*c-&gt;bw), 0);
</a><a href="#h12-0-1703" id="h12-0-1703" class="i">+			if (ty + HEIGHT(c) &lt; m-&gt;wh)
</a><a href="#h12-0-1704" id="h12-0-1704" class="i">+				ty += HEIGHT(c);
</a><a href="#h12-0-1705" id="h12-0-1705" class="i">+		}
</a><a href="#h12-0-1706" id="h12-0-1706" class="i">+}
</a><a href="#h12-0-1707" id="h12-0-1707" class="i">+
</a><a href="#h12-0-1708" id="h12-0-1708" class="i">+void
</a><a href="#h12-0-1709" id="h12-0-1709" class="i">+togglebar(const Arg *arg)
</a><a href="#h12-0-1710" id="h12-0-1710" class="i">+{
</a><a href="#h12-0-1711" id="h12-0-1711" class="i">+	selmon-&gt;showbar = !selmon-&gt;showbar;
</a><a href="#h12-0-1712" id="h12-0-1712" class="i">+	updatebarpos(selmon);
</a><a href="#h12-0-1713" id="h12-0-1713" class="i">+	XMoveResizeWindow(dpy, selmon-&gt;barwin, selmon-&gt;wx, selmon-&gt;by, selmon-&gt;ww, bh);
</a><a href="#h12-0-1714" id="h12-0-1714" class="i">+	arrange(selmon);
</a><a href="#h12-0-1715" id="h12-0-1715" class="i">+}
</a><a href="#h12-0-1716" id="h12-0-1716" class="i">+
</a><a href="#h12-0-1717" id="h12-0-1717" class="i">+void
</a><a href="#h12-0-1718" id="h12-0-1718" class="i">+togglefloating(const Arg *arg)
</a><a href="#h12-0-1719" id="h12-0-1719" class="i">+{
</a><a href="#h12-0-1720" id="h12-0-1720" class="i">+	if (!selmon-&gt;sel)
</a><a href="#h12-0-1721" id="h12-0-1721" class="i">+		return;
</a><a href="#h12-0-1722" id="h12-0-1722" class="i">+	if (selmon-&gt;sel-&gt;isfullscreen) /* no support for fullscreen windows */
</a><a href="#h12-0-1723" id="h12-0-1723" class="i">+		return;
</a><a href="#h12-0-1724" id="h12-0-1724" class="i">+	selmon-&gt;sel-&gt;isfloating = !selmon-&gt;sel-&gt;isfloating || selmon-&gt;sel-&gt;isfixed;
</a><a href="#h12-0-1725" id="h12-0-1725" class="i">+	if (selmon-&gt;sel-&gt;isfloating)
</a><a href="#h12-0-1726" id="h12-0-1726" class="i">+		resize(selmon-&gt;sel, selmon-&gt;sel-&gt;x, selmon-&gt;sel-&gt;y,
</a><a href="#h12-0-1727" id="h12-0-1727" class="i">+			selmon-&gt;sel-&gt;w, selmon-&gt;sel-&gt;h, 0);
</a><a href="#h12-0-1728" id="h12-0-1728" class="i">+	arrange(selmon);
</a><a href="#h12-0-1729" id="h12-0-1729" class="i">+}
</a><a href="#h12-0-1730" id="h12-0-1730" class="i">+
</a><a href="#h12-0-1731" id="h12-0-1731" class="i">+void
</a><a href="#h12-0-1732" id="h12-0-1732" class="i">+toggletag(const Arg *arg)
</a><a href="#h12-0-1733" id="h12-0-1733" class="i">+{
</a><a href="#h12-0-1734" id="h12-0-1734" class="i">+	unsigned int newtags;
</a><a href="#h12-0-1735" id="h12-0-1735" class="i">+
</a><a href="#h12-0-1736" id="h12-0-1736" class="i">+	if (!selmon-&gt;sel)
</a><a href="#h12-0-1737" id="h12-0-1737" class="i">+		return;
</a><a href="#h12-0-1738" id="h12-0-1738" class="i">+	newtags = selmon-&gt;sel-&gt;tags ^ (arg-&gt;ui &amp; TAGMASK);
</a><a href="#h12-0-1739" id="h12-0-1739" class="i">+	if (newtags) {
</a><a href="#h12-0-1740" id="h12-0-1740" class="i">+		selmon-&gt;sel-&gt;tags = newtags;
</a><a href="#h12-0-1741" id="h12-0-1741" class="i">+		focus(NULL);
</a><a href="#h12-0-1742" id="h12-0-1742" class="i">+		arrange(selmon);
</a><a href="#h12-0-1743" id="h12-0-1743" class="i">+	}
</a><a href="#h12-0-1744" id="h12-0-1744" class="i">+}
</a><a href="#h12-0-1745" id="h12-0-1745" class="i">+
</a><a href="#h12-0-1746" id="h12-0-1746" class="i">+void
</a><a href="#h12-0-1747" id="h12-0-1747" class="i">+toggleview(const Arg *arg)
</a><a href="#h12-0-1748" id="h12-0-1748" class="i">+{
</a><a href="#h12-0-1749" id="h12-0-1749" class="i">+	unsigned int newtagset = selmon-&gt;tagset[selmon-&gt;seltags] ^ (arg-&gt;ui &amp; TAGMASK);
</a><a href="#h12-0-1750" id="h12-0-1750" class="i">+
</a><a href="#h12-0-1751" id="h12-0-1751" class="i">+	if (newtagset) {
</a><a href="#h12-0-1752" id="h12-0-1752" class="i">+		selmon-&gt;tagset[selmon-&gt;seltags] = newtagset;
</a><a href="#h12-0-1753" id="h12-0-1753" class="i">+		focus(NULL);
</a><a href="#h12-0-1754" id="h12-0-1754" class="i">+		arrange(selmon);
</a><a href="#h12-0-1755" id="h12-0-1755" class="i">+	}
</a><a href="#h12-0-1756" id="h12-0-1756" class="i">+}
</a><a href="#h12-0-1757" id="h12-0-1757" class="i">+
</a><a href="#h12-0-1758" id="h12-0-1758" class="i">+void
</a><a href="#h12-0-1759" id="h12-0-1759" class="i">+unfocus(Client *c, int setfocus)
</a><a href="#h12-0-1760" id="h12-0-1760" class="i">+{
</a><a href="#h12-0-1761" id="h12-0-1761" class="i">+	if (!c)
</a><a href="#h12-0-1762" id="h12-0-1762" class="i">+		return;
</a><a href="#h12-0-1763" id="h12-0-1763" class="i">+	grabbuttons(c, 0);
</a><a href="#h12-0-1764" id="h12-0-1764" class="i">+	XSetWindowBorder(dpy, c-&gt;win, scheme[SchemeNorm][ColBorder].pixel);
</a><a href="#h12-0-1765" id="h12-0-1765" class="i">+	if (setfocus) {
</a><a href="#h12-0-1766" id="h12-0-1766" class="i">+		XSetInputFocus(dpy, root, RevertToPointerRoot, CurrentTime);
</a><a href="#h12-0-1767" id="h12-0-1767" class="i">+		XDeleteProperty(dpy, root, netatom[NetActiveWindow]);
</a><a href="#h12-0-1768" id="h12-0-1768" class="i">+	}
</a><a href="#h12-0-1769" id="h12-0-1769" class="i">+}
</a><a href="#h12-0-1770" id="h12-0-1770" class="i">+
</a><a href="#h12-0-1771" id="h12-0-1771" class="i">+void
</a><a href="#h12-0-1772" id="h12-0-1772" class="i">+unmanage(Client *c, int destroyed)
</a><a href="#h12-0-1773" id="h12-0-1773" class="i">+{
</a><a href="#h12-0-1774" id="h12-0-1774" class="i">+	Monitor *m = c-&gt;mon;
</a><a href="#h12-0-1775" id="h12-0-1775" class="i">+	XWindowChanges wc;
</a><a href="#h12-0-1776" id="h12-0-1776" class="i">+
</a><a href="#h12-0-1777" id="h12-0-1777" class="i">+	detach(c);
</a><a href="#h12-0-1778" id="h12-0-1778" class="i">+	detachstack(c);
</a><a href="#h12-0-1779" id="h12-0-1779" class="i">+	if (!destroyed) {
</a><a href="#h12-0-1780" id="h12-0-1780" class="i">+		wc.border_width = c-&gt;oldbw;
</a><a href="#h12-0-1781" id="h12-0-1781" class="i">+		XGrabServer(dpy); /* avoid race conditions */
</a><a href="#h12-0-1782" id="h12-0-1782" class="i">+		XSetErrorHandler(xerrordummy);
</a><a href="#h12-0-1783" id="h12-0-1783" class="i">+		XSelectInput(dpy, c-&gt;win, NoEventMask);
</a><a href="#h12-0-1784" id="h12-0-1784" class="i">+		XConfigureWindow(dpy, c-&gt;win, CWBorderWidth, &amp;wc); /* restore border */
</a><a href="#h12-0-1785" id="h12-0-1785" class="i">+		XUngrabButton(dpy, AnyButton, AnyModifier, c-&gt;win);
</a><a href="#h12-0-1786" id="h12-0-1786" class="i">+		setclientstate(c, WithdrawnState);
</a><a href="#h12-0-1787" id="h12-0-1787" class="i">+		XSync(dpy, False);
</a><a href="#h12-0-1788" id="h12-0-1788" class="i">+		XSetErrorHandler(xerror);
</a><a href="#h12-0-1789" id="h12-0-1789" class="i">+		XUngrabServer(dpy);
</a><a href="#h12-0-1790" id="h12-0-1790" class="i">+	}
</a><a href="#h12-0-1791" id="h12-0-1791" class="i">+	free(c);
</a><a href="#h12-0-1792" id="h12-0-1792" class="i">+	focus(NULL);
</a><a href="#h12-0-1793" id="h12-0-1793" class="i">+	updateclientlist();
</a><a href="#h12-0-1794" id="h12-0-1794" class="i">+	arrange(m);
</a><a href="#h12-0-1795" id="h12-0-1795" class="i">+}
</a><a href="#h12-0-1796" id="h12-0-1796" class="i">+
</a><a href="#h12-0-1797" id="h12-0-1797" class="i">+void
</a><a href="#h12-0-1798" id="h12-0-1798" class="i">+unmapnotify(XEvent *e)
</a><a href="#h12-0-1799" id="h12-0-1799" class="i">+{
</a><a href="#h12-0-1800" id="h12-0-1800" class="i">+	Client *c;
</a><a href="#h12-0-1801" id="h12-0-1801" class="i">+	XUnmapEvent *ev = &amp;e-&gt;xunmap;
</a><a href="#h12-0-1802" id="h12-0-1802" class="i">+
</a><a href="#h12-0-1803" id="h12-0-1803" class="i">+	if ((c = wintoclient(ev-&gt;window))) {
</a><a href="#h12-0-1804" id="h12-0-1804" class="i">+		if (ev-&gt;send_event)
</a><a href="#h12-0-1805" id="h12-0-1805" class="i">+			setclientstate(c, WithdrawnState);
</a><a href="#h12-0-1806" id="h12-0-1806" class="i">+		else
</a><a href="#h12-0-1807" id="h12-0-1807" class="i">+			unmanage(c, 0);
</a><a href="#h12-0-1808" id="h12-0-1808" class="i">+	}
</a><a href="#h12-0-1809" id="h12-0-1809" class="i">+}
</a><a href="#h12-0-1810" id="h12-0-1810" class="i">+
</a><a href="#h12-0-1811" id="h12-0-1811" class="i">+void
</a><a href="#h12-0-1812" id="h12-0-1812" class="i">+updatebars(void)
</a><a href="#h12-0-1813" id="h12-0-1813" class="i">+{
</a><a href="#h12-0-1814" id="h12-0-1814" class="i">+	Monitor *m;
</a><a href="#h12-0-1815" id="h12-0-1815" class="i">+	XSetWindowAttributes wa = {
</a><a href="#h12-0-1816" id="h12-0-1816" class="i">+		.override_redirect = True,
</a><a href="#h12-0-1817" id="h12-0-1817" class="i">+		.background_pixmap = ParentRelative,
</a><a href="#h12-0-1818" id="h12-0-1818" class="i">+		.event_mask = ButtonPressMask|ExposureMask
</a><a href="#h12-0-1819" id="h12-0-1819" class="i">+	};
</a><a href="#h12-0-1820" id="h12-0-1820" class="i">+	XClassHint ch = {&quot;dwm&quot;, &quot;dwm&quot;};
</a><a href="#h12-0-1821" id="h12-0-1821" class="i">+	for (m = mons; m; m = m-&gt;next) {
</a><a href="#h12-0-1822" id="h12-0-1822" class="i">+		if (m-&gt;barwin)
</a><a href="#h12-0-1823" id="h12-0-1823" class="i">+			continue;
</a><a href="#h12-0-1824" id="h12-0-1824" class="i">+		m-&gt;barwin = XCreateWindow(dpy, root, m-&gt;wx, m-&gt;by, m-&gt;ww, bh, 0, DefaultDepth(dpy, screen),
</a><a href="#h12-0-1825" id="h12-0-1825" class="i">+				CopyFromParent, DefaultVisual(dpy, screen),
</a><a href="#h12-0-1826" id="h12-0-1826" class="i">+				CWOverrideRedirect|CWBackPixmap|CWEventMask, &amp;wa);
</a><a href="#h12-0-1827" id="h12-0-1827" class="i">+		XDefineCursor(dpy, m-&gt;barwin, cursor[CurNormal]-&gt;cursor);
</a><a href="#h12-0-1828" id="h12-0-1828" class="i">+		XMapRaised(dpy, m-&gt;barwin);
</a><a href="#h12-0-1829" id="h12-0-1829" class="i">+		XSetClassHint(dpy, m-&gt;barwin, &amp;ch);
</a><a href="#h12-0-1830" id="h12-0-1830" class="i">+	}
</a><a href="#h12-0-1831" id="h12-0-1831" class="i">+}
</a><a href="#h12-0-1832" id="h12-0-1832" class="i">+
</a><a href="#h12-0-1833" id="h12-0-1833" class="i">+void
</a><a href="#h12-0-1834" id="h12-0-1834" class="i">+updatebarpos(Monitor *m)
</a><a href="#h12-0-1835" id="h12-0-1835" class="i">+{
</a><a href="#h12-0-1836" id="h12-0-1836" class="i">+	m-&gt;wy = m-&gt;my;
</a><a href="#h12-0-1837" id="h12-0-1837" class="i">+	m-&gt;wh = m-&gt;mh;
</a><a href="#h12-0-1838" id="h12-0-1838" class="i">+	if (m-&gt;showbar) {
</a><a href="#h12-0-1839" id="h12-0-1839" class="i">+		m-&gt;wh -= bh;
</a><a href="#h12-0-1840" id="h12-0-1840" class="i">+		m-&gt;by = m-&gt;topbar ? m-&gt;wy : m-&gt;wy + m-&gt;wh;
</a><a href="#h12-0-1841" id="h12-0-1841" class="i">+		m-&gt;wy = m-&gt;topbar ? m-&gt;wy + bh : m-&gt;wy;
</a><a href="#h12-0-1842" id="h12-0-1842" class="i">+	} else
</a><a href="#h12-0-1843" id="h12-0-1843" class="i">+		m-&gt;by = -bh;
</a><a href="#h12-0-1844" id="h12-0-1844" class="i">+}
</a><a href="#h12-0-1845" id="h12-0-1845" class="i">+
</a><a href="#h12-0-1846" id="h12-0-1846" class="i">+void
</a><a href="#h12-0-1847" id="h12-0-1847" class="i">+updateclientlist()
</a><a href="#h12-0-1848" id="h12-0-1848" class="i">+{
</a><a href="#h12-0-1849" id="h12-0-1849" class="i">+	Client *c;
</a><a href="#h12-0-1850" id="h12-0-1850" class="i">+	Monitor *m;
</a><a href="#h12-0-1851" id="h12-0-1851" class="i">+
</a><a href="#h12-0-1852" id="h12-0-1852" class="i">+	XDeleteProperty(dpy, root, netatom[NetClientList]);
</a><a href="#h12-0-1853" id="h12-0-1853" class="i">+	for (m = mons; m; m = m-&gt;next)
</a><a href="#h12-0-1854" id="h12-0-1854" class="i">+		for (c = m-&gt;clients; c; c = c-&gt;next)
</a><a href="#h12-0-1855" id="h12-0-1855" class="i">+			XChangeProperty(dpy, root, netatom[NetClientList],
</a><a href="#h12-0-1856" id="h12-0-1856" class="i">+				XA_WINDOW, 32, PropModeAppend,
</a><a href="#h12-0-1857" id="h12-0-1857" class="i">+				(unsigned char *) &amp;(c-&gt;win), 1);
</a><a href="#h12-0-1858" id="h12-0-1858" class="i">+}
</a><a href="#h12-0-1859" id="h12-0-1859" class="i">+
</a><a href="#h12-0-1860" id="h12-0-1860" class="i">+int
</a><a href="#h12-0-1861" id="h12-0-1861" class="i">+updategeom(void)
</a><a href="#h12-0-1862" id="h12-0-1862" class="i">+{
</a><a href="#h12-0-1863" id="h12-0-1863" class="i">+	int dirty = 0;
</a><a href="#h12-0-1864" id="h12-0-1864" class="i">+
</a><a href="#h12-0-1865" id="h12-0-1865" class="i">+#ifdef XINERAMA
</a><a href="#h12-0-1866" id="h12-0-1866" class="i">+	if (XineramaIsActive(dpy)) {
</a><a href="#h12-0-1867" id="h12-0-1867" class="i">+		int i, j, n, nn;
</a><a href="#h12-0-1868" id="h12-0-1868" class="i">+		Client *c;
</a><a href="#h12-0-1869" id="h12-0-1869" class="i">+		Monitor *m;
</a><a href="#h12-0-1870" id="h12-0-1870" class="i">+		XineramaScreenInfo *info = XineramaQueryScreens(dpy, &amp;nn);
</a><a href="#h12-0-1871" id="h12-0-1871" class="i">+		XineramaScreenInfo *unique = NULL;
</a><a href="#h12-0-1872" id="h12-0-1872" class="i">+
</a><a href="#h12-0-1873" id="h12-0-1873" class="i">+		for (n = 0, m = mons; m; m = m-&gt;next, n++);
</a><a href="#h12-0-1874" id="h12-0-1874" class="i">+		/* only consider unique geometries as separate screens */
</a><a href="#h12-0-1875" id="h12-0-1875" class="i">+		unique = ecalloc(nn, sizeof(XineramaScreenInfo));
</a><a href="#h12-0-1876" id="h12-0-1876" class="i">+		for (i = 0, j = 0; i &lt; nn; i++)
</a><a href="#h12-0-1877" id="h12-0-1877" class="i">+			if (isuniquegeom(unique, j, &amp;info[i]))
</a><a href="#h12-0-1878" id="h12-0-1878" class="i">+				memcpy(&amp;unique[j++], &amp;info[i], sizeof(XineramaScreenInfo));
</a><a href="#h12-0-1879" id="h12-0-1879" class="i">+		XFree(info);
</a><a href="#h12-0-1880" id="h12-0-1880" class="i">+		nn = j;
</a><a href="#h12-0-1881" id="h12-0-1881" class="i">+
</a><a href="#h12-0-1882" id="h12-0-1882" class="i">+		/* new monitors if nn &gt; n */
</a><a href="#h12-0-1883" id="h12-0-1883" class="i">+		for (i = n; i &lt; nn; i++) {
</a><a href="#h12-0-1884" id="h12-0-1884" class="i">+			for (m = mons; m &amp;&amp; m-&gt;next; m = m-&gt;next);
</a><a href="#h12-0-1885" id="h12-0-1885" class="i">+			if (m)
</a><a href="#h12-0-1886" id="h12-0-1886" class="i">+				m-&gt;next = createmon();
</a><a href="#h12-0-1887" id="h12-0-1887" class="i">+			else
</a><a href="#h12-0-1888" id="h12-0-1888" class="i">+				mons = createmon();
</a><a href="#h12-0-1889" id="h12-0-1889" class="i">+		}
</a><a href="#h12-0-1890" id="h12-0-1890" class="i">+		for (i = 0, m = mons; i &lt; nn &amp;&amp; m; m = m-&gt;next, i++)
</a><a href="#h12-0-1891" id="h12-0-1891" class="i">+			if (i &gt;= n
</a><a href="#h12-0-1892" id="h12-0-1892" class="i">+			|| unique[i].x_org != m-&gt;mx || unique[i].y_org != m-&gt;my
</a><a href="#h12-0-1893" id="h12-0-1893" class="i">+			|| unique[i].width != m-&gt;mw || unique[i].height != m-&gt;mh)
</a><a href="#h12-0-1894" id="h12-0-1894" class="i">+			{
</a><a href="#h12-0-1895" id="h12-0-1895" class="i">+				dirty = 1;
</a><a href="#h12-0-1896" id="h12-0-1896" class="i">+				m-&gt;num = i;
</a><a href="#h12-0-1897" id="h12-0-1897" class="i">+				m-&gt;mx = m-&gt;wx = unique[i].x_org;
</a><a href="#h12-0-1898" id="h12-0-1898" class="i">+				m-&gt;my = m-&gt;wy = unique[i].y_org;
</a><a href="#h12-0-1899" id="h12-0-1899" class="i">+				m-&gt;mw = m-&gt;ww = unique[i].width;
</a><a href="#h12-0-1900" id="h12-0-1900" class="i">+				m-&gt;mh = m-&gt;wh = unique[i].height;
</a><a href="#h12-0-1901" id="h12-0-1901" class="i">+				updatebarpos(m);
</a><a href="#h12-0-1902" id="h12-0-1902" class="i">+			}
</a><a href="#h12-0-1903" id="h12-0-1903" class="i">+		/* removed monitors if n &gt; nn */
</a><a href="#h12-0-1904" id="h12-0-1904" class="i">+		for (i = nn; i &lt; n; i++) {
</a><a href="#h12-0-1905" id="h12-0-1905" class="i">+			for (m = mons; m &amp;&amp; m-&gt;next; m = m-&gt;next);
</a><a href="#h12-0-1906" id="h12-0-1906" class="i">+			while ((c = m-&gt;clients)) {
</a><a href="#h12-0-1907" id="h12-0-1907" class="i">+				dirty = 1;
</a><a href="#h12-0-1908" id="h12-0-1908" class="i">+				m-&gt;clients = c-&gt;next;
</a><a href="#h12-0-1909" id="h12-0-1909" class="i">+				detachstack(c);
</a><a href="#h12-0-1910" id="h12-0-1910" class="i">+				c-&gt;mon = mons;
</a><a href="#h12-0-1911" id="h12-0-1911" class="i">+				attach(c);
</a><a href="#h12-0-1912" id="h12-0-1912" class="i">+				attachstack(c);
</a><a href="#h12-0-1913" id="h12-0-1913" class="i">+			}
</a><a href="#h12-0-1914" id="h12-0-1914" class="i">+			if (m == selmon)
</a><a href="#h12-0-1915" id="h12-0-1915" class="i">+				selmon = mons;
</a><a href="#h12-0-1916" id="h12-0-1916" class="i">+			cleanupmon(m);
</a><a href="#h12-0-1917" id="h12-0-1917" class="i">+		}
</a><a href="#h12-0-1918" id="h12-0-1918" class="i">+		free(unique);
</a><a href="#h12-0-1919" id="h12-0-1919" class="i">+	} else
</a><a href="#h12-0-1920" id="h12-0-1920" class="i">+#endif /* XINERAMA */
</a><a href="#h12-0-1921" id="h12-0-1921" class="i">+	{ /* default monitor setup */
</a><a href="#h12-0-1922" id="h12-0-1922" class="i">+		if (!mons)
</a><a href="#h12-0-1923" id="h12-0-1923" class="i">+			mons = createmon();
</a><a href="#h12-0-1924" id="h12-0-1924" class="i">+		if (mons-&gt;mw != sw || mons-&gt;mh != sh) {
</a><a href="#h12-0-1925" id="h12-0-1925" class="i">+			dirty = 1;
</a><a href="#h12-0-1926" id="h12-0-1926" class="i">+			mons-&gt;mw = mons-&gt;ww = sw;
</a><a href="#h12-0-1927" id="h12-0-1927" class="i">+			mons-&gt;mh = mons-&gt;wh = sh;
</a><a href="#h12-0-1928" id="h12-0-1928" class="i">+			updatebarpos(mons);
</a><a href="#h12-0-1929" id="h12-0-1929" class="i">+		}
</a><a href="#h12-0-1930" id="h12-0-1930" class="i">+	}
</a><a href="#h12-0-1931" id="h12-0-1931" class="i">+	if (dirty) {
</a><a href="#h12-0-1932" id="h12-0-1932" class="i">+		selmon = mons;
</a><a href="#h12-0-1933" id="h12-0-1933" class="i">+		selmon = wintomon(root);
</a><a href="#h12-0-1934" id="h12-0-1934" class="i">+	}
</a><a href="#h12-0-1935" id="h12-0-1935" class="i">+	return dirty;
</a><a href="#h12-0-1936" id="h12-0-1936" class="i">+}
</a><a href="#h12-0-1937" id="h12-0-1937" class="i">+
</a><a href="#h12-0-1938" id="h12-0-1938" class="i">+void
</a><a href="#h12-0-1939" id="h12-0-1939" class="i">+updatenumlockmask(void)
</a><a href="#h12-0-1940" id="h12-0-1940" class="i">+{
</a><a href="#h12-0-1941" id="h12-0-1941" class="i">+	unsigned int i, j;
</a><a href="#h12-0-1942" id="h12-0-1942" class="i">+	XModifierKeymap *modmap;
</a><a href="#h12-0-1943" id="h12-0-1943" class="i">+
</a><a href="#h12-0-1944" id="h12-0-1944" class="i">+	numlockmask = 0;
</a><a href="#h12-0-1945" id="h12-0-1945" class="i">+	modmap = XGetModifierMapping(dpy);
</a><a href="#h12-0-1946" id="h12-0-1946" class="i">+	for (i = 0; i &lt; 8; i++)
</a><a href="#h12-0-1947" id="h12-0-1947" class="i">+		for (j = 0; j &lt; modmap-&gt;max_keypermod; j++)
</a><a href="#h12-0-1948" id="h12-0-1948" class="i">+			if (modmap-&gt;modifiermap[i * modmap-&gt;max_keypermod + j]
</a><a href="#h12-0-1949" id="h12-0-1949" class="i">+				== XKeysymToKeycode(dpy, XK_Num_Lock))
</a><a href="#h12-0-1950" id="h12-0-1950" class="i">+				numlockmask = (1 &lt;&lt; i);
</a><a href="#h12-0-1951" id="h12-0-1951" class="i">+	XFreeModifiermap(modmap);
</a><a href="#h12-0-1952" id="h12-0-1952" class="i">+}
</a><a href="#h12-0-1953" id="h12-0-1953" class="i">+
</a><a href="#h12-0-1954" id="h12-0-1954" class="i">+void
</a><a href="#h12-0-1955" id="h12-0-1955" class="i">+updatesizehints(Client *c)
</a><a href="#h12-0-1956" id="h12-0-1956" class="i">+{
</a><a href="#h12-0-1957" id="h12-0-1957" class="i">+	long msize;
</a><a href="#h12-0-1958" id="h12-0-1958" class="i">+	XSizeHints size;
</a><a href="#h12-0-1959" id="h12-0-1959" class="i">+
</a><a href="#h12-0-1960" id="h12-0-1960" class="i">+	if (!XGetWMNormalHints(dpy, c-&gt;win, &amp;size, &amp;msize))
</a><a href="#h12-0-1961" id="h12-0-1961" class="i">+		/* size is uninitialized, ensure that size.flags aren&#39;t used */
</a><a href="#h12-0-1962" id="h12-0-1962" class="i">+		size.flags = PSize;
</a><a href="#h12-0-1963" id="h12-0-1963" class="i">+	if (size.flags &amp; PBaseSize) {
</a><a href="#h12-0-1964" id="h12-0-1964" class="i">+		c-&gt;basew = size.base_width;
</a><a href="#h12-0-1965" id="h12-0-1965" class="i">+		c-&gt;baseh = size.base_height;
</a><a href="#h12-0-1966" id="h12-0-1966" class="i">+	} else if (size.flags &amp; PMinSize) {
</a><a href="#h12-0-1967" id="h12-0-1967" class="i">+		c-&gt;basew = size.min_width;
</a><a href="#h12-0-1968" id="h12-0-1968" class="i">+		c-&gt;baseh = size.min_height;
</a><a href="#h12-0-1969" id="h12-0-1969" class="i">+	} else
</a><a href="#h12-0-1970" id="h12-0-1970" class="i">+		c-&gt;basew = c-&gt;baseh = 0;
</a><a href="#h12-0-1971" id="h12-0-1971" class="i">+	if (size.flags &amp; PResizeInc) {
</a><a href="#h12-0-1972" id="h12-0-1972" class="i">+		c-&gt;incw = size.width_inc;
</a><a href="#h12-0-1973" id="h12-0-1973" class="i">+		c-&gt;inch = size.height_inc;
</a><a href="#h12-0-1974" id="h12-0-1974" class="i">+	} else
</a><a href="#h12-0-1975" id="h12-0-1975" class="i">+		c-&gt;incw = c-&gt;inch = 0;
</a><a href="#h12-0-1976" id="h12-0-1976" class="i">+	if (size.flags &amp; PMaxSize) {
</a><a href="#h12-0-1977" id="h12-0-1977" class="i">+		c-&gt;maxw = size.max_width;
</a><a href="#h12-0-1978" id="h12-0-1978" class="i">+		c-&gt;maxh = size.max_height;
</a><a href="#h12-0-1979" id="h12-0-1979" class="i">+	} else
</a><a href="#h12-0-1980" id="h12-0-1980" class="i">+		c-&gt;maxw = c-&gt;maxh = 0;
</a><a href="#h12-0-1981" id="h12-0-1981" class="i">+	if (size.flags &amp; PMinSize) {
</a><a href="#h12-0-1982" id="h12-0-1982" class="i">+		c-&gt;minw = size.min_width;
</a><a href="#h12-0-1983" id="h12-0-1983" class="i">+		c-&gt;minh = size.min_height;
</a><a href="#h12-0-1984" id="h12-0-1984" class="i">+	} else if (size.flags &amp; PBaseSize) {
</a><a href="#h12-0-1985" id="h12-0-1985" class="i">+		c-&gt;minw = size.base_width;
</a><a href="#h12-0-1986" id="h12-0-1986" class="i">+		c-&gt;minh = size.base_height;
</a><a href="#h12-0-1987" id="h12-0-1987" class="i">+	} else
</a><a href="#h12-0-1988" id="h12-0-1988" class="i">+		c-&gt;minw = c-&gt;minh = 0;
</a><a href="#h12-0-1989" id="h12-0-1989" class="i">+	if (size.flags &amp; PAspect) {
</a><a href="#h12-0-1990" id="h12-0-1990" class="i">+		c-&gt;mina = (float)size.min_aspect.y / size.min_aspect.x;
</a><a href="#h12-0-1991" id="h12-0-1991" class="i">+		c-&gt;maxa = (float)size.max_aspect.x / size.max_aspect.y;
</a><a href="#h12-0-1992" id="h12-0-1992" class="i">+	} else
</a><a href="#h12-0-1993" id="h12-0-1993" class="i">+		c-&gt;maxa = c-&gt;mina = 0.0;
</a><a href="#h12-0-1994" id="h12-0-1994" class="i">+	c-&gt;isfixed = (c-&gt;maxw &amp;&amp; c-&gt;maxh &amp;&amp; c-&gt;maxw == c-&gt;minw &amp;&amp; c-&gt;maxh == c-&gt;minh);
</a><a href="#h12-0-1995" id="h12-0-1995" class="i">+	c-&gt;hintsvalid = 1;
</a><a href="#h12-0-1996" id="h12-0-1996" class="i">+}
</a><a href="#h12-0-1997" id="h12-0-1997" class="i">+
</a><a href="#h12-0-1998" id="h12-0-1998" class="i">+void
</a><a href="#h12-0-1999" id="h12-0-1999" class="i">+updatestatus(void)
</a><a href="#h12-0-2000" id="h12-0-2000" class="i">+{
</a><a href="#h12-0-2001" id="h12-0-2001" class="i">+	if (!gettextprop(root, XA_WM_NAME, stext, sizeof(stext)))
</a><a href="#h12-0-2002" id="h12-0-2002" class="i">+		strcpy(stext, &quot;dwm-&quot;VERSION);
</a><a href="#h12-0-2003" id="h12-0-2003" class="i">+	drawbar(selmon);
</a><a href="#h12-0-2004" id="h12-0-2004" class="i">+}
</a><a href="#h12-0-2005" id="h12-0-2005" class="i">+
</a><a href="#h12-0-2006" id="h12-0-2006" class="i">+void
</a><a href="#h12-0-2007" id="h12-0-2007" class="i">+updatetitle(Client *c)
</a><a href="#h12-0-2008" id="h12-0-2008" class="i">+{
</a><a href="#h12-0-2009" id="h12-0-2009" class="i">+	if (!gettextprop(c-&gt;win, netatom[NetWMName], c-&gt;name, sizeof c-&gt;name))
</a><a href="#h12-0-2010" id="h12-0-2010" class="i">+		gettextprop(c-&gt;win, XA_WM_NAME, c-&gt;name, sizeof c-&gt;name);
</a><a href="#h12-0-2011" id="h12-0-2011" class="i">+	if (c-&gt;name[0] == &#39;\0&#39;) /* hack to mark broken clients */
</a><a href="#h12-0-2012" id="h12-0-2012" class="i">+		strcpy(c-&gt;name, broken);
</a><a href="#h12-0-2013" id="h12-0-2013" class="i">+}
</a><a href="#h12-0-2014" id="h12-0-2014" class="i">+
</a><a href="#h12-0-2015" id="h12-0-2015" class="i">+void
</a><a href="#h12-0-2016" id="h12-0-2016" class="i">+updatewindowtype(Client *c)
</a><a href="#h12-0-2017" id="h12-0-2017" class="i">+{
</a><a href="#h12-0-2018" id="h12-0-2018" class="i">+	Atom state = getatomprop(c, netatom[NetWMState]);
</a><a href="#h12-0-2019" id="h12-0-2019" class="i">+	Atom wtype = getatomprop(c, netatom[NetWMWindowType]);
</a><a href="#h12-0-2020" id="h12-0-2020" class="i">+
</a><a href="#h12-0-2021" id="h12-0-2021" class="i">+	if (state == netatom[NetWMFullscreen])
</a><a href="#h12-0-2022" id="h12-0-2022" class="i">+		setfullscreen(c, 1);
</a><a href="#h12-0-2023" id="h12-0-2023" class="i">+	if (wtype == netatom[NetWMWindowTypeDialog])
</a><a href="#h12-0-2024" id="h12-0-2024" class="i">+		c-&gt;isfloating = 1;
</a><a href="#h12-0-2025" id="h12-0-2025" class="i">+}
</a><a href="#h12-0-2026" id="h12-0-2026" class="i">+
</a><a href="#h12-0-2027" id="h12-0-2027" class="i">+void
</a><a href="#h12-0-2028" id="h12-0-2028" class="i">+updatewmhints(Client *c)
</a><a href="#h12-0-2029" id="h12-0-2029" class="i">+{
</a><a href="#h12-0-2030" id="h12-0-2030" class="i">+	XWMHints *wmh;
</a><a href="#h12-0-2031" id="h12-0-2031" class="i">+
</a><a href="#h12-0-2032" id="h12-0-2032" class="i">+	if ((wmh = XGetWMHints(dpy, c-&gt;win))) {
</a><a href="#h12-0-2033" id="h12-0-2033" class="i">+		if (c == selmon-&gt;sel &amp;&amp; wmh-&gt;flags &amp; XUrgencyHint) {
</a><a href="#h12-0-2034" id="h12-0-2034" class="i">+			wmh-&gt;flags &amp;= ~XUrgencyHint;
</a><a href="#h12-0-2035" id="h12-0-2035" class="i">+			XSetWMHints(dpy, c-&gt;win, wmh);
</a><a href="#h12-0-2036" id="h12-0-2036" class="i">+		} else
</a><a href="#h12-0-2037" id="h12-0-2037" class="i">+			c-&gt;isurgent = (wmh-&gt;flags &amp; XUrgencyHint) ? 1 : 0;
</a><a href="#h12-0-2038" id="h12-0-2038" class="i">+		if (wmh-&gt;flags &amp; InputHint)
</a><a href="#h12-0-2039" id="h12-0-2039" class="i">+			c-&gt;neverfocus = !wmh-&gt;input;
</a><a href="#h12-0-2040" id="h12-0-2040" class="i">+		else
</a><a href="#h12-0-2041" id="h12-0-2041" class="i">+			c-&gt;neverfocus = 0;
</a><a href="#h12-0-2042" id="h12-0-2042" class="i">+		XFree(wmh);
</a><a href="#h12-0-2043" id="h12-0-2043" class="i">+	}
</a><a href="#h12-0-2044" id="h12-0-2044" class="i">+}
</a><a href="#h12-0-2045" id="h12-0-2045" class="i">+
</a><a href="#h12-0-2046" id="h12-0-2046" class="i">+void
</a><a href="#h12-0-2047" id="h12-0-2047" class="i">+view(const Arg *arg)
</a><a href="#h12-0-2048" id="h12-0-2048" class="i">+{
</a><a href="#h12-0-2049" id="h12-0-2049" class="i">+	if ((arg-&gt;ui &amp; TAGMASK) == selmon-&gt;tagset[selmon-&gt;seltags])
</a><a href="#h12-0-2050" id="h12-0-2050" class="i">+		return;
</a><a href="#h12-0-2051" id="h12-0-2051" class="i">+	selmon-&gt;seltags ^= 1; /* toggle sel tagset */
</a><a href="#h12-0-2052" id="h12-0-2052" class="i">+	if (arg-&gt;ui &amp; TAGMASK)
</a><a href="#h12-0-2053" id="h12-0-2053" class="i">+		selmon-&gt;tagset[selmon-&gt;seltags] = arg-&gt;ui &amp; TAGMASK;
</a><a href="#h12-0-2054" id="h12-0-2054" class="i">+	focus(NULL);
</a><a href="#h12-0-2055" id="h12-0-2055" class="i">+	arrange(selmon);
</a><a href="#h12-0-2056" id="h12-0-2056" class="i">+}
</a><a href="#h12-0-2057" id="h12-0-2057" class="i">+
</a><a href="#h12-0-2058" id="h12-0-2058" class="i">+Client *
</a><a href="#h12-0-2059" id="h12-0-2059" class="i">+wintoclient(Window w)
</a><a href="#h12-0-2060" id="h12-0-2060" class="i">+{
</a><a href="#h12-0-2061" id="h12-0-2061" class="i">+	Client *c;
</a><a href="#h12-0-2062" id="h12-0-2062" class="i">+	Monitor *m;
</a><a href="#h12-0-2063" id="h12-0-2063" class="i">+
</a><a href="#h12-0-2064" id="h12-0-2064" class="i">+	for (m = mons; m; m = m-&gt;next)
</a><a href="#h12-0-2065" id="h12-0-2065" class="i">+		for (c = m-&gt;clients; c; c = c-&gt;next)
</a><a href="#h12-0-2066" id="h12-0-2066" class="i">+			if (c-&gt;win == w)
</a><a href="#h12-0-2067" id="h12-0-2067" class="i">+				return c;
</a><a href="#h12-0-2068" id="h12-0-2068" class="i">+	return NULL;
</a><a href="#h12-0-2069" id="h12-0-2069" class="i">+}
</a><a href="#h12-0-2070" id="h12-0-2070" class="i">+
</a><a href="#h12-0-2071" id="h12-0-2071" class="i">+Monitor *
</a><a href="#h12-0-2072" id="h12-0-2072" class="i">+wintomon(Window w)
</a><a href="#h12-0-2073" id="h12-0-2073" class="i">+{
</a><a href="#h12-0-2074" id="h12-0-2074" class="i">+	int x, y;
</a><a href="#h12-0-2075" id="h12-0-2075" class="i">+	Client *c;
</a><a href="#h12-0-2076" id="h12-0-2076" class="i">+	Monitor *m;
</a><a href="#h12-0-2077" id="h12-0-2077" class="i">+
</a><a href="#h12-0-2078" id="h12-0-2078" class="i">+	if (w == root &amp;&amp; getrootptr(&amp;x, &amp;y))
</a><a href="#h12-0-2079" id="h12-0-2079" class="i">+		return recttomon(x, y, 1, 1);
</a><a href="#h12-0-2080" id="h12-0-2080" class="i">+	for (m = mons; m; m = m-&gt;next)
</a><a href="#h12-0-2081" id="h12-0-2081" class="i">+		if (w == m-&gt;barwin)
</a><a href="#h12-0-2082" id="h12-0-2082" class="i">+			return m;
</a><a href="#h12-0-2083" id="h12-0-2083" class="i">+	if ((c = wintoclient(w)))
</a><a href="#h12-0-2084" id="h12-0-2084" class="i">+		return c-&gt;mon;
</a><a href="#h12-0-2085" id="h12-0-2085" class="i">+	return selmon;
</a><a href="#h12-0-2086" id="h12-0-2086" class="i">+}
</a><a href="#h12-0-2087" id="h12-0-2087" class="i">+
</a><a href="#h12-0-2088" id="h12-0-2088" class="i">+/* There&#39;s no way to check accesses to destroyed windows, thus those cases are
</a><a href="#h12-0-2089" id="h12-0-2089" class="i">+ * ignored (especially on UnmapNotify&#39;s). Other types of errors call Xlibs
</a><a href="#h12-0-2090" id="h12-0-2090" class="i">+ * default error handler, which may call exit. */
</a><a href="#h12-0-2091" id="h12-0-2091" class="i">+int
</a><a href="#h12-0-2092" id="h12-0-2092" class="i">+xerror(Display *dpy, XErrorEvent *ee)
</a><a href="#h12-0-2093" id="h12-0-2093" class="i">+{
</a><a href="#h12-0-2094" id="h12-0-2094" class="i">+	if (ee-&gt;error_code == BadWindow
</a><a href="#h12-0-2095" id="h12-0-2095" class="i">+	|| (ee-&gt;request_code == X_SetInputFocus &amp;&amp; ee-&gt;error_code == BadMatch)
</a><a href="#h12-0-2096" id="h12-0-2096" class="i">+	|| (ee-&gt;request_code == X_PolyText8 &amp;&amp; ee-&gt;error_code == BadDrawable)
</a><a href="#h12-0-2097" id="h12-0-2097" class="i">+	|| (ee-&gt;request_code == X_PolyFillRectangle &amp;&amp; ee-&gt;error_code == BadDrawable)
</a><a href="#h12-0-2098" id="h12-0-2098" class="i">+	|| (ee-&gt;request_code == X_PolySegment &amp;&amp; ee-&gt;error_code == BadDrawable)
</a><a href="#h12-0-2099" id="h12-0-2099" class="i">+	|| (ee-&gt;request_code == X_ConfigureWindow &amp;&amp; ee-&gt;error_code == BadMatch)
</a><a href="#h12-0-2100" id="h12-0-2100" class="i">+	|| (ee-&gt;request_code == X_GrabButton &amp;&amp; ee-&gt;error_code == BadAccess)
</a><a href="#h12-0-2101" id="h12-0-2101" class="i">+	|| (ee-&gt;request_code == X_GrabKey &amp;&amp; ee-&gt;error_code == BadAccess)
</a><a href="#h12-0-2102" id="h12-0-2102" class="i">+	|| (ee-&gt;request_code == X_CopyArea &amp;&amp; ee-&gt;error_code == BadDrawable))
</a><a href="#h12-0-2103" id="h12-0-2103" class="i">+		return 0;
</a><a href="#h12-0-2104" id="h12-0-2104" class="i">+	fprintf(stderr, &quot;dwm: fatal error: request code=%d, error code=%d\n&quot;,
</a><a href="#h12-0-2105" id="h12-0-2105" class="i">+		ee-&gt;request_code, ee-&gt;error_code);
</a><a href="#h12-0-2106" id="h12-0-2106" class="i">+	return xerrorxlib(dpy, ee); /* may call exit */
</a><a href="#h12-0-2107" id="h12-0-2107" class="i">+}
</a><a href="#h12-0-2108" id="h12-0-2108" class="i">+
</a><a href="#h12-0-2109" id="h12-0-2109" class="i">+int
</a><a href="#h12-0-2110" id="h12-0-2110" class="i">+xerrordummy(Display *dpy, XErrorEvent *ee)
</a><a href="#h12-0-2111" id="h12-0-2111" class="i">+{
</a><a href="#h12-0-2112" id="h12-0-2112" class="i">+	return 0;
</a><a href="#h12-0-2113" id="h12-0-2113" class="i">+}
</a><a href="#h12-0-2114" id="h12-0-2114" class="i">+
</a><a href="#h12-0-2115" id="h12-0-2115" class="i">+/* Startup Error handler to check if another window manager
</a><a href="#h12-0-2116" id="h12-0-2116" class="i">+ * is already running. */
</a><a href="#h12-0-2117" id="h12-0-2117" class="i">+int
</a><a href="#h12-0-2118" id="h12-0-2118" class="i">+xerrorstart(Display *dpy, XErrorEvent *ee)
</a><a href="#h12-0-2119" id="h12-0-2119" class="i">+{
</a><a href="#h12-0-2120" id="h12-0-2120" class="i">+	die(&quot;dwm: another window manager is already running&quot;);
</a><a href="#h12-0-2121" id="h12-0-2121" class="i">+	return -1;
</a><a href="#h12-0-2122" id="h12-0-2122" class="i">+}
</a><a href="#h12-0-2123" id="h12-0-2123" class="i">+
</a><a href="#h12-0-2124" id="h12-0-2124" class="i">+void
</a><a href="#h12-0-2125" id="h12-0-2125" class="i">+zoom(const Arg *arg)
</a><a href="#h12-0-2126" id="h12-0-2126" class="i">+{
</a><a href="#h12-0-2127" id="h12-0-2127" class="i">+	Client *c = selmon-&gt;sel;
</a><a href="#h12-0-2128" id="h12-0-2128" class="i">+
</a><a href="#h12-0-2129" id="h12-0-2129" class="i">+	if (!selmon-&gt;lt[selmon-&gt;sellt]-&gt;arrange || !c || c-&gt;isfloating)
</a><a href="#h12-0-2130" id="h12-0-2130" class="i">+		return;
</a><a href="#h12-0-2131" id="h12-0-2131" class="i">+	if (c == nexttiled(selmon-&gt;clients) &amp;&amp; !(c = nexttiled(c-&gt;next)))
</a><a href="#h12-0-2132" id="h12-0-2132" class="i">+		return;
</a><a href="#h12-0-2133" id="h12-0-2133" class="i">+	pop(c);
</a><a href="#h12-0-2134" id="h12-0-2134" class="i">+}
</a><a href="#h12-0-2135" id="h12-0-2135" class="i">+
</a><a href="#h12-0-2136" id="h12-0-2136" class="i">+int
</a><a href="#h12-0-2137" id="h12-0-2137" class="i">+main(int argc, char *argv[])
</a><a href="#h12-0-2138" id="h12-0-2138" class="i">+{
</a><a href="#h12-0-2139" id="h12-0-2139" class="i">+	if (argc == 2 &amp;&amp; !strcmp(&quot;-v&quot;, argv[1]))
</a><a href="#h12-0-2140" id="h12-0-2140" class="i">+		die(&quot;dwm-&quot;VERSION);
</a><a href="#h12-0-2141" id="h12-0-2141" class="i">+	else if (argc != 1)
</a><a href="#h12-0-2142" id="h12-0-2142" class="i">+		die(&quot;usage: dwm [-v]&quot;);
</a><a href="#h12-0-2143" id="h12-0-2143" class="i">+	if (!setlocale(LC_CTYPE, &quot;&quot;) || !XSupportsLocale())
</a><a href="#h12-0-2144" id="h12-0-2144" class="i">+		fputs(&quot;warning: no locale support\n&quot;, stderr);
</a><a href="#h12-0-2145" id="h12-0-2145" class="i">+	if (!(dpy = XOpenDisplay(NULL)))
</a><a href="#h12-0-2146" id="h12-0-2146" class="i">+		die(&quot;dwm: cannot open display&quot;);
</a><a href="#h12-0-2147" id="h12-0-2147" class="i">+	checkotherwm();
</a><a href="#h12-0-2148" id="h12-0-2148" class="i">+	setup();
</a><a href="#h12-0-2149" id="h12-0-2149" class="i">+#ifdef __OpenBSD__
</a><a href="#h12-0-2150" id="h12-0-2150" class="i">+	if (pledge(&quot;stdio rpath proc exec&quot;, NULL) == -1)
</a><a href="#h12-0-2151" id="h12-0-2151" class="i">+		die(&quot;pledge&quot;);
</a><a href="#h12-0-2152" id="h12-0-2152" class="i">+#endif /* __OpenBSD__ */
</a><a href="#h12-0-2153" id="h12-0-2153" class="i">+	scan();
</a><a href="#h12-0-2154" id="h12-0-2154" class="i">+	run();
</a><a href="#h12-0-2155" id="h12-0-2155" class="i">+	cleanup();
</a><a href="#h12-0-2156" id="h12-0-2156" class="i">+	XCloseDisplay(dpy);
</a><a href="#h12-0-2157" id="h12-0-2157" class="i">+	return EXIT_SUCCESS;
</a><a href="#h12-0-2158" id="h12-0-2158" class="i">+}
</a><b>diff --git a/<a id="h13" href="../file/.local/src/dwm/dwm.o.html">.local/src/dwm/dwm.o</a> b/<a href="../file/.local/src/dwm/dwm.o.html">.local/src/dwm/dwm.o</a></b>
Binary files differ.
<b>diff --git a/<a id="h14" href="../file/.local/src/dwm/dwm.png.html">.local/src/dwm/dwm.png</a> b/<a href="../file/.local/src/dwm/dwm.png.html">.local/src/dwm/dwm.png</a></b>
Binary files differ.
<b>diff --git a/<a id="h15" href="../file/.local/src/dwm/transient.c.html">.local/src/dwm/transient.c</a> b/<a href="../file/.local/src/dwm/transient.c.html">.local/src/dwm/transient.c</a></b>
<a href="#h15-0" id="h15-0" class="h">@@ -0,0 +1,42 @@
</a><a href="#h15-0-0" id="h15-0-0" class="i">+/* cc transient.c -o transient -lX11 */
</a><a href="#h15-0-1" id="h15-0-1" class="i">+
</a><a href="#h15-0-2" id="h15-0-2" class="i">+#include &lt;stdlib.h&gt;
</a><a href="#h15-0-3" id="h15-0-3" class="i">+#include &lt;unistd.h&gt;
</a><a href="#h15-0-4" id="h15-0-4" class="i">+#include &lt;X11/Xlib.h&gt;
</a><a href="#h15-0-5" id="h15-0-5" class="i">+#include &lt;X11/Xutil.h&gt;
</a><a href="#h15-0-6" id="h15-0-6" class="i">+
</a><a href="#h15-0-7" id="h15-0-7" class="i">+int main(void) {
</a><a href="#h15-0-8" id="h15-0-8" class="i">+	Display *d;
</a><a href="#h15-0-9" id="h15-0-9" class="i">+	Window r, f, t = None;
</a><a href="#h15-0-10" id="h15-0-10" class="i">+	XSizeHints h;
</a><a href="#h15-0-11" id="h15-0-11" class="i">+	XEvent e;
</a><a href="#h15-0-12" id="h15-0-12" class="i">+
</a><a href="#h15-0-13" id="h15-0-13" class="i">+	d = XOpenDisplay(NULL);
</a><a href="#h15-0-14" id="h15-0-14" class="i">+	if (!d)
</a><a href="#h15-0-15" id="h15-0-15" class="i">+		exit(1);
</a><a href="#h15-0-16" id="h15-0-16" class="i">+	r = DefaultRootWindow(d);
</a><a href="#h15-0-17" id="h15-0-17" class="i">+
</a><a href="#h15-0-18" id="h15-0-18" class="i">+	f = XCreateSimpleWindow(d, r, 100, 100, 400, 400, 0, 0, 0);
</a><a href="#h15-0-19" id="h15-0-19" class="i">+	h.min_width = h.max_width = h.min_height = h.max_height = 400;
</a><a href="#h15-0-20" id="h15-0-20" class="i">+	h.flags = PMinSize | PMaxSize;
</a><a href="#h15-0-21" id="h15-0-21" class="i">+	XSetWMNormalHints(d, f, &amp;h);
</a><a href="#h15-0-22" id="h15-0-22" class="i">+	XStoreName(d, f, &quot;floating&quot;);
</a><a href="#h15-0-23" id="h15-0-23" class="i">+	XMapWindow(d, f);
</a><a href="#h15-0-24" id="h15-0-24" class="i">+
</a><a href="#h15-0-25" id="h15-0-25" class="i">+	XSelectInput(d, f, ExposureMask);
</a><a href="#h15-0-26" id="h15-0-26" class="i">+	while (1) {
</a><a href="#h15-0-27" id="h15-0-27" class="i">+		XNextEvent(d, &amp;e);
</a><a href="#h15-0-28" id="h15-0-28" class="i">+
</a><a href="#h15-0-29" id="h15-0-29" class="i">+		if (t == None) {
</a><a href="#h15-0-30" id="h15-0-30" class="i">+			sleep(5);
</a><a href="#h15-0-31" id="h15-0-31" class="i">+			t = XCreateSimpleWindow(d, r, 50, 50, 100, 100, 0, 0, 0);
</a><a href="#h15-0-32" id="h15-0-32" class="i">+			XSetTransientForHint(d, t, f);
</a><a href="#h15-0-33" id="h15-0-33" class="i">+			XStoreName(d, t, &quot;transient&quot;);
</a><a href="#h15-0-34" id="h15-0-34" class="i">+			XMapWindow(d, t);
</a><a href="#h15-0-35" id="h15-0-35" class="i">+			XSelectInput(d, t, ExposureMask);
</a><a href="#h15-0-36" id="h15-0-36" class="i">+		}
</a><a href="#h15-0-37" id="h15-0-37" class="i">+	}
</a><a href="#h15-0-38" id="h15-0-38" class="i">+
</a><a href="#h15-0-39" id="h15-0-39" class="i">+	XCloseDisplay(d);
</a><a href="#h15-0-40" id="h15-0-40" class="i">+	exit(0);
</a><a href="#h15-0-41" id="h15-0-41" class="i">+}
</a><b>diff --git a/<a id="h16" href="../file/.local/src/dwm/util.c.html">.local/src/dwm/util.c</a> b/<a href="../file/.local/src/dwm/util.c.html">.local/src/dwm/util.c</a></b>
<a href="#h16-0" id="h16-0" class="h">@@ -0,0 +1,36 @@
</a><a href="#h16-0-0" id="h16-0-0" class="i">+/* See LICENSE file for copyright and license details. */
</a><a href="#h16-0-1" id="h16-0-1" class="i">+#include &lt;stdarg.h&gt;
</a><a href="#h16-0-2" id="h16-0-2" class="i">+#include &lt;stdio.h&gt;
</a><a href="#h16-0-3" id="h16-0-3" class="i">+#include &lt;stdlib.h&gt;
</a><a href="#h16-0-4" id="h16-0-4" class="i">+#include &lt;string.h&gt;
</a><a href="#h16-0-5" id="h16-0-5" class="i">+
</a><a href="#h16-0-6" id="h16-0-6" class="i">+#include &quot;util.h&quot;
</a><a href="#h16-0-7" id="h16-0-7" class="i">+
</a><a href="#h16-0-8" id="h16-0-8" class="i">+void
</a><a href="#h16-0-9" id="h16-0-9" class="i">+die(const char *fmt, ...)
</a><a href="#h16-0-10" id="h16-0-10" class="i">+{
</a><a href="#h16-0-11" id="h16-0-11" class="i">+	va_list ap;
</a><a href="#h16-0-12" id="h16-0-12" class="i">+
</a><a href="#h16-0-13" id="h16-0-13" class="i">+	va_start(ap, fmt);
</a><a href="#h16-0-14" id="h16-0-14" class="i">+	vfprintf(stderr, fmt, ap);
</a><a href="#h16-0-15" id="h16-0-15" class="i">+	va_end(ap);
</a><a href="#h16-0-16" id="h16-0-16" class="i">+
</a><a href="#h16-0-17" id="h16-0-17" class="i">+	if (fmt[0] &amp;&amp; fmt[strlen(fmt)-1] == &#39;:&#39;) {
</a><a href="#h16-0-18" id="h16-0-18" class="i">+		fputc(&#39; &#39;, stderr);
</a><a href="#h16-0-19" id="h16-0-19" class="i">+		perror(NULL);
</a><a href="#h16-0-20" id="h16-0-20" class="i">+	} else {
</a><a href="#h16-0-21" id="h16-0-21" class="i">+		fputc(&#39;\n&#39;, stderr);
</a><a href="#h16-0-22" id="h16-0-22" class="i">+	}
</a><a href="#h16-0-23" id="h16-0-23" class="i">+
</a><a href="#h16-0-24" id="h16-0-24" class="i">+	exit(1);
</a><a href="#h16-0-25" id="h16-0-25" class="i">+}
</a><a href="#h16-0-26" id="h16-0-26" class="i">+
</a><a href="#h16-0-27" id="h16-0-27" class="i">+void *
</a><a href="#h16-0-28" id="h16-0-28" class="i">+ecalloc(size_t nmemb, size_t size)
</a><a href="#h16-0-29" id="h16-0-29" class="i">+{
</a><a href="#h16-0-30" id="h16-0-30" class="i">+	void *p;
</a><a href="#h16-0-31" id="h16-0-31" class="i">+
</a><a href="#h16-0-32" id="h16-0-32" class="i">+	if (!(p = calloc(nmemb, size)))
</a><a href="#h16-0-33" id="h16-0-33" class="i">+		die(&quot;calloc:&quot;);
</a><a href="#h16-0-34" id="h16-0-34" class="i">+	return p;
</a><a href="#h16-0-35" id="h16-0-35" class="i">+}
</a><b>diff --git a/<a id="h17" href="../file/.local/src/dwm/util.h.html">.local/src/dwm/util.h</a> b/<a href="../file/.local/src/dwm/util.h.html">.local/src/dwm/util.h</a></b>
<a href="#h17-0" id="h17-0" class="h">@@ -0,0 +1,8 @@
</a><a href="#h17-0-0" id="h17-0-0" class="i">+/* See LICENSE file for copyright and license details. */
</a><a href="#h17-0-1" id="h17-0-1" class="i">+
</a><a href="#h17-0-2" id="h17-0-2" class="i">+#define MAX(A, B)               ((A) &gt; (B) ? (A) : (B))
</a><a href="#h17-0-3" id="h17-0-3" class="i">+#define MIN(A, B)               ((A) &lt; (B) ? (A) : (B))
</a><a href="#h17-0-4" id="h17-0-4" class="i">+#define BETWEEN(X, A, B)        ((A) &lt;= (X) &amp;&amp; (X) &lt;= (B))
</a><a href="#h17-0-5" id="h17-0-5" class="i">+
</a><a href="#h17-0-6" id="h17-0-6" class="i">+void die(const char *fmt, ...);
</a><a href="#h17-0-7" id="h17-0-7" class="i">+void *ecalloc(size_t nmemb, size_t size);
</a><b>diff --git a/<a id="h18" href="../file/.local/src/dwm/util.o.html">.local/src/dwm/util.o</a> b/<a href="../file/.local/src/dwm/util.o.html">.local/src/dwm/util.o</a></b>
Binary files differ.
</pre>
</div>
</body>
</html>
